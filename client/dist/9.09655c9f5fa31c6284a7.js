(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2q2i":function(t,e,n){"use strict";n.r(e),n.d(e,"CommunityGeneratorsModule",(function(){return O}));var i=n("ofXK"),c=n("tyNb"),s=n("quSY"),o=n("fXoL"),a=n("n2Wo"),r=n("biaL"),b=n("3sFK"),l=n("k1Ex"),d=n("nZ6g"),u=n("a8/g"),p=n("STbY"),m=n("48o/"),f=n("cvgN"),g=n("bTqV"),v=n("f0Cb"),h=n("bv9b");function k(t,e){1&t&&(o.Rb(0,"div",10),o.Ec(1,"No public generators available."),o.Qb())}function I(t,e){if(1&t&&(o.Rb(0,"div",34),o.Ec(1),o.Qb()),2&t){const t=o.dc(2).$implicit;o.Ab(1),o.Gc(" ",t.description," ")}}function x(t,e){1&t&&o.Mb(0,"mat-divider")}function Q(t,e){if(1&t&&(o.Rb(0,"tr"),o.Rb(1,"td",27),o.Ec(2,"Published On:"),o.Qb(),o.Rb(3,"td",28),o.Ec(4),o.Qb(),o.Qb()),2&t){const t=o.dc(2).$implicit,e=o.dc(2);o.Ab(4),o.Fc(e.formatDate(t.lastUpdated))}}const R=function(t){return{stack:t}};function S(t,e){if(1&t&&(o.Rb(0,"div",21),o.Rb(1,"div",22),o.Cc(2,I,2,1,"div",23),o.Cc(3,x,1,0,"mat-divider",24),o.Rb(4,"div",25),o.Rb(5,"table",26),o.Rb(6,"tr"),o.Rb(7,"td",27),o.Ec(8,"Version:"),o.Qb(),o.Rb(9,"td",28),o.Ec(10),o.Qb(),o.Qb(),o.Cc(11,Q,5,1,"tr",24),o.Qb(),o.Qb(),o.Qb(),o.Rb(12,"div",29),o.Rb(13,"button",30),o.Ec(14,"More Info "),o.Mb(15,"i",31),o.Qb(),o.Rb(16,"button",32),o.Rb(17,"div",13),o.Rb(18,"div",8),o.Ec(19,"Install..."),o.Qb(),o.Rb(20,"div",15),o.Mb(21,"i",33),o.Qb(),o.Qb(),o.Qb(),o.Qb(),o.Qb()),2&t){const t=o.dc().$implicit;o.dc(2);const e=o.oc(6);o.Ab(2),o.jc("ngIf",t.description),o.Ab(1),o.jc("ngIf",t.description),o.Ab(7),o.Fc(t.version),o.Ab(1),o.jc("ngIf",t.lastUpdated),o.Ab(5),o.jc("matMenuTriggerFor",e)("matMenuTriggerData",o.lc(6,R,t))}}function w(t,e){if(1&t){const t=o.Sb();o.Rb(0,"div",11),o.Rb(1,"div",12),o.Rb(2,"div",13),o.Rb(3,"div",1),o.Mb(4,"sj-logo"),o.Qb(),o.Rb(5,"div",1),o.Mb(6,"stack-name",14),o.Qb(),o.Rb(7,"div",15),o.Rb(8,"button",16),o.Zb("click",(function(){o.rc(t);const n=e.$implicit;return o.dc(2).installStack(n)})),o.Ec(9,"Install"),o.Qb(),o.Qb(),o.Rb(10,"div",17),o.Rb(11,"button",18),o.Zb("click",(function(){o.rc(t);const n=e.$implicit;return o.dc(2).toggleItemList(n)})),o.Mb(12,"i",19),o.Qb(),o.Qb(),o.Qb(),o.Cc(13,S,22,8,"div",20),o.Qb(),o.Qb()}if(2&t){const t=e.$implicit,n=o.dc(2);o.Ab(6),o.jc("name",t.displayName)("prefix",null==t.organization?null:t.organization.prefix),o.Ab(6),o.Db("fa-chevron-up",n.isItemOpen(t))("fa-chevron-down",!n.isItemOpen(t)),o.Ab(1),o.jc("ngIf",n.isItemOpen(t))}}function C(t,e){if(1&t&&(o.Pb(0),o.Cc(1,k,2,0,"div",7),o.Rb(2,"div",8),o.Cc(3,w,14,7,"div",9),o.Qb(),o.Ob()),2&t){const t=o.dc();o.Ab(1),o.jc("ngIf",0===t.stacks.length),o.Ab(2),o.jc("ngForOf",t.stacks)}}function E(t,e){1&t&&(o.Rb(0,"div",35),o.Mb(1,"mat-progress-bar",36),o.Qb())}function y(t,e){if(1&t){const t=o.Sb();o.Rb(0,"button",37),o.Zb("click",(function(){o.rc(t);const n=e.stack;return o.dc().installStack(n)})),o.Ec(1,"Install Into Current "),o.Rb(2,"span",38),o.Ec(3),o.Qb(),o.Qb(),o.Rb(4,"button",39),o.Zb("click",(function(){o.rc(t);const n=e.stack;return o.dc().installIntoNewWorkspace(n)})),o.Ec(5,"Install Into New Workspace"),o.Qb()}if(2&t){const t=o.dc();o.Ab(3),o.Fc(t.currentEnvironment.type)}}const L=c.f.forChild([{path:"",component:(()=>{class t{constructor(t,e,n,i,c,o){this.stackService=t,this.userService=e,this.appEnvironmentService=n,this.myItemsService=i,this.dialogService=c,this.appConsoleService=o,this.itemList={},this.subs=new s.a}ngOnInit(){this.subs.add(this.stackService.getPublicStacks().subscribe(t=>{this.stacks=t},t=>this.stacks=[])),this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>this.currentEnvironment=t)),this.subs.add(this.userService.user$.subscribe(t=>this.isLoggedIn=t.isLoggedIn))}ngOnDestroy(){this.subs.unsubscribe()}installStack(t){this.appConsoleService.openBluConsole({command:"install "+t.displayName,extraInfo:{stack:t,source:"remote"}})}toggleItemList(t){const e=t.eid;this.itemList[e]=!this.itemList[e]}isItemOpen(t){return this.itemList[t.eid]}installIntoNewWorkspace(t){this.isLoggedIn?this.myItemsService.createNewWorkspace(t):this.dialogService.openMustLoginDialog()}formatDate(t){return new Date(t).toLocaleDateString()}formatInstallCount(t){return t<1e3?"<1k":t<1e5?t-t%1e3:t<1e6?t-t%1e4:void 0}starStack(t){this.stackService.starStack(t.eid).subscribe(e=>{t.metadata=e},console.error)}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(a.a),o.Lb(r.a),o.Lb(b.a),o.Lb(l.a),o.Lb(d.a),o.Lb(u.a))},t.\u0275cmp=o.Fb({type:t,selectors:[["community-generators"]],decls:8,vars:2,consts:[[1,"basic-page","flex-column",2,"padding","20px 10px"],[1,"pl-2"],[4,"ngIf","ngIfElse"],["loading",""],["xPosition","before"],["installMenu",""],["matMenuContent",""],["class","text-small text-muted p-2",4,"ngIf"],[1,""],["class","p-2 align-top","style","width: 600px;",4,"ngFor","ngForOf"],[1,"text-small","text-muted","p-2"],[1,"p-2","align-top",2,"width","600px"],[1,"shadow","p-2","border","rounded"],[1,"d-flex","align-items-center"],[3,"name","prefix"],[1,"ml-auto"],["mat-button","",3,"click"],[1,"ml-1"],["mat-button","","mat-icon-button","",3,"click"],[1,"fa"],["class","border-top p-2 d-flex align-items-start flex-grow-1",4,"ngIf"],[1,"border-top","p-2","d-flex","align-items-start","flex-grow-1"],[1,"d-flex","flex-column","flex-grow-1","flex-shrink-0"],["class","py-3 pl-2",4,"ngIf"],[4,"ngIf"],[1,"py-2","pl-1"],[1,"stack-info-table"],[1,"text-muted"],[1,"text-small"],[1,"ml-auto","p-2","border-left","h-100"],["mat-button",""],[1,"fa","fa-external-link-alt","ml-2","text-muted"],["mat-button","",1,"d-block","w-100",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-chevron-down","ml-2"],[1,"py-3","pl-2"],[1,"p-2"],["mode","indeterminate"],["mat-menu-item","",3,"click"],[1,"text-capitalize"],["mat-menu-item","",1,"d-block",3,"click"]],template:function(t,e){if(1&t&&(o.Rb(0,"div",0),o.Rb(1,"div",1),o.Cc(2,C,4,2,"ng-container",2),o.Cc(3,E,2,0,"ng-template",null,3,o.Dc),o.Qb(),o.Qb(),o.Rb(5,"mat-menu",4,5),o.Cc(7,y,6,1,"ng-template",6),o.Qb()),2&t){const t=o.oc(4);o.Ab(2),o.jc("ngIf",e.stacks)("ngIfElse",t)}},directives:[i.t,p.e,p.a,i.s,m.a,f.a,g.b,p.d,v.a,h.a,p.b],styles:["[_nghost-%COMP%]{display:flex;flex:1}.stack-info-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px}"]}),t})(),children:[]}]);var M=n("q2+V"),A=n("bKa3");let O=(()=>{class t{}return t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,L,h.b,g.c,M.a,A.a,v.b,p.c]]}),t})()},k1Ex:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n("HdQx"),c=n("b5vT"),s=n("IzEk"),o=n("fXoL"),a=n("0IaG"),r=n("a8/g"),b=n("xm+p"),l=n("3sFK");let d=(()=>{class t{constructor(t,e,n,i){this.dialog=t,this.appConsoleService=e,this.navigationService=n,this.appEnvironmentService=i}createNewWorkspace(t){const e=this.dialog.open(c.a,{data:{type:i.a.Environment.Type.Workspace,stack:t},disableClose:!0,minWidth:"600px",position:{top:"100px"},autoFocus:!0});return e.afterClosed().subscribe(e=>{e.continue&&this.appEnvironmentService.switchToEnvironment(e.newEnvironment.id).subscribe(e=>{setTimeout(()=>{this.appConsoleService.openBluConsole({command:"install "+t.displayName,extraInfo:{stack:t}}).afterClosed().pipe(Object(s.a)(1)).subscribe(t=>this.navigationService.navigateTo(["workspace"]))},250)})}),e}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.b),o.Vb(r.a),o.Vb(b.a),o.Vb(l.a))},t.\u0275prov=o.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);