(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"4uq3":function(t,e,i){"use strict";i.r(e),i.d(e,"DataModelListModule",(function(){return gt}));var o=i("ofXK"),s=i("tyNb");class a{constructor(t,e=[],i=!1){this.name=t,this.properties=e,this.auth=i,this.bluMapping={repeater:{name:"modelProperties",keys:[{name:"name",mappedName:"propertyName"},{name:"type",mappedName:"propertyType"},{name:"required",mappedName:"propertyRequired"},{name:"values",mappedName:"propertyValue"},{name:"label",mappedName:"propertyLabel"},{name:"description",mappedName:"propertyDescription"},{name:"validationRegex",mappedName:"propertyValidationRegex"}]}}}static newProperty(){return{name:"",type:"string",required:!1,description:"",label:"",validationRegex:"",visible:!0,values:[]}}static load(t){return t?t.map(t=>new a(t.name,t.properties,t.auth)):[]}get hasProperties(){return this.properties.length>0}updateProperty(t,e){const i=this.properties.findIndex(e=>e===t);i>=0&&(this.properties[i]=e)}addProperty(t){this.properties.push(t)}deleteProperty(t){this.properties.includes(t)&&this.properties.splice(this.properties.indexOf(t),1)}get bluString(){return`--modelName="${this.name}" --properties=${this.propertiesString}`}get propertiesString(){return this.properties.map(t=>`${t.name},${t.type},${t.required},${t.validationRegex}`).join("|")}getRepeater(){const t={name:this.bluMapping.repeater.name,description:"",args:[],values:[]};return this.properties.filter(t=>t.visible).forEach(e=>{t.values.push(this.bluMapping.repeater.keys.map(t=>({name:t.mappedName,value:Array.isArray(e[t.name])?e[t.name].join(":"):e[t.name]})))}),t}getBluParameters(){const t=[{name:"modelName",value:this.name}];return this.auth&&t.push({name:"auth",value:"true"}),{variables:t,options:"",repeaters:[this.getRepeater()]}}}var r=i("fXoL"),n=i("Ni13");let c=(()=>{class t{constructor(t){this.localStorageService=t,this.storageKey="dataModels"}getDataModels(){return a.load(this.localStorageService.getItem(this.storageKey))}saveDataModels(t){this.localStorageService.setItem(this.storageKey,t)}}return t.\u0275fac=function(e){return new(e||t)(r.qc(n.a))},t.\u0275prov=r.Yb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=i("bTqV"),d=i("thzI"),h=i("3Pt+"),p=i("kmnG"),u=i("qFsG");let m=(()=>{class t{constructor(t){this.fb=t,this.onChange=new r.r,this.onDelete=new r.r,this.onCancel=new r.r}ngOnInit(){this.form=this.fb.group({name:[this.dataModel.name]}),this.form.valueChanges.subscribe(t=>{})}ngOnDestroy(){}saveForm(){this.onChange.emit(this.form.value)}deleteModel(){this.onDelete.emit(this.dataModel)}cancel(){this.onCancel.emit(this.dataModel)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(h.f))},t.\u0275cmp=r.Wb({type:t,selectors:[["model-structure-form"]],inputs:{dataModel:"dataModel"},outputs:{onChange:"onChange",onDelete:"onDelete",onCancel:"onCancel"},decls:15,vars:1,consts:[[1,"p-2","d-flex","align-items-center","border-bottom"],[1,""],[1,"ml-auto"],[1,"fa","fa-trash","cursor-pointer",3,"click"],[1,"p-2"],[3,"formGroup"],[1,"mat-form-field"],["placeholder","Model Name","matInput","","formControlName","name"],[1,"row"],[1,"col","text-right"],["mat-button","","mat-raised-button","",1,"mr-1",3,"click"],["mat-button","","mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.ic(0,"div",0),r.ic(1,"div",1),r.bd(2,"Model Settings"),r.hc(),r.ic(3,"div",2),r.ic(4,"i",3),r.uc("click",(function(){return e.deleteModel()})),r.hc(),r.hc(),r.hc(),r.ic(5,"div",4),r.ic(6,"form",5),r.ic(7,"mat-form-field",6),r.dc(8,"input",7),r.hc(),r.hc(),r.ic(9,"div",8),r.ic(10,"div",9),r.ic(11,"button",10),r.uc("click",(function(){return e.cancel()})),r.bd(12,"Cancel"),r.hc(),r.ic(13,"button",11),r.uc("click",(function(){return e.saveForm()})),r.bd(14,"Save"),r.hc(),r.hc(),r.hc(),r.hc()),2&t&&(r.Ob(6),r.Ec("formGroup",e.form))},directives:[h.z,h.q,h.k,p.c,u.b,h.c,h.p,h.i,l.a],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var f=i("rDax"),b=i("u47x"),v=i("FKr1"),y=i("vxfF"),g=i("8LU1"),_=i("FtGj"),O=i("nLfN"),M=i("XNiG"),w=i("itXk"),C=i("GyhO"),I=i("HDdC"),x=i("IzEk"),P=i("7o/Q");class D{constructor(t){this.total=t}call(t,e){return e.subscribe(new k(t,this.total))}}class k extends P.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var T=i("Kj3r"),E=i("lJxs"),j=i("JX91"),R=i("1G5W");const S=new Set;let N,q=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):F}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!S.has(t))try{N||(N=document.createElement("style"),N.setAttribute("type","text/css"),document.head.appendChild(N)),N.sheet&&(N.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),S.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.qc(O.a))},t.\u0275prov=Object(r.Yb)({factory:function(){return new t(Object(r.qc)(O.a))},token:t,providedIn:"root"}),t})();function F(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Z=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new M.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return L(Object(g.b)(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){const e=L(Object(g.b)(t)).map(t=>this._registerQuery(t).observable);let i=Object(w.a)(e);return i=Object(C.a)(i.pipe(Object(x.a)(1)),i.pipe(t=>t.lift(new D(1)),Object(T.a)(0))),i.pipe(Object(E.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),i={observable:new I.a(t=>{const i=e=>this._zone.run(()=>t.next(e));return e.addListener(i),()=>{e.removeListener(i)}}).pipe(Object(j.a)(e),Object(E.a)(e=>({query:t,matches:e.matches})),Object(R.a)(this._destroySubject)),mql:e};return this._queries.set(t,i),i}}return t.\u0275fac=function(e){return new(e||t)(r.qc(q),r.qc(r.H))},t.\u0275prov=Object(r.Yb)({factory:function(){return new t(Object(r.qc)(q),Object(r.qc)(r.H))},token:t,providedIn:"root"}),t})();function L(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var G=i("+rOU"),A=i("R0Ic"),V=i("cH1L");const X={tooltipState:Object(A.n)("state",[Object(A.k)("initial, void, hidden",Object(A.l)({opacity:0,transform:"scale(0)"})),Object(A.k)("visible",Object(A.l)({transform:"scale(1)"})),Object(A.m)("* => visible",Object(A.e)("200ms cubic-bezier(0, 0, 0.2, 1)",Object(A.h)([Object(A.l)({opacity:0,transform:"scale(0)",offset:0}),Object(A.l)({opacity:.5,transform:"scale(0.99)",offset:.5}),Object(A.l)({opacity:1,transform:"scale(1)",offset:1})]))),Object(A.m)("* => hidden",Object(A.e)("100ms cubic-bezier(0, 0, 0.2, 1)",Object(A.l)({opacity:0})))])},H=Object(O.f)({passive:!0});function Y(t){return Error(`Tooltip position "${t}" is invalid.`)}const $=new r.w("mat-tooltip-scroll-strategy"),z={provide:$,deps:[f.c],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},K=new r.w("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let B=(()=>{class t{constructor(t,e,i,o,s,a,r,n,c,l,d,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=i,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=r,this._focusMonitor=n,this._dir=l,this._defaultOptions=d,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new M.a,this._handleKeydown=t=>{this._isTooltipVisible()&&t.keyCode===_.e&&!Object(_.o)(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,d&&(d.position&&(this.position=d.position),d.touchGestures&&(this.touchGestures=d.touchGestures)),n.monitor(e).pipe(Object(R.a)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&s.run(()=>this.show()):s.run(()=>this.hide(0))}),s.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(g.c)(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?`${t}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){this._setupPointerEvents()}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((e,i)=>{t.removeEventListener(i,e,H)}),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new G.d(U,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Object(R.a)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(Object(R.a)(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Object(R.a)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),i=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),i.main),Object.assign(Object.assign({},e.fallback),i.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let i;if("above"==e||"below"==e)i={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)i={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw Y(e);i={originX:"end",originY:"center"}}const{x:o,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let i;if("above"==e)i={overlayX:"center",overlayY:"bottom"};else if("below"==e)i={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)i={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw Y(e);i={overlayX:"start",overlayY:"center"}}const{x:o,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(x.a)(1),Object(R.a)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEvents(){if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",t).set("touchcancel",t).set("touchstart",()=>{clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)})}}else this._passiveListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide());this._passiveListeners.forEach((t,e)=>{this._elementRef.nativeElement.addEventListener(e,t,H)})}_disableNativeGesturesIfNecessary(){const t=this._elementRef.nativeElement,e=t.style,i=this.touchGestures;"off"!==i&&(("on"===i||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(e.userSelect=e.msUserSelect=e.webkitUserSelect=e.MozUserSelect="none"),"on"!==i&&t.draggable||(e.webkitUserDrag="none"),e.touchAction="none",e.webkitTapHighlightColor="transparent")}}return t.\u0275fac=function(e){return new(e||t)(r.cc(f.c),r.cc(r.o),r.cc(y.b),r.cc(r.Z),r.cc(r.H),r.cc(O.a),r.cc(b.c),r.cc(b.f),r.cc($),r.cc(V.b,8),r.cc(K,8),r.cc(r.o))},t.\u0275dir=r.Xb({type:t,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),U=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new M.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.h),r.cc(Z))},t.\u0275cmp=r.Wb({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&r.uc("click",(function(){return e._handleBodyInteraction()}),!1,r.Oc),2&t&&r.Yc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(r.ic(0,"div",0),r.uc("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),r.zc(1,"async"),r.bd(2),r.hc()),2&t){var i;const t=null==(i=r.Ac(1,5,e._isHandset))?null:i.matches;r.Tb("mat-tooltip-handset",t),r.Ec("ngClass",e.tooltipClass)("@state",e._visibility),r.Ob(2),r.cd(e.message)}},directives:[o.r],pipes:[o.b],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[X.tooltipState]},changeDetection:0}),t})(),W=(()=>{class t{}return t.\u0275mod=r.ac({type:t}),t.\u0275inj=r.Zb({factory:function(e){return new(e||t)},providers:[z],imports:[[b.a,o.c,f.f,v.e],v.e,y.a]}),t})();var Q=i("d3UM"),J=i("QibW");function tt(t,e){1&t&&(r.ic(0,"mat-error"),r.bd(1,"Input is required"),r.hc())}function et(t,e){1&t&&(r.ic(0,"mat-error"),r.bd(1,"Input is required"),r.hc())}function it(t,e){if(1&t){const t=r.jc();r.ic(0,"div",0),r.ic(1,"div",26),r.ic(2,"mat-form-field"),r.dc(3,"input",27),r.hc(),r.hc(),r.ic(4,"div",19),r.uc("click",(function(){r.Rc(t);const i=e.index;return r.yc().deleteItem("values",i)})),r.dc(5,"i",28),r.hc(),r.hc()}if(2&t){const t=e.index;r.Ob(3),r.Ec("formControlName",t)}}let ot=(()=>{class t{constructor(t){this.fb=t,this.onChange=new r.r,this.onDelete=new r.r,this.onCancel=new r.r}ngOnInit(){this.form=this.fb.group({name:[this.dataModelProperty.name,[h.x.required]],type:[this.dataModelProperty.type,[h.x.required]],required:[this.dataModelProperty.required],description:[this.dataModelProperty.description],label:[this.dataModelProperty.label],validationRegex:[this.dataModelProperty.validationRegex],visible:[this.dataModelProperty.visible],values:this.fb.array(this.dataModelProperty.values||[])}),this.form.valueChanges.subscribe(t=>{console.log("form data",t)})}get f(){return this.form.controls}addItem(t){this.f[t].push(this.fb.control(""))}deleteItem(t,e){this.f[t].removeAt(e)}ngOnDestroy(){}cancel(){this.onCancel.emit(this.dataModelProperty)}saveForm(){this.onChange.emit(this.form.value)}deleteProperty(){this.onDelete.emit(this.dataModelProperty)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(h.f))},t.\u0275cmp=r.Wb({type:t,selectors:[["model-property-form"]],inputs:{dataModelProperty:"dataModelProperty"},outputs:{onChange:"onChange",onDelete:"onDelete",onCancel:"onCancel"},decls:67,vars:13,consts:[[1,"d-flex","align-items-center"],[1,"small","text-muted"],[1,"ml-auto"],[1,"fa","fa-trash","cursor-pointer","small",3,"click"],[1,""],[1,"mat-form",3,"formGroup"],[1,"mat-form-field"],["placeholder","Property Name","matInput","","formControlName","name","required",""],[4,"ngIf"],["formControlName","type","required",""],[3,"value"],["placeholder","Label","matInput","","formControlName","label"],["placeholder","Description","matInput","","formControlName","description"],["placeholder","Validation Regex","matInput","","formControlName","validationRegex"],["aria-label","Select an option","formControlName","required",1,"mat-radio-group"],["id","radio-group"],[1,"mat-radio-button",3,"value"],["formArrayName","values",1,"form-array-group"],[1,"d-flex","align-items-center","group-header"],[1,"ml-auto","cursor-pointer",3,"click"],[1,"fa","fa-plus-circle"],["class","d-flex align-items-center",4,"ngFor","ngForOf"],[1,"row"],[1,"col","text-right"],["mat-button","","mat-raised-button","",1,"mr-2",3,"click"],["mat-button","","mat-raised-button","",3,"click"],[1,"w-100","pr-3"],["placeholder","Value","matInput","",3,"formControlName"],[1,"fa","fa-trash"]],template:function(t,e){1&t&&(r.ic(0,"div",0),r.ic(1,"div",1),r.bd(2,"Property Settings"),r.hc(),r.ic(3,"div",2),r.ic(4,"i",3),r.uc("click",(function(){return e.deleteProperty()})),r.hc(),r.hc(),r.hc(),r.ic(5,"div",4),r.ic(6,"form",5),r.ic(7,"mat-form-field",6),r.dc(8,"input",7),r.ic(9,"mat-hint"),r.bd(10,"Name of the property"),r.hc(),r.Zc(11,tt,2,0,"mat-error",8),r.hc(),r.ic(12,"mat-form-field",6),r.ic(13,"mat-label"),r.bd(14,"Type"),r.hc(),r.ic(15,"mat-select",9),r.ic(16,"mat-option",10),r.bd(17,"String"),r.hc(),r.ic(18,"mat-option",10),r.bd(19,"Email"),r.hc(),r.ic(20,"mat-option",10),r.bd(21,"Password"),r.hc(),r.ic(22,"mat-option",10),r.bd(23,"Number"),r.hc(),r.ic(24,"mat-option",10),r.bd(25,"Boolean"),r.hc(),r.ic(26,"mat-option",10),r.bd(27,"List"),r.hc(),r.ic(28,"mat-option",10),r.bd(29,"Array"),r.hc(),r.hc(),r.ic(30,"mat-hint"),r.bd(31,"Property Data type"),r.hc(),r.Zc(32,et,2,0,"mat-error",8),r.hc(),r.ic(33,"mat-form-field",6),r.dc(34,"input",11),r.ic(35,"mat-hint"),r.bd(36,"Readable name that appears on forms"),r.hc(),r.hc(),r.ic(37,"mat-form-field",6),r.dc(38,"input",12),r.ic(39,"mat-hint"),r.bd(40,"Property description that appears on forms"),r.hc(),r.hc(),r.ic(41,"mat-form-field",6),r.dc(42,"input",13),r.ic(43,"mat-hint"),r.bd(44,"Regex to validate the property"),r.hc(),r.hc(),r.ic(45,"div",4),r.ic(46,"mat-radio-group",14),r.ic(47,"label",15),r.bd(48,"Required: "),r.hc(),r.ic(49,"mat-radio-button",16),r.bd(50,"True"),r.hc(),r.ic(51,"mat-radio-button",16),r.bd(52,"False"),r.hc(),r.hc(),r.hc(),r.ic(53,"div",17),r.ic(54,"div",18),r.ic(55,"div"),r.ic(56,"h6"),r.bd(57,"Default Value(s)"),r.hc(),r.hc(),r.ic(58,"div",19),r.uc("click",(function(){return e.addItem("values")})),r.dc(59,"i",20),r.hc(),r.hc(),r.Zc(60,it,6,1,"div",21),r.hc(),r.hc(),r.ic(61,"div",22),r.ic(62,"div",23),r.ic(63,"button",24),r.uc("click",(function(){return e.cancel()})),r.bd(64,"Cancel"),r.hc(),r.ic(65,"button",25),r.uc("click",(function(){return e.saveForm()})),r.bd(66,"Save"),r.hc(),r.hc(),r.hc(),r.hc()),2&t&&(r.Ob(6),r.Ec("formGroup",e.form),r.Ob(5),r.Ec("ngIf",null==e.f.name||null==e.f.name.errors?null:e.f.name.errors.required),r.Ob(5),r.Ec("value","string"),r.Ob(2),r.Ec("value","email"),r.Ob(2),r.Ec("value","password"),r.Ob(2),r.Ec("value","number"),r.Ob(2),r.Ec("value","boolean"),r.Ob(2),r.Ec("value","list"),r.Ob(2),r.Ec("value","array"),r.Ob(4),r.Ec("ngIf",null==e.f.type||null==e.f.type.errors?null:e.f.type.errors.required),r.Ob(17),r.Ec("value",!0),r.Ob(2),r.Ec("value",!1),r.Ob(9),r.Ec("ngForOf",null==e.f.values?null:e.f.values.controls))},directives:[h.z,h.q,h.k,p.c,u.b,h.c,h.p,h.i,h.w,p.f,o.u,p.g,Q.a,v.i,J.b,J.a,h.e,o.t,l.a,p.b],styles:[""]}),t})();function st(t,e){if(1&t){const t=r.jc();r.ic(0,"div",3),r.ic(1,"model-structure-form",4),r.uc("onDelete",(function(e){return r.Rc(t),r.yc().deleteModel(e)}))("onCancel",(function(e){return r.Rc(t),r.yc().cancelEditModel(e)}))("onChange",(function(e){return r.Rc(t),r.yc().updateDataModel(e)})),r.hc(),r.hc()}if(2&t){const t=r.yc();r.Ob(1),r.Ec("dataModel",t.dataModel)}}function at(t,e){1&t&&(r.ic(0,"div",23),r.bd(1,"Properties"),r.hc())}function rt(t,e){1&t&&(r.ic(0,"span",23),r.bd(1,"[required]"),r.hc())}function nt(t,e){if(1&t){const t=r.jc();r.ic(0,"div",25),r.ic(1,"div",26),r.uc("click",(function(){r.Rc(t);const i=e.$implicit;return r.yc(4).editDataProperty(i)})),r.ic(2,"div",27),r.uc("click",(function(i){r.Rc(t);const o=e.$implicit;return r.yc(4).toggleVisibility(o,i)})),r.dc(3,"i",28),r.hc(),r.ic(4,"div",29),r.bd(5),r.Zc(6,rt,2,0,"span",17),r.hc(),r.ic(7,"div",30),r.bd(8),r.hc(),r.ic(9,"div",31),r.dc(10,"i",32),r.hc(),r.hc(),r.hc()}if(2&t){const t=e.$implicit;r.Ob(3),r.Tb("data-property-visible",t.visible)("data-property-hidden",!t.visible),r.Ob(2),r.dd("",t.name," "),r.Ob(1),r.Ec("ngIf",t.required),r.Ob(2),r.cd(t.type)}}function ct(t,e){if(1&t&&(r.ic(0,"div",3),r.Zc(1,nt,11,7,"div",24),r.hc()),2&t){const t=r.yc(3);r.Ob(1),r.Ec("ngForOf",t.dataModel.properties)}}function lt(t,e){1&t&&(r.ic(0,"div",33),r.bd(1," Model has no properties "),r.hc())}function dt(t,e){if(1&t){const t=r.jc();r.ic(0,"div"),r.ic(1,"div",3),r.ic(2,"div",16),r.Zc(3,at,2,0,"div",17),r.ic(4,"div",18),r.uc("click",(function(){return r.Rc(t),r.yc(2).addNewProperty()})),r.bd(5,"Add Property"),r.hc(),r.ic(6,"div",19),r.uc("click",(function(){return r.Rc(t),r.yc(2).addNewProperty()})),r.dc(7,"i",20),r.hc(),r.hc(),r.hc(),r.Zc(8,ct,2,1,"div",21),r.Zc(9,lt,2,0,"div",22),r.hc()}if(2&t){const t=r.yc(2);r.Ob(3),r.Ec("ngIf",t.dataModel.hasProperties),r.Ob(5),r.Ec("ngIf",t.dataModel.hasProperties),r.Ob(1),r.Ec("ngIf",!t.dataModel.hasProperties)}}function ht(t,e){if(1&t){const t=r.jc();r.ic(0,"div",34),r.ic(1,"model-property-form",35),r.uc("onDelete",(function(e){return r.Rc(t),r.yc(2).deleteProperty(e)}))("onCancel",(function(){return r.Rc(t),r.yc(2).cancelEditProperty()}))("onChange",(function(e){return r.Rc(t),r.yc(2).updateDataProperty(e)})),r.hc(),r.hc()}if(2&t){const t=r.yc(2);r.Ob(1),r.Ec("dataModelProperty",t.propertyToEdit)}}function pt(t,e){if(1&t){const t=r.jc();r.ic(0,"div",5),r.ic(1,"div",6),r.uc("click",(function(){r.Rc(t);const e=r.yc();return e.toggleModelAuth(e.dataModel)})),r.dc(2,"i",7),r.hc(),r.ic(3,"div",8),r.bd(4),r.hc(),r.ic(5,"div",9),r.uc("click",(function(){return r.Rc(t),r.yc().launchConsole()})),r.dc(6,"i",10),r.hc(),r.ic(7,"div",11),r.uc("click",(function(){return r.Rc(t),r.yc().editModel()})),r.dc(8,"i",12),r.hc(),r.hc(),r.ic(9,"div",13),r.Zc(10,dt,10,3,"div",14),r.Zc(11,ht,2,1,"ng-template",null,15,r.ad),r.hc()}if(2&t){const t=r.Nc(12),e=r.yc();r.Ob(1),r.Ec("matTooltip",(e.dataModel.auth?"Requires":"Does not require")+" user authentication"),r.Ob(1),r.Tb("fa-lock",e.dataModel.auth)("fa-lock-open",!e.dataModel.auth),r.Ob(2),r.cd(e.dataModel.name),r.Ob(6),r.Ec("ngIf",!e.editProperty)("ngIfElse",t)}}let ut=(()=>{class t{constructor(t){this.appStateService=t,this.onChange=new r.r,this.onDelete=new r.r,this.edit=!1,this.editProperty=!1,this.propertyToEdit=null}ngOnInit(){this.edit=!this.dataModel.name}ngOnDestroy(){}updateDataProperty(t){this.dataModel.updateProperty(this.propertyToEdit,t),this.saveModel(),this.cancelEditProperty()}cancelEditProperty(){this.propertyToEdit=null,this.editProperty=!1}editDataProperty(t){this.propertyToEdit=t,this.editProperty=!0}addNewProperty(){const t=a.newProperty();this.dataModel.addProperty(t),this.editDataProperty(t)}deleteProperty(t){this.dataModel.deleteProperty(t),this.saveModel(),this.cancelEditProperty()}updateDataModel(t){console.log("form values1:",t),this.dataModel.name=t.name,this.edit=!1,this.saveModel()}saveModel(){this.onChange.emit(this.dataModel)}editModel(){this.editProperty=!1,this.edit=!0}deleteModel(t){this.onDelete.emit(t)}cancelEditModel(t){this.edit=!1}launchConsole(){this.appStateService.openBluConsole({dataModel:this.dataModel})}toggleVisibility(t,e){t.visible=!t.visible,e.stopPropagation(),this.saveModel()}toggleModelAuth(t){t.auth=!t.auth,this.saveModel()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(d.a))},t.\u0275cmp=r.Wb({type:t,selectors:[["data-model-object"]],inputs:{dataModel:"dataModel"},outputs:{onChange:"onChange",onDelete:"onDelete"},decls:4,vars:2,consts:[[1,"data-model"],["class","",4,"ngIf","ngIfElse"],["displayModel",""],[1,""],[3,"dataModel","onDelete","onCancel","onChange"],[1,"data-model-header","d-flex","align-items-center","border-bottom","p-2"],[1,"pr-2","cursor-pointer",3,"matTooltip","click"],[1,"fa","text-muted","small"],[1,"pr-2"],[1,"console","ml-auto","mr-2","cursor-pointer",3,"click"],[1,"fa","fa-terminal","fa-sm"],[1,"cursor-pointer",3,"click"],[1,"fas","fa-cog"],[1,"data-model-body"],[4,"ngIf","ngIfElse"],["dataProperties",""],[1,"d-flex","align-items-center","p-1"],["class","small text-muted",4,"ngIf"],[1,"pr-1","small","cursor-pointer","ml-auto","text-muted",3,"click"],[1,"pl-1","cursor-pointer",3,"click"],[1,"fa","fa","fa-plus-circle","small"],["class","",4,"ngIf"],["class","text-center p-4 text-muted small",4,"ngIf"],[1,"small","text-muted"],["class","p-1",4,"ngFor","ngForOf"],[1,"p-1"],[1,"d-flex","align-items-center","cursor-pointer",3,"click"],[1,"",3,"click"],[1,"far","fa-sm","fa-eye"],[1,"pl-2"],[1,"text-muted","small","ml-auto"],[1,"small","pl-3"],[1,"fa","fa-cog"],[1,"text-center","p-4","text-muted","small"],[1,"p-2"],[3,"dataModelProperty","onDelete","onCancel","onChange"]],template:function(t,e){if(1&t&&(r.ic(0,"div",0),r.Zc(1,st,2,1,"div",1),r.Zc(2,pt,13,8,"ng-template",null,2,r.ad),r.hc()),2&t){const t=r.Nc(3);r.Ob(1),r.Ec("ngIf",e.edit||!e.dataModel.name)("ngIfElse",t)}},directives:[o.u,m,B,o.t,ot],styles:[".data-model[_ngcontent-%COMP%]{width:300px;border-radius:3px;border:1px solid #f1f1f1}.data-model-body[_ngcontent-%COMP%]{padding:4px}.data-property-hidden[_ngcontent-%COMP%]{opacity:.2;color:#6c757d!important}.data-property-visible[_ngcontent-%COMP%]{opacity:.8;color:#6c757d!important}.console[_ngcontent-%COMP%]{background:#333;border-radius:3px;width:24px;height:16px;position:relative}.console[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fbd38d!important;font-size:9px!important;position:absolute;top:2px;left:3px}"]}),t})();function mt(t,e){if(1&t){const t=r.jc();r.ic(0,"div",4),r.ic(1,"div",5),r.ic(2,"data-model-object",6),r.uc("onDelete",(function(e){return r.Rc(t),r.yc().deleteModel(e)}))("onChange",(function(){return r.Rc(t),r.yc().saveDataModels()})),r.hc(),r.hc(),r.hc()}if(2&t){const t=e.$implicit;r.Ob(2),r.Ec("dataModel",t)}}const ft=s.e.forChild([{path:"",component:(()=>{class t{constructor(t){this.dataModelService=t}ngOnInit(){this.dataModels=this.dataModelService.getDataModels()}ngOnDestroy(){}newDataModel(){this.dataModels.unshift(new a(null))}saveDataModels(){this.dataModelService.saveDataModels(this.dataModels)}deleteModel(t){this.dataModels.includes(t)&&(this.dataModels.splice(this.dataModels.indexOf(t),1),this.saveDataModels())}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c))},t.\u0275cmp=r.Wb({type:t,selectors:[["data-model-list"]],decls:5,vars:1,consts:[["mat-button","",3,"click"],[1,"fa","fa-plus"],[1,"p-2","model-container"],["class","p-2",4,"ngFor","ngForOf"],[1,"p-2"],[1,"shadow"],[3,"dataModel","onDelete","onChange"]],template:function(t,e){1&t&&(r.ic(0,"button",0),r.uc("click",(function(){return e.newDataModel()})),r.dc(1,"i",1),r.bd(2," New Data Model"),r.hc(),r.ic(3,"div",2),r.Zc(4,mt,3,1,"div",3),r.hc()),2&t&&(r.Ob(4),r.Ec("ngForOf",e.dataModels))},directives:[l.a,o.t,ut],styles:[".model-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;justify-content:flex-start;align-content:flex-start;align-items:stretch}"]}),t})()}]);let bt=(()=>{class t{}return t.\u0275mod=r.ac({type:t}),t.\u0275inj=r.Zb({factory:function(e){return new(e||t)},providers:[],imports:[[o.c,u.c,h.l,l.b,J.c,h.v,Q.b]]}),t})(),vt=(()=>{class t{}return t.\u0275mod=r.ac({type:t}),t.\u0275inj=r.Zb({factory:function(e){return new(e||t)},providers:[],imports:[[o.c,u.c,h.l,l.b,J.c,h.v,Q.b]]}),t})(),yt=(()=>{class t{}return t.\u0275mod=r.ac({type:t}),t.\u0275inj=r.Zb({factory:function(e){return new(e||t)},providers:[],imports:[[o.c,bt,u.c,h.v,l.b,vt,W]]}),t})(),gt=(()=>{class t{}return t.\u0275mod=r.ac({type:t}),t.\u0275inj=r.Zb({factory:function(e){return new(e||t)},providers:[],imports:[[o.c,ft,yt,l.b]]}),t})()}}]);