(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+Ahk":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var i=n("fXoL"),r=n("GV7L"),s=n("0IaG"),o=n("3Pt+"),a=n("ZJV+");let c=(()=>{class e{constructor(e){this.httpService=e}getFunction(e){return this.httpService.get("/blueprints/function/"+e)}getFunctions(){return this.httpService.get("/blueprints/function}")}deleteFunction(e){return this.httpService.delete("/blueprints/function/"+e)}createFunction(e,t,n,i){return this.httpService.post("/blueprints/function",{parentId:e,name:t,contents:n,description:i})}updateFunction(e,t,n,i){return this.httpService.put("/blueprints/function/"+e,{name:t,contents:n,description:i})}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(a.a))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=n("kmnG"),u=n("qFsG"),d=n("ofXK"),p=n("1jDz");function h(e,t){1&e&&(i.Sb(0,"mat-error"),i.Ec(1,"Input is required"),i.Rb())}function f(e,t){1&e&&(i.Sb(0,"mat-error"),i.Ec(1,"Only alpha-numeric and _ characters allowed"),i.Rb())}function g(e,t){if(1&e&&(i.Sb(0,"mat-error"),i.Ec(1),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.Hc("A function with this name already exists in ",e.item.type,": ",e.item.name," ")}}function m(e,t){1&e&&(i.Sb(0,"span",13),i.Nb(1,"i",14),i.Ec(2," Valid"),i.Rb())}let b=(()=>{class e{constructor(e){this.fb=e,this.form=new i.o,this.editorOptions={language:"javascript"},this.validFunction=!1}ngOnInit(){var e,t;this.model=this.functionToEdit.originalValue,this.item=this.functionToEdit.item,this.functionText=""+(null!==(t=null===(e=this.model)||void 0===e?void 0:e.contents)&&void 0!==t?t:""),this.initForm(),this.formGroup.valueChanges.subscribe(e=>{}),this.form.emit(this.formGroup)}initForm(){this.formGroup=this.fb.group({name:[this.model.name,[o.E.required,o.E.pattern(/^[a-zA-Z0-9_]+$/),this.uniqueName(this.item.functions)]],description:[this.model.description,[]],contents:[this.model.contents,[o.E.required]]})}uniqueName(e){return t=>e.filter(e=>e.id!==this.functionToEdit.originalValue.id).map(e=>e.name).includes(t.value)?{functionNameExists:!0}:null}get f(){return this.formGroup.controls}ngOnDestroy(){}saveFunction(e){this.validFunction=!1;try{if("function"!=typeof eval.call(null,`({execFunc:${e}})`).execFunc)throw{message:"Must be a function"};this.validFunction=!0,this.f.contents.setValue(e)}catch(t){this.f.contents.setValue("")}}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(o.f))},e.\u0275cmp=i.Gb({type:e,selectors:[["functions-form"]],inputs:{functionToEdit:"functionToEdit"},outputs:{form:"form"},decls:18,vars:8,consts:[[1,"mat-form",3,"formGroup"],[1,""],[1,"w-100"],["placeholder","Function name","type","text","matInput","","formControlName","name","required",""],[4,"ngIf"],[1,"pt-1"],["placeholder","Function Description","type","text","matInput","","formControlName","description"],[1,"row"],[1,"col"],[1,"pb-1","d-flex"],[1,"ml-auto"],["class","text-success",4,"ngIf"],[3,"text","editorOptions","height","onContentChange"],[1,"text-success"],[1,"fa","fa-check-circle"]],template:function(e,t){1&e&&(i.Sb(0,"form",0),i.Sb(1,"div",1),i.Sb(2,"mat-form-field",2),i.Nb(3,"input",3),i.Cc(4,h,2,0,"mat-error",4),i.Cc(5,f,2,0,"mat-error",4),i.Cc(6,g,2,2,"mat-error",4),i.Rb(),i.Rb(),i.Sb(7,"div",5),i.Sb(8,"mat-form-field",2),i.Nb(9,"textarea",6),i.Rb(),i.Rb(),i.Rb(),i.Sb(10,"div",7),i.Sb(11,"div",8),i.Sb(12,"div",9),i.Sb(13,"div"),i.Ec(14,"Javascript Function:"),i.Rb(),i.Sb(15,"div",10),i.Cc(16,m,3,0,"span",11),i.Rb(),i.Rb(),i.Sb(17,"file-editor",12),i.ac("onContentChange",(function(e){return t.saveFunction(e)})),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.kc("formGroup",t.formGroup),i.Bb(4),i.kc("ngIf",null==t.f.name||null==t.f.name.errors?null:t.f.name.errors.required),i.Bb(1),i.kc("ngIf",null==t.f.name||null==t.f.name.errors?null:t.f.name.errors.pattern),i.Bb(1),i.kc("ngIf",null==t.f.name||null==t.f.name.errors?null:t.f.name.errors.functionNameExists),i.Bb(10),i.kc("ngIf",t.validFunction),i.Bb(1),i.kc("text",t.functionText)("editorOptions",t.editorOptions)("height","400px"))},directives:[o.G,o.r,o.j,l.c,u.a,o.c,o.q,o.i,o.B,d.t,p.a,l.b],styles:[""]}),e})();var v=n("bTqV");let x=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.data=t,this.functionService=n,this.dialogRef=i}ngOnInit(){this.functionToEdit=this.data.functionToEdit}ngOnDestroy(){}formChanged(e){this.form=e}saveForm(){"update"===this.functionToEdit.action?this.updateFunction():this.createFunction()}createFunction(){const{name:e,description:t,contents:n}=this.form.value;this.functionService.createFunction(this.functionToEdit.item.id,e,n,t).subscribe(e=>this.close(!0))}updateFunction(){const{name:e,description:t,contents:n}=this.form.value;this.functionService.updateFunction(this.functionToEdit.originalValue.id,e,n,t).subscribe(e=>this.close(!0))}close(e){this.dialogRef.close({updated:e})}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(o.f),i.Mb(s.a),i.Mb(c),i.Mb(s.h))},e.\u0275cmp=i.Gb({type:e,selectors:[["edit-function-dialog"]],decls:15,vars:6,consts:[["mat-dialog-title",""],[1,"text-capitalize"],["mat-dialog-content",""],[1,""],[3,"functionToEdit","form"],["mat-dialog-actions","",3,"align"],["mat-button","",3,"click"],["mat-button","",3,"disabled","click"]],template:function(e,t){1&e&&(i.Sb(0,"h1",0),i.Sb(1,"span",1),i.Ec(2),i.Rb(),i.Ec(3," Function for "),i.Sb(4,"span",1),i.Ec(5),i.Rb(),i.Ec(6),i.Rb(),i.Sb(7,"div",2),i.Sb(8,"div",3),i.Sb(9,"functions-form",4),i.ac("form",(function(e){return t.formChanged(e)})),i.Rb(),i.Rb(),i.Rb(),i.Sb(10,"div",5),i.Sb(11,"button",6),i.ac("click",(function(){return t.close(!1)})),i.Ec(12,"Cancel"),i.Rb(),i.Sb(13,"button",7),i.ac("click",(function(){return t.saveForm()})),i.Ec(14,"Save"),i.Rb(),i.Rb()),2&e&&(i.Bb(2),i.Fc(t.functionToEdit.action),i.Bb(3),i.Fc(t.functionToEdit.item.type),i.Bb(1),i.Gc(": ",t.functionToEdit.item.name,""),i.Bb(3),i.kc("functionToEdit",t.functionToEdit),i.Bb(1),i.kc("align","end"),i.Bb(3),i.kc("disabled",t.form.invalid))},directives:[s.i,s.f,b,s.c,v.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();function k(e,t){if(1&e&&(i.Sb(0,"div",9),i.Nb(1,"i",10),i.Ec(2),i.Rb()),2&e){const e=t.$implicit;i.Bb(2),i.Gc(" ",e.error.data.message,"")}}function S(e,t){if(1&e&&(i.Sb(0,"div",7),i.Cc(1,k,3,1,"div",8),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.kc("ngForOf",e.sectionErrors)}}function y(e,t){1&e&&(i.Sb(0,"div",22),i.Ec(1,"No functions present"),i.Rb())}function C(e,t){if(1&e){const e=i.Tb();i.Sb(0,"tr"),i.Sb(1,"td",24),i.ac("click",(function(){i.sc(e);const n=t.$implicit,r=i.ec(2).$implicit;return i.ec().editFunction(r.item,n)})),i.Nb(2,"i",25),i.Ec(3),i.Rb(),i.Sb(4,"td",26),i.ac("click",(function(){i.sc(e);const n=t.$implicit,r=i.ec(2).$implicit;return i.ec().editFunction(r.item,n)})),i.Ec(5),i.Rb(),i.Sb(6,"td",27),i.ac("click",(function(){i.sc(e);const n=t.$implicit,r=i.ec(2).$implicit;return i.ec().deleteFunction(r.item,n)})),i.Sb(7,"div",28),i.Nb(8,"i",29),i.Rb(),i.Rb(),i.Rb()}if(2&e){const e=t.$implicit;i.Bb(3),i.Gc(" ",e.name,""),i.Bb(2),i.Fc(e.description)}}function w(e,t){if(1&e&&(i.Sb(0,"table"),i.Cc(1,C,9,2,"tr",23),i.Rb()),2&e){const e=i.ec().$implicit;i.Bb(1),i.kc("ngForOf",e.functions)}}function R(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",11),i.Sb(1,"div",12),i.Sb(2,"div",13),i.Sb(3,"div",14),i.Nb(4,"i",15),i.Ec(5),i.Rb(),i.Sb(6,"div",16),i.Sb(7,"button",17),i.ac("click",(function(){i.sc(e);const n=t.$implicit;return i.ec().createNewFunction(n.item)})),i.Nb(8,"i",18),i.Ec(9," Add Function"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(10,"div",19),i.Cc(11,y,2,0,"div",20),i.Cc(12,w,2,1,"table",21),i.Rb(),i.Rb()}if(2&e){const e=t.$implicit;i.Bb(5),i.Hc(" ",e.item.type,": ",e.item.name," "),i.Bb(6),i.kc("ngIf",0===e.functions.length),i.Bb(1),i.kc("ngIf",e.functions.length>0)}}let I=(()=>{class e{constructor(e,t){this.dialog=e,this.functionService=t,this.errors=[],this.onConfigUpdated=new i.o,this.hierarchy=[],this.sectionErrors=[]}ngOnInit(){this.sectionErrors=this.getErrors(),this.determineHierarchy()}ngOnChanges(e){this.sectionErrors=this.getErrors(),this.determineHierarchy()}determineHierarchy(){this.hierarchy=[];let e=this.item;if(e)for(this.setHierarchy(e);e.parent;)this.setHierarchy(e.parent),e=e.parent}setHierarchy(e){this.hierarchy.unshift({item:e,functions:e.functions})}ngOnDestroy(){}getPadding(e){return 20*e+"px"}formChanged(e){this.form=e,console.log("form:",e)}getErrors(){const e=[];return this.hierarchy.forEach(t=>{const n=this.errors.filter(e=>e.executeContext.item.id===t.item.id&&e.error.origin.location===r.a.Execute.ErrorLocation.config&&e.error.origin.section===r.a.Execute.ErrorSection.functions);e.push(...n)}),e}deleteFunction(e,t){this.functionService.deleteFunction(t.id).subscribe(n=>{if(!0===n.success){const n=e.functions.findIndex(e=>e.id===t.id);n>=0&&e.functions.splice(n,1)}})}createNewFunction(e){this.editForm("create",e,{name:"",description:"",contents:"(param) => {\n  return param;\n}",id:null,parentId:null})}editFunction(e,t){this.editForm("update",e,t)}editForm(e,t,n){this.dialog.open(x,{data:{functionToEdit:{action:e,item:t,originalValue:n}},minWidth:"800px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>{e.updated&&this.configUpdated()})}configUpdated(){this.onConfigUpdated.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(s.b),i.Mb(c))},e.\u0275cmp=i.Gb({type:e,selectors:[["config-functions"]],inputs:{item:"item",errors:"errors"},outputs:{onConfigUpdated:"onConfigUpdated"},features:[i.zb],decls:8,vars:2,consts:[[1,"border-bottom"],[1,"p-1","pl-2"],[1,"fa","fa-magic"],[1,"p-2"],["class","pl-4 pb-2",4,"ngIf"],[1,"position-relative"],["class","pb-2 cursor-pointer position-relative",4,"ngFor","ngForOf"],[1,"pl-4","pb-2"],["class","text-danger text-small",4,"ngFor","ngForOf"],[1,"text-danger","text-small"],[1,"fa","fa-exclamation-triangle"],[1,"pb-2","cursor-pointer","position-relative"],[1,"pl-1"],[1,"d-flex","align-items-center"],[1,"",2,"min-width","250px"],[1,"fa","fa-chevron-right","text-tiny"],[1,""],["mat-button","",1,"",3,"click"],[1,"fa","fa-plus","text-tiny"],[1,"pl-4","pt-1"],["class","text-muted text-tiny",4,"ngIf"],[4,"ngIf"],[1,"text-muted","text-tiny"],[4,"ngFor","ngForOf"],[1,"cursor-pointer","p-1",3,"click"],[1,"fa","fa-magic","text-tiny","mr-1"],[1,"text-muted","p-1","pl-3",3,"click"],[3,"click"],[1,"pl-4"],[1,"fa","fa-trash-alt"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Nb(2,"i",2),i.Ec(3," Functions"),i.Rb(),i.Rb(),i.Sb(4,"div",3),i.Cc(5,S,2,1,"div",4),i.Sb(6,"div",5),i.Cc(7,R,13,4,"div",6),i.Rb(),i.Rb()),2&e&&(i.Bb(5),i.kc("ngIf",t.sectionErrors.length>0),i.Bb(2),i.kc("ngForOf",t.hierarchy))},directives:[d.t,d.s,v.b],styles:[""]}),e})()},"2VJ6":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),r=n("bTqV"),s=n("fmAS"),o=n("fXoL");let a=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,r.c,s.a]]}),e})()},"3D92":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL"),r=n("ZJV+");let s=(()=>{class e{constructor(e){this.httpService=e}updateReadme(e,t){return this.httpService.put(`/blueprints/item/${e}/readme`,{readme:t})}updateVariables(e,t){return this.httpService.put(`/blueprints/item/${e}/variables`,{variables:t})}updateConfig(e,t){return this.httpService.put(`/blueprints/item/${e}/config`,{config:t})}updateLinks(e,t){return this.httpService.put(`/blueprints/item/${e}/links`,{links:t})}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(r.a))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"6I3L":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("fXoL"),r=n("XNiG"),s=n("quSY"),o=n("Kj3r"),a=n("/uUt"),c=n("3D92"),l=n("1jDz");let u=(()=>{class e{constructor(e){this.itemService=e,this.onConfigUpdated=new i.o,this.property="description",this.descriptionText=null,this.editorOptions={language:"txt",lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:"5px",renderLineHighlight:"none",folding:!1},this.textToSave$=new r.a,this.subs=new s.a}ngOnInit(){this.editProperty(this.item),this.subs.add(this.textToSave$.pipe(Object(o.a)(250),Object(a.a)()).subscribe(e=>{this.selectedItem.config.description=e,this.saveForm()}))}ngOnDestroy(){this.subs.unsubscribe()}editProperty(e){setTimeout(()=>{this.descriptionText=e.config.description,this.selectedItem=e},20)}saveForm(){this.itemService.updateConfig(this.selectedItem.id,this.selectedItem.config).subscribe(e=>this.onConfigUpdated.emit(!0))}saveDescription(e){this.textToSave$.next(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(c.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["config-description"]],inputs:{item:"item"},outputs:{onConfigUpdated:"onConfigUpdated"},decls:7,vars:3,consts:[[1,"border-bottom"],[1,"p-1","pl-2"],[1,"fa","fa-info-circle"],[1,"p-2"],[1,"p-2","border","border-radius"],[3,"text","editorOptions","height","onContentChange"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Nb(2,"i",2),i.Ec(3," Description"),i.Rb(),i.Rb(),i.Sb(4,"div",3),i.Sb(5,"div",4),i.Sb(6,"file-editor",5),i.ac("onContentChange",(function(e){return t.saveDescription(e)})),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.Bb(6),i.kc("text",t.descriptionText)("editorOptions",t.editorOptions)("height","60px"))},directives:[l.a],styles:[""]}),e})()},AvgW:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("xyCH"),s=n("fXoL");let o=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,r.a]]}),e})()},Bp5M:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),r=n("fXoL");let s=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c]]}),e})()},DlQD:function(e,t,n){e.exports=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}var i=function(e){var t={exports:{}};return function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:t,changeDefaults:function(t){e.exports.defaults=t}}}(t),t.exports}(),r=/[&<>"']/,s=/[&<>"']/g,o=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l=function(e){return c[e]},u=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function d(e){return e.replace(u,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var p=/(^|[^\[])\^/g,h=/[^\w:]/g,f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,g={},m=/^[^:]+:\/*[^/]*$/,b=/^([^:]+:)[\s\S]*$/,v=/^([^:]+:\/*[^/]*)[\s\S]*$/;function x(e,t,n){var i=e.length;if(0===i)return"";for(var r=0;r<i;){var s=e.charAt(i-r-1);if(s!==t||n){if(s===t||!n)break;r++}else r++}return e.substr(0,i-r)}var k=function(e,t){if(t){if(r.test(e))return e.replace(s,l)}else if(o.test(e))return e.replace(a,l);return e},S=d,y=function(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},C=i.defaults,w=x,R=function(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var i=!1,r=t;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n},I=k;function E(e,t,n){var i=t.href,r=t.title?I(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:i,title:r,text:s}:{type:"image",raw:n,href:i,title:r,text:I(s)}}var T=function(){function e(e){this.options=e||C}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e,t){var n=this.rules.block.code.exec(e);if(n){var i=t[t.length-1];if(i&&"paragraph"===i.type)return{raw:n[0],text:n[0].trimRight()};var r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:w(r,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],i=function(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var i=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=i.length?e.slice(i.length):e})).join("\n")}(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:i}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var i=w(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:R(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var i,r=n.align.length;for(i=0;i<r;i++)n.align[i]=/^ *-+: *$/.test(n.align[i])?"right":/^ *:-+: *$/.test(n.align[i])?"center":/^ *:-+ *$/.test(n.align[i])?"left":null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=R(n.cells[i],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,i,r,s,o,a,c,l,u=t[0],d=t[2],p=d.length>1,h={type:"list",raw:u,ordered:p,start:p?+d.slice(0,-1):"",loose:!1,items:[]},f=t[0].match(this.rules.block.item),g=!1,m=f.length;r=this.rules.block.listItemStart.exec(f[0]);for(var b=0;b<m;b++){if(u=n=f[b],b!==m-1){if(s=this.rules.block.listItemStart.exec(f[b+1]),this.options.pedantic?s[1].length>r[1].length:s[1].length>r[0].length||s[1].length>3){f.splice(b,2,f[b]+"\n"+f[b+1]),b--,m--;continue}(!this.options.pedantic||this.options.smartLists?s[2][s[2].length-1]!==d[d.length-1]:p===(1===s[2].length))&&(o=f.slice(b+1).join("\n"),h.raw=h.raw.substring(0,h.raw.length-o.length),b=m-1),r=s}i=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(i-=n.length,n=n.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+i+"}","gm"),"")),a=g||/\n\n(?!\s*$)/.test(n),b!==m-1&&(g="\n"===n.charAt(n.length-1),a||(a=g)),a&&(h.loose=!0),this.options.gfm&&(l=void 0,(c=/^\[[ xX]\] /.test(n))&&(l=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),h.items.push({type:"list_item",raw:u,task:c,checked:l,loose:a,text:n})}return h}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):I(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:R(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var i,r=n.align.length;for(i=0;i<r;i++)n.align[i]=/^ *-+: *$/.test(n.align[i])?"right":/^ *:-+: *$/.test(n.align[i])?"center":/^ *:-+ *$/.test(n.align[i])?"left":null;for(r=n.cells.length,i=0;i<r;i++)n.cells[i]=R(n.cells[i].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e,t){var n=this.rules.block.text.exec(e);if(n){var i=t[t.length-1];return i&&"text"===i.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:I(t[1])}},t.tag=function(e,t,n){var i=this.rules.inline.tag.exec(e);if(i)return!t&&/^<a /i.test(i[0])?t=!0:t&&/^<\/a>/i.test(i[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):I(i[0]):i[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var i=w(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{var r=function(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,i=0,r=0;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&--i<0)return r;return-1}(t[2],"()");if(r>-1){var s=(0===t[0].indexOf("!")?5:4)+t[1].length+r;t[2]=t[2].substring(0,r),t[0]=t[0].substring(0,s).trim(),t[3]=""}}var o=t[2],a="";if(this.options.pedantic){var c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);c&&(o=c[1],a=c[3])}else a=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),E(t,{href:o?o.replace(this.rules.inline._escapes,"$1"):o,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var i=(n[2]||n[1]).replace(/\s+/g," ");if(!(i=t[i.toLowerCase()])||!i.href){var r=n[0].charAt(0);return{type:"text",raw:r,text:r}}return E(n,i,n[0])}},t.strong=function(e,t,n){void 0===n&&(n="");var i=this.rules.inline.strong.start.exec(e);if(i&&(!i[1]||i[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var r,s="**"===i[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(s.lastIndex=0;null!=(i=s.exec(t));)if(r=this.rules.inline.strong.middle.exec(t.slice(0,i.index+3)))return{type:"strong",raw:e.slice(0,r[0].length),text:e.slice(2,r[0].length-2)}}},t.em=function(e,t,n){void 0===n&&(n="");var i=this.rules.inline.em.start.exec(e);if(i&&(!i[1]||i[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){t=t.slice(-1*e.length);var r,s="*"===i[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(s.lastIndex=0;null!=(i=s.exec(t));)if(r=this.rules.inline.em.middle.exec(t.slice(0,i.index+2)))return{type:"em",raw:e.slice(0,r[0].length),text:e.slice(1,r[0].length-1)}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),i=/[^ ]/.test(n),r=/^ /.test(n)&&/ $/.test(n);return i&&r&&(n=n.substring(1,n.length-1)),n=I(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,i,r=this.rules.inline.autolink.exec(e);if(r)return i="@"===r[2]?"mailto:"+(n=I(this.options.mangle?t(r[1]):r[1])):n=I(r[1]),{type:"link",raw:r[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var i,r;if("@"===n[2])r="mailto:"+(i=I(this.options.mangle?t(n[0]):n[0]));else{var s;do{s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(s!==n[0]);i=I(n[0]),r="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}},t.inlineText=function(e,t,n){var i,r=this.rules.inline.text.exec(e);if(r)return i=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):I(r[0]):r[0]:I(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}},e}(),O={exec:function(){}},_=function(e,t){e=e.source||e,t=t||"";var n={replace:function(t,i){return i=(i=i.source||i).replace(p,"$1"),e=e.replace(t,i),n},getRegex:function(){return new RegExp(e,t)}};return n},$=y,F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:O,table:O,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};F.def=_(F.def).replace("label",F._label).replace("title",F._title).getRegex(),F.bullet=/(?:[*+-]|\d{1,9}[.)])/,F.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,F.item=_(F.item,"gm").replace(/bull/g,F.bullet).getRegex(),F.listItemStart=_(/^( *)(bull)/).replace("bull",F.bullet).getRegex(),F.list=_(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex(),F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,F.html=_(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F.paragraph=_(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",F._tag).getRegex(),F.blockquote=_(F.blockquote).replace("paragraph",F.paragraph).getRegex(),F.normal=$({},F),F.gfm=$({},F.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),F.gfm.nptable=_(F.gfm.nptable).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",F._tag).getRegex(),F.gfm.table=_(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",F._tag).getRegex(),F.pedantic=$({},F.normal,{html:_("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:O,paragraph:_(F.normal._paragraph).replace("hr",F.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var z={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:O,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:O,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};z.punctuation=_(z.punctuation).replace(/punctuation/g,z._punctuation).getRegex(),z._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",z._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",z._comment=_(F._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),z.em.start=_(z.em.start).replace(/punctuation/g,z._punctuation).getRegex(),z.em.middle=_(z.em.middle).replace(/punctuation/g,z._punctuation).replace(/overlapSkip/g,z._overlapSkip).getRegex(),z.em.endAst=_(z.em.endAst,"g").replace(/punctuation/g,z._punctuation).getRegex(),z.em.endUnd=_(z.em.endUnd,"g").replace(/punctuation/g,z._punctuation).getRegex(),z.strong.start=_(z.strong.start).replace(/punctuation/g,z._punctuation).getRegex(),z.strong.middle=_(z.strong.middle).replace(/punctuation/g,z._punctuation).replace(/overlapSkip/g,z._overlapSkip).getRegex(),z.strong.endAst=_(z.strong.endAst,"g").replace(/punctuation/g,z._punctuation).getRegex(),z.strong.endUnd=_(z.strong.endUnd,"g").replace(/punctuation/g,z._punctuation).getRegex(),z.blockSkip=_(z._blockSkip,"g").getRegex(),z.overlapSkip=_(z._overlapSkip,"g").getRegex(),z._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,z._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,z._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,z.autolink=_(z.autolink).replace("scheme",z._scheme).replace("email",z._email).getRegex(),z._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,z.tag=_(z.tag).replace("comment",z._comment).replace("attribute",z._attribute).getRegex(),z._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,z._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,z._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,z.link=_(z.link).replace("label",z._label).replace("href",z._href).replace("title",z._title).getRegex(),z.reflink=_(z.reflink).replace("label",z._label).getRegex(),z.reflinkSearch=_(z.reflinkSearch,"g").replace("reflink",z.reflink).replace("nolink",z.nolink).getRegex(),z.normal=$({},z),z.pedantic=$({},z.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:_(/^!?\[(label)\]\((.*?)\)/).replace("label",z._label).getRegex(),reflink:_(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",z._label).getRegex()}),z.gfm=$({},z.normal,{escape:_(z.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),z.gfm.url=_(z.gfm.url,"i").replace("email",z.gfm._extended_email).getRegex(),z.breaks=$({},z.gfm,{br:_(z.br).replace("{2,}","*").getRegex(),text:_(z.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var A={block:F,inline:z},B=i.defaults,M=A.block,N=A.inline,L=function(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e};function D(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function P(e){var t,n,i="",r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var G=function(){function t(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||B,this.options.tokenizer=this.options.tokenizer||new T,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:M.normal,inline:N.normal};this.options.pedantic?(t.block=M.pedantic,t.inline=N.pedantic):this.options.gfm&&(t.block=M.gfm,t.inline=this.options.breaks?N.breaks:N.gfm),this.tokenizer.rules=t}t.lex=function(e,n){return new t(n).lex(e)},t.lexInline=function(e,n){return new t(n).inlineTokens(e)};var n,i,r=t.prototype;return r.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},r.blockTokens=function(e,t,n){var i,r,s,o;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&t.push(i);else if(i=this.tokenizer.code(e,t))e=e.substring(i.raw.length),i.type?t.push(i):((o=t[t.length-1]).raw+="\n"+i.raw,o.text+="\n"+i.text);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.nptable(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),i.tokens=this.blockTokens(i.text,[],n),t.push(i);else if(i=this.tokenizer.list(e)){for(e=e.substring(i.raw.length),s=i.items.length,r=0;r<s;r++)i.items[r].tokens=this.blockTokens(i.items[r].text,[],!1);t.push(i)}else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.def(e)))e=e.substring(i.raw.length),this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.paragraph(e)))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.text(e,t))e=e.substring(i.raw.length),i.type?t.push(i):((o=t[t.length-1]).raw+="\n"+i.raw,o.text+="\n"+i.text);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return t},r.inline=function(e){var t,n,i,r,s,o,a=e.length;for(t=0;t<a;t++)switch((o=e[t]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},r=o.header.length,n=0;n<r;n++)o.tokens.header[n]=[],this.inlineTokens(o.header[n],o.tokens.header[n]);for(r=o.cells.length,n=0;n<r;n++)for(s=o.cells[n],o.tokens.cells[n]=[],i=0;i<s.length;i++)o.tokens.cells[n][i]=[],this.inlineTokens(s[i],o.tokens.cells[n][i]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(r=o.items.length,n=0;n<r;n++)this.inline(o.items[n].tokens)}return e},r.inlineTokens=function(e,t,n,i){var r;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===i&&(i=!1);var s,o,a,c=e;if(this.tokens.links){var l=Object.keys(this.tokens.links);if(l.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(c));)l.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+L("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,s.index)+"["+L("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;e;)if(o||(a=""),o=!1,r=this.tokenizer.escape(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.tag(e,n,i))e=e.substring(r.raw.length),n=r.inLink,i=r.inRawBlock,t.push(r);else if(r=this.tokenizer.link(e))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(r.raw.length),"link"===r.type&&(r.tokens=this.inlineTokens(r.text,[],!0,i)),t.push(r);else if(r=this.tokenizer.strong(e,c,a))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.em(e,c,a))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.codespan(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.br(e))e=e.substring(r.raw.length),t.push(r);else if(r=this.tokenizer.del(e))e=e.substring(r.raw.length),r.tokens=this.inlineTokens(r.text,[],n,i),t.push(r);else if(r=this.tokenizer.autolink(e,P))e=e.substring(r.raw.length),t.push(r);else if(n||!(r=this.tokenizer.url(e,P))){if(r=this.tokenizer.inlineText(e,i,D))e=e.substring(r.raw.length),a=r.raw.slice(-1),o=!0,t.push(r);else if(e){var u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}else e=e.substring(r.raw.length),t.push(r);return t},n=t,i=[{key:"rules",get:function(){return{block:M,inline:N}}}],null&&e(n.prototype,null),i&&e(n,i),t}(),U=i.defaults,j=function(e,t,n){if(e){var i;try{i=decodeURIComponent(d(n)).replace(h,"").toLowerCase()}catch(r){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!f.test(n)&&(n=function(e,t){g[" "+e]||(g[" "+e]=m.test(e)?e+"/":x(e,"/",!0));var n=-1===(e=g[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(b,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(v,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(r){return null}return n},q=k,H=function(){function e(e){this.options=e||U}var t=e.prototype;return t.code=function(e,t,n){var i=(t||"").match(/\S*/)[0];if(this.options.highlight){var r=this.options.highlight(e,i);null!=r&&r!==e&&(n=!0,e=r)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+q(i,!0)+'">'+(n?e:q(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:q(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=j(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<a href="'+q(e)+'"';return t&&(i+=' title="'+t+'"'),i+">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=j(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+(this.options.xhtml?"/>":">")},t.text=function(e){return e},e}(),K=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),V=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{n=e+"-"+ ++i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),X=i.defaults,J=S,Z=function(){function e(e){this.options=e||X,this.options.renderer=this.options.renderer||new H,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new K,this.slugger=new V}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,i,r,s,o,a,c,l,u,d,p,h,f,g,m,b,v,x,k="",S=e.length;for(n=0;n<S;n++)switch((d=e[n]).type){case"space":continue;case"hr":k+=this.renderer.hr();continue;case"heading":k+=this.renderer.heading(this.parseInline(d.tokens),d.depth,J(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":k+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(l="",c="",s=d.header.length,i=0;i<s;i++)c+=this.renderer.tablecell(this.parseInline(d.tokens.header[i]),{header:!0,align:d.align[i]});for(l+=this.renderer.tablerow(c),u="",s=d.cells.length,i=0;i<s;i++){for(c="",o=(a=d.tokens.cells[i]).length,r=0;r<o;r++)c+=this.renderer.tablecell(this.parseInline(a[r]),{header:!1,align:d.align[r]});u+=this.renderer.tablerow(c)}k+=this.renderer.table(l,u);continue;case"blockquote":u=this.parse(d.tokens),k+=this.renderer.blockquote(u);continue;case"list":for(p=d.ordered,h=d.start,f=d.loose,s=d.items.length,u="",i=0;i<s;i++)b=(m=d.items[i]).checked,v=m.task,g="",m.task&&(x=this.renderer.checkbox(b),f?m.tokens.length>0&&"text"===m.tokens[0].type?(m.tokens[0].text=x+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=x+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:x}):g+=x),g+=this.parse(m.tokens,f),u+=this.renderer.listitem(g,v,b);k+=this.renderer.list(u,p,h);continue;case"html":k+=this.renderer.html(d.text);continue;case"paragraph":k+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<S&&"text"===e[n+1].type;)u+="\n"+((d=e[++n]).tokens?this.parseInline(d.tokens):d.text);k+=t?this.renderer.paragraph(u):u;continue;default:var y='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(y);throw new Error(y)}return k},t.parseInline=function(e,t){t=t||this.renderer;var n,i,r="",s=e.length;for(n=0;n<s;n++)switch((i=e[n]).type){case"escape":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;case"text":r+=t.text(i.text);break;default:var o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(o);throw new Error(o)}return r},e}(),W=y,Q=function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},Y=k,ee=i.getDefaults,te=i.changeDefaults,ne=i.defaults;function ie(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=W({},ie.defaults,t||{}),Q(t),n){var i,r=t.highlight;try{i=G.lex(e,t)}catch(c){return n(c)}var s=function(e){var s;if(!e)try{s=Z.parse(i,t)}catch(c){e=c}return t.highlight=r,e?n(e):n(null,s)};if(!r||r.length<3)return s();if(delete t.highlight,!i.length)return s();var o=0;return ie.walkTokens(i,(function(e){"code"===e.type&&(o++,setTimeout((function(){r(e.text,e.lang,(function(t,n){if(t)return s(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--o&&s()}))}),0))})),void(0===o&&s())}try{var a=G.lex(e,t);return t.walkTokens&&ie.walkTokens(a,t.walkTokens),Z.parse(a,t)}catch(c){if(c.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Y(c.message+"",!0)+"</pre>";throw c}}return ie.options=ie.setOptions=function(e){return W(ie.defaults,e),te(ie.defaults),ie},ie.getDefaults=ee,ie.defaults=ne,ie.use=function(e){var t=W({},e);if(e.renderer&&function(){var n=ie.defaults.renderer||new H,i=function(t){var i=n[t];n[t]=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=e.renderer[t].apply(n,s);return!1===a&&(a=i.apply(n,s)),a}};for(var r in e.renderer)i(r);t.renderer=n}(),e.tokenizer&&function(){var n=ie.defaults.tokenizer||new T,i=function(t){var i=n[t];n[t]=function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var a=e.tokenizer[t].apply(n,s);return!1===a&&(a=i.apply(n,s)),a}};for(var r in e.tokenizer)i(r);t.tokenizer=n}(),e.walkTokens){var n=ie.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),n&&n(t)}}ie.setOptions(t)},ie.walkTokens=function(e,t){for(var i,r=n(e);!(i=r()).done;){var s=i.value;switch(t(s),s.type){case"table":for(var o,a=n(s.tokens.header);!(o=a()).done;)ie.walkTokens(o.value,t);for(var c,l=n(s.tokens.cells);!(c=l()).done;)for(var u,d=n(c.value);!(u=d()).done;)ie.walkTokens(u.value,t);break;case"list":ie.walkTokens(s.items,t);break;default:s.tokens&&ie.walkTokens(s.tokens,t)}}},ie.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=W({},ie.defaults,t||{}),Q(t);try{var n=G.lexInline(e,t);return t.walkTokens&&ie.walkTokens(n,t.walkTokens),Z.parseInline(n,t)}catch(i){if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+Y(i.message+"",!0)+"</pre>";throw i}},ie.Parser=Z,ie.parser=Z.parse,ie.Renderer=H,ie.TextRenderer=K,ie.Lexer=G,ie.lexer=G.lex,ie.Tokenizer=T,ie.Slugger=V,ie.parse=ie,ie}()},Eow3:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),r=n("fXoL");let s=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c]]}),e})()},KjPU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("xyCH"),s=n("fXoL");let o=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,r.a]]}),e})()},M3NP:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL");let r=(()=>{class e{constructor(){}disposeCompletionProvider(){this.completionProvider&&this.completionProvider.dispose()}registerCompletionProvider(e,t,n="bluLanguage"){this.disposeCompletionProvider(),this.completionProvider=e.languages.registerCompletionItemProvider(n,{provideCompletionItems:(n,i,r,s)=>{let o;const a=n.getValueInRange({startLineNumber:i.lineNumber,startColumn:1,endLineNumber:i.lineNumber,endColumn:1/0}),c=(n.getValueInRange({startLineNumber:i.lineNumber,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column}),/\((.*?)\)/g),l=this.isInside(/\[blu (.*?)]/g,a,i),u=this.isInside(/\^\^(.*?)\^\^/g,a,i);return null!==l?o=null!==this.isInside(c,a,i)?this.contextSuggestions(e,t):this.bluBlockSuggestions(e):null!==u&&(o=this.isAfter(":",u,i)?this.contextFunctions(e,t,!0):this.contextSuggestions(e,t)),o=null!=o?o:this.getDefaultSuggestions(e),{suggestions:o}}})}isAfter(e,t,n){return t.indexOf(e)>=0}isInside(e,t,n){let i,r=!1,s=null;for(;(i=e.exec(t))&&!r;)i.index<n.column&&n.column<=e.lastIndex&&(s=i[1],r=!0);return s}contextSuggestions(e,t,n=!1){return[...this.contextInputs(e,t),...this.contextFunctions(e,t,n)]}contextInputs(e,t){return Object.keys(t.inputs).map(t=>({label:t,kind:e.languages.CompletionItemKind.Variable,insertText:t,sortText:"a"+t}))}contextFunctions(e,t,n=!1){let i=[];return i=t.functions.map(n?t=>({label:""+t.name,kind:e.languages.CompletionItemKind.Function,insertText:""+t.name,sortText:"b"+t.name}):t=>({label:t.name+"()",kind:e.languages.CompletionItemKind.Function,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:t.name+"(${1})",sortText:"b"+t.name})),i}bluBlockSuggestions(e){return[{label:"if",documentation:"Add an if statement",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"if(${1})",sortText:"b",command:{id:"editor.action.triggerSuggest"}},{label:"elseIf",documentation:"Add an elseIf statement",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"elseIf(${1})",sortText:"c",command:{id:"editor.action.triggerSuggest"}},{label:"forEach",documentation:"Add a forEach statement",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"forEach(${2} in ${1})",sortText:"a",command:{id:"editor.action.triggerSuggest"}},{label:"forEachIndex",documentation:"Add a forEach statement with a verbose index identifier",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"forEach(${2} in ${1});i=index",sortText:"h",command:{id:"editor.action.triggerSuggest"}},{label:"else",documentation:"Add an else statement",kind:e.languages.CompletionItemKind.Text,insertText:"else",sortText:"d"},{label:"switch",documentation:"Add a switch statement",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"switch(${1})",sortText:"e",command:{id:"editor.action.triggerSuggest"}},{label:"switchCase",documentation:"Add a switchCase statement",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"switchCase ${1}",sortText:"f",command:{id:"editor.action.triggerSuggest"}},{label:"switchDefault",documentation:"Add an switchDefault statement",kind:e.languages.CompletionItemKind.Text,insertText:"switchDefault",sortText:"g"}]}getDefaultSuggestions(e){return[{label:"blu",documentation:"Add a [blu] [/blu] block",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"[blu ${1}]$0[/blu]",sortText:"b",command:{id:"editor.action.triggerSuggest"}},{label:"expression",documentation:"Add a ^^  ^^ expression",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"^^${1}^^",sortText:"a",command:{id:"editor.action.triggerSuggest"}},{label:"transformation",documentation:"Add a transformation ^^value:function^^ expression",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"^^${1}:${2}^^",sortText:"c",command:{id:"editor.action.triggerSuggest"}},{label:"comment",documentation:"Add a ^^!  !^^ comment",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"^^! ${1} !^^",sortText:"d"},{label:"expression (escaped)",documentation:"Add a ^^!  !^^ comment",kind:e.languages.CompletionItemKind.Snippet,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,insertText:"^^~ ${1} ~^^",sortText:"e"}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},fCHT:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var i=n("fXoL"),r=n("GV7L"),s=n("0IaG"),o=n("quSY"),a=n("3Pt+"),c=n("M3NP"),l=n("JX91"),u=n("lJxs"),d=n("Kxoc"),p=n("ofXK"),h=n("kmnG"),f=n("qFsG"),g=n("/1cH"),m=n("FKr1");function b(e,t){if(1&e&&(i.Sb(0,"mat-option",8),i.Ec(1),i.Rb()),2&e){const e=t.$implicit;i.kc("value",e),i.Bb(1),i.Gc(" ",e," ")}}function v(e,t){1&e&&(i.Sb(0,"mat-error"),i.Ec(1,"Input is required"),i.Rb())}function x(e,t){1&e&&(i.Sb(0,"mat-error"),i.Ec(1,"Item not found"),i.Rb())}function k(e,t){if(1&e&&(i.Sb(0,"form",1),i.Sb(1,"div",2),i.Sb(2,"mat-form-field",3),i.Sb(3,"mat-label"),i.Ec(4,"Command"),i.Rb(),i.Nb(5,"input",4),i.Sb(6,"mat-autocomplete",null,5),i.Cc(8,b,2,2,"mat-option",6),i.fc(9,"async"),i.Rb(),i.Cc(10,v,2,0,"mat-error",7),i.Cc(11,x,2,0,"mat-error",7),i.Rb(),i.Rb(),i.Rb()),2&e){const e=i.pc(7),t=i.ec();i.kc("formGroup",t.formGroup),i.Bb(5),i.kc("matAutocomplete",e),i.Bb(3),i.kc("ngForOf",i.gc(9,5,t.filteredOptions)),i.Bb(2),i.kc("ngIf",null==t.f.command||null==t.f.command.errors?null:t.f.command.errors.required),i.Bb(1),i.kc("ngIf",null==t.f.command||null==t.f.command.errors?null:t.f.command.errors.itemNotFound)}}let S=(()=>{class e{constructor(e,t){this.fb=e,this.bluService=t,this.onChange=new i.o,this.items=[]}ngOnInit(){var e;this.model=null!==(e=this.model)&&void 0!==e?e:{command:"",inputs:{}},this.bluService.getItems().subscribe(e=>{this.items=e.map(e=>(""+e.namespace).toLowerCase()),this.initForm(),this.onChange.emit(this.formGroup),this.formGroup.valueChanges.subscribe(e=>{this.onChange.emit(this.formGroup)}),this.filteredOptions=this.f.command.valueChanges.pipe(Object(l.a)(""),Object(u.a)(e=>this._filter(e)))})}_filter(e){const t=e.toLowerCase();return this.items.filter(e=>e.toLowerCase().includes(t))}initForm(){this.formGroup=this.fb.group({command:[this.model.command,[a.E.required,this.itemValidator(this.items)]]})}get f(){var e;return null===(e=this.formGroup)||void 0===e?void 0:e.controls}addItem(e){this.f[e].push(this.fb.control(""))}deleteItem(e,t){this.f[e].removeAt(t)}itemExistsValidator(e){var t;return(null!==(t=this.items)&&void 0!==t?t:[]).includes((""+(null==e?void 0:e.value)).toLowerCase())?null:{itemNotFound:{valid:!1}}}itemValidator(e){return t=>e.includes((""+(null==t?void 0:t.value)).toLowerCase())?null:{itemNotFound:{valid:!1}}}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(a.f),i.Mb(d.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["command-form"]],inputs:{model:"model"},outputs:{onChange:"onChange"},decls:1,vars:1,consts:[["class","mat-form",3,"formGroup",4,"ngIf"],[1,"mat-form",3,"formGroup"],[1,""],["appearance","fill"],["placeholder","Command","type","text","matInput","","formControlName","command","required","",3,"matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&i.Cc(0,k,12,7,"form",0),2&e&&i.kc("ngIf",t.formGroup)},directives:[p.t,a.G,a.r,a.j,h.c,h.g,f.a,a.c,g.c,a.q,a.i,a.B,g.a,p.s,m.i,h.b],pipes:[p.b],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),e})();var y=n("1jDz"),C=n("bTqV");function w(e,t){1&e&&(i.Sb(0,"div",14),i.Nb(1,"i",15),i.Rb())}function R(e,t){1&e&&(i.Sb(0,"div",16),i.Nb(1,"i",17),i.Ec(2," Error"),i.Rb())}function I(e,t){if(1&e&&(i.Sb(0,"div",18),i.Nb(1,"i",19),i.Sb(2,"span",20),i.Ec(3),i.Rb(),i.Rb()),2&e){const e=i.ec();i.Bb(3),i.Fc(e.errorMessage)}}let E=(()=>{class e{constructor(e,t,n,i,r){this.fb=e,this.bluEditorService=t,this.cdr=n,this.data=i,this.dialogRef=r,this.subs=new o.a,this.languageType="json",this.editorOptions={language:this.languageType,lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:"5px",renderLineHighlight:"none",folding:!1}}ngOnInit(){var e;console.log("",this.data),this.command=null!==(e=this.data.command)&&void 0!==e?e:{command:"",inputs:{}},this.text=JSON.stringify(this.command.inputs,null,2),this.saveInputs(this.text)}ngOnDestroy(){}close(){this.dialogRef.close(this.form.value)}setCommand(e){console.log("form:",e),this.form=e,this.form.valid&&(this.command.command=this.form.controls.command.value)}saveInputs(e){try{this.command.inputs=JSON.parse(e),this.validJSON=!0}catch(t){this.errorMessage=t.toString(),this.validJSON=!1}this.cdr.detectChanges()}onEditorInit(e){this.editorModel=e,this.setContext(),this.editorModel.onDidChangeContent(e=>{this.saveInputs(this.editorModel.getValue())})}setContext(){}save(){this.dialogRef.close({command:this.command,type:this.data.type,index:this.data.index})}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(a.f),i.Mb(c.a),i.Mb(i.h),i.Mb(s.a),i.Mb(s.h))},e.\u0275cmp=i.Gb({type:e,selectors:[["edit-commands-dialog"]],decls:18,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"model","onChange"],[1,"mt-1",2,"height","350px"],[1,"d-flex","align-items-center"],[1,"small"],[1,"ml-auto",2,"height","20px"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[3,"text","editorOptions","height","onEditorInit"],["class","pt-1",4,"ngIf"],["mat-dialog-actions","",3,"align"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"],[1,"text-success"],[1,"fa","fa-check"],[1,"text-danger"],[1,"fa","fa-times-circle"],[1,"pt-1"],[1,"fa","fa-exclamation-triangle","text-warning","mr-1"],[1,"text-small","text-muted"]],template:function(e,t){1&e&&(i.Sb(0,"h1",0),i.Ec(1),i.Rb(),i.Sb(2,"div",1),i.Sb(3,"command-form",2),i.ac("onChange",(function(e){return t.setCommand(e)})),i.Rb(),i.Sb(4,"div",3),i.Sb(5,"div",4),i.Sb(6,"div",5),i.Ec(7,"Inputs:"),i.Rb(),i.Sb(8,"div",6),i.Cc(9,w,2,0,"div",7),i.Cc(10,R,3,0,"div",8),i.Rb(),i.Rb(),i.Sb(11,"file-editor",9),i.ac("onEditorInit",(function(e){return t.onEditorInit(e)})),i.Rb(),i.Cc(12,I,4,1,"div",10),i.Rb(),i.Rb(),i.Sb(13,"div",11),i.Sb(14,"button",12),i.Ec(15,"Cancel"),i.Rb(),i.Sb(16,"button",13),i.ac("click",(function(){return t.save()})),i.Ec(17,"Save"),i.Rb(),i.Rb()),2&e&&(i.Bb(1),i.Gc("","create"===t.data.type?"Create":"Edit"," Command"),i.Bb(2),i.kc("model",t.command),i.Bb(6),i.kc("ngIf",!0===t.validJSON),i.Bb(1),i.kc("ngIf",!1===t.validJSON),i.Bb(1),i.kc("text",t.text)("editorOptions",t.editorOptions)("height","250px"),i.Bb(1),i.kc("ngIf",!1===t.validJSON),i.Bb(1),i.kc("align","end"),i.Bb(3),i.kc("disabled",!(null!=t.form&&t.form.valid&&t.validJSON)))},directives:[s.i,s.f,S,p.t,y.a,s.c,C.b,s.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();var T=n("PAqJ"),O=n("STbY"),_=n("NFeN");function $(e,t){if(1&e&&(i.Sb(0,"div",16),i.Nb(1,"i",17),i.Ec(2),i.Rb()),2&e){const e=t.$implicit;i.Bb(2),i.Gc(" ",e.error.message,"")}}function F(e,t){if(1&e&&(i.Sb(0,"div",14),i.Cc(1,$,3,1,"div",15),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.kc("ngForOf",e.sectionErrors)}}function z(e,t){1&e&&(i.Qb(0),i.Sb(1,"div",18),i.Ec(2,"No items present for this chain. Click on 'Add Item' to add a new item."),i.Rb(),i.Pb())}function A(e,t){if(1&e&&(i.Sb(0,"div",30),i.Sb(1,"div",7),i.Nb(2,"i",17),i.Ec(3),i.Rb(),i.Rb()),2&e){const e=t.$implicit;i.Bb(3),i.Gc(" ",e.error.message,"")}}const B=function(e,t){return{item:e,index:t}};function M(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",20),i.Sb(1,"div",6),i.Sb(2,"div",21),i.Sb(3,"div",22),i.Ec(4),i.Rb(),i.Rb(),i.Sb(5,"div",23),i.Sb(6,"div",7),i.Sb(7,"div",24),i.Sb(8,"div",7),i.Ec(9),i.Rb(),i.Sb(10,"div",25),i.Sb(11,"span",26),i.ac("click",(function(){i.sc(e);const n=t.$implicit,r=t.index;return i.ec(2).editCommand(n,r)})),i.Ec(12,"Edit"),i.Rb(),i.Sb(13,"mat-icon",27),i.Ec(14,"more_vert"),i.Rb(),i.Rb(),i.Rb(),i.Cc(15,A,4,1,"div",28),i.Rb(),i.Sb(16,"div",7),i.Sb(17,"div",29),i.Ec(18,"Inputs:"),i.Rb(),i.Sb(19,"pre"),i.Ec(20),i.fc(21,"json"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()}if(2&e){const e=t.$implicit,n=t.index;i.ec(2);const r=i.pc(17);i.Bb(4),i.Fc(n+1),i.Bb(5),i.Fc(e.command.command),i.Bb(4),i.kc("matMenuTriggerFor",r)("matMenuTriggerData",i.nc(9,B,e,n))("inline",!0),i.Bb(2),i.kc("ngForOf",e.errors),i.Bb(5),i.Fc(i.gc(21,7,e.command.inputs))}}function N(e,t){if(1&e&&(i.Qb(0),i.Cc(1,M,22,12,"div",19),i.Pb()),2&e){const e=i.ec();i.Bb(1),i.kc("ngForOf",e.chainCommands)}}function L(e,t){if(1&e){const e=i.Tb();i.Sb(0,"button",31),i.ac("click",(function(){i.sc(e);const n=t.index;return i.ec().addCommandBefore(n)})),i.Sb(1,"span"),i.Ec(2,"Add New Item Before"),i.Rb(),i.Rb(),i.Sb(3,"button",31),i.ac("click",(function(){i.sc(e);const n=t.index;return i.ec().addCommandAfter(n)})),i.Sb(4,"span"),i.Ec(5,"Add New Item After"),i.Rb(),i.Rb(),i.Sb(6,"button",31),i.ac("click",(function(){i.sc(e);const n=t.item;return i.ec().deleteCommand(n)})),i.Sb(7,"span"),i.Ec(8,"Delete Item"),i.Rb(),i.Rb()}}let D=(()=>{class e{constructor(e,t){this.chainService=e,this.dialog=t,this.errors=[],this.onConfigUpdated=new i.o,this.sectionErrors=[],this.chainCommands=[]}ngOnInit(){console.log("CHAIN:::s",this.item),console.log("ERORORS:",this.errors),this.sectionErrors=this.getErrors(),this.initCommands()}initCommands(){this.chainCommands=this.item.commands.map(e=>({command:e,errors:this.sectionErrors.filter(t=>t.error.data.command===e.command)}))}ngOnChanges(e){this.sectionErrors=this.getErrors()}ngOnDestroy(){}getErrors(){return this.errors.filter(e=>e.executeContext.item.id===this.item.id&&e.error.origin.location===r.a.Execute.ErrorLocation.chain&&e.error.origin.section===r.a.Execute.ErrorSection.commands)}configUpdated(){this.onConfigUpdated.emit(!0)}editCommand(e,t){this.openCommandDialog(e.command,"edit",t)}createCommand(){this.openCommandDialog(null,"create",-1)}deleteCommand(e){const t=this.item.commands.findIndex(t=>t===e.command);t>=0&&(this.item.commands.splice(t,1),this.saveConfig())}saveConfig(){this.chainService.updateCommands(this.item.commands,this.item.id).subscribe(e=>{this.initCommands(),this.configUpdated()})}addCommandBefore(e){this.openCommandDialog(null,"create",e)}addCommandAfter(e){this.openCommandDialog(null,"create",e+1)}openCommandDialog(e,t,n){this.dialog.open(E,{data:{command:e,type:t,index:n},width:"600px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>{console.log("dialog result: ",e),"create"===e.type?(-1===n?this.item.commands.push(e.command):this.item.commands.splice(e.index,0,e.command),this.saveConfig()):"edit"===e.type&&(this.item.commands.splice(e.index,1,e.command),this.saveConfig())})}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(T.a),i.Mb(s.b))},e.\u0275cmp=i.Gb({type:e,selectors:[["config-commands"]],inputs:{item:"item",renderContext:"renderContext",errors:"errors"},outputs:{onConfigUpdated:"onConfigUpdated"},features:[i.zb],decls:19,vars:4,consts:[[1,"border-bottom"],[1,"p-1","pl-2"],[1,"fa","fa-list"],[1,"p-2"],["class","pl-4 pb-2",4,"ngIf"],[1,"position-relative","pt-2"],[1,"d-flex","align-items-start"],[1,""],[1,"ml-auto"],["mat-button","","mat-raised-button","",3,"click"],[4,"ngIf"],[3,"overlapTrigger"],["commandMenu","matMenu"],["matMenuContent",""],[1,"pl-4","pb-2"],["class","text-danger text-small",4,"ngFor","ngForOf"],[1,"text-danger","text-small"],[1,"fa","fa-exclamation-triangle"],[1,"p-2","text-center"],["class","border p-2 mb-2 chain-command",4,"ngFor","ngForOf"],[1,"border","p-2","mb-2","chain-command"],[1,"pr-3","pl-1"],[1,"chain-index"],[1,"flex-grow-1"],[1,"d-flex","align-items-end"],[1,"ml-auto","cursor-pointer"],[1,"mr-2",3,"click"],[1,"item-menu",3,"matMenuTriggerFor","matMenuTriggerData","inline"],["class","small text-danger",4,"ngFor","ngForOf"],[1,"text-muted","small"],[1,"small","text-danger"],["mat-menu-item","",3,"click"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Nb(2,"i",2),i.Ec(3," Items"),i.Rb(),i.Rb(),i.Sb(4,"div",3),i.Cc(5,F,2,1,"div",4),i.Sb(6,"div",5),i.Sb(7,"div",6),i.Sb(8,"div",7),i.Sb(9,"h2"),i.Ec(10,"List of Items"),i.Rb(),i.Rb(),i.Sb(11,"div",8),i.Sb(12,"button",9),i.ac("click",(function(){return t.createCommand()})),i.Ec(13,"+ Add Item"),i.Rb(),i.Rb(),i.Rb(),i.Cc(14,z,3,0,"ng-container",10),i.Cc(15,N,2,1,"ng-container",10),i.Rb(),i.Rb(),i.Sb(16,"mat-menu",11,12),i.Cc(18,L,9,0,"ng-template",13),i.Rb()),2&e&&(i.Bb(5),i.kc("ngIf",t.sectionErrors.length>0),i.Bb(9),i.kc("ngIf",0===t.chainCommands.length),i.Bb(1),i.kc("ngIf",t.chainCommands.length>0),i.Bb(1),i.kc("overlapTrigger",!0))},directives:[p.t,C.b,O.e,O.a,p.s,_.a,O.d,O.b],pipes:[p.k],styles:[".chain-index[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff;font-weight:700;font-size:18px;border-radius:20px;padding:10px 15px}.chain-command[_ngcontent-%COMP%]{background-color:#f1f1f1}"]}),e})()},gpd5:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("fXoL"),r=n("GV7L"),s=n("0IaG"),o=n("quSY"),a=n("M3NP"),c=n("3D92"),l=n("1jDz"),u=n("bTqV");let d=(()=>{class e{constructor(e,t,n,i,r){this.data=e,this.bluEditorService=t,this.cdr=n,this.itemService=i,this.dialogRef=r,this.subs=new o.a,this.editorOptions={theme:"bluTheme",language:"bluLanguage",lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:"5px",renderLineHighlight:"none",folding:!1}}ngOnInit(){this.item=this.data.item,this.text=this.item.config.filenames,this.renderContext=this.data.renderContext,this.renderContext.inputs.basename="",this.renderContext.inputs.extname="",this.renderContext.inputs.filename=""}ngOnDestroy(){this.subs.unsubscribe(),this.bluEditorService.disposeCompletionProvider()}close(e){this.dialogRef.close({updated:e})}onEditorInit(e){this.editorModel=e,this.setContext()}setContext(){this.editorModel&&this.bluEditorService.registerCompletionProvider(monaco,this.renderContext)}save(){var e;this.editorModel.getValue(),this.item.config.filenames=(null!==(e=this.editorModel.getValue())&&void 0!==e?e:"").trim(),this.itemService.updateConfig(this.item.id,this.item.config).subscribe(e=>this.close(!0))}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(s.a),i.Mb(a.a),i.Mb(i.h),i.Mb(c.a),i.Mb(s.h))},e.\u0275cmp=i.Gb({type:e,selectors:[["edit-filenames-dialog"]],decls:14,vars:6,consts:[["mat-dialog-title",""],[1,"text-capitalize"],["mat-dialog-content","",2,"height","300px"],[1,"border","border-radius","p-2"],[3,"text","editorOptions","height","onEditorInit"],["mat-dialog-actions","",3,"align"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(i.Sb(0,"h1",0),i.Sb(1,"span",1),i.Ec(2,"Edit Filenames for "),i.Rb(),i.Sb(3,"span",1),i.Ec(4),i.Rb(),i.Ec(5),i.Rb(),i.Sb(6,"div",2),i.Sb(7,"div",3),i.Sb(8,"file-editor",4),i.ac("onEditorInit",(function(e){return t.onEditorInit(e)})),i.Rb(),i.Rb(),i.Rb(),i.Sb(9,"div",5),i.Sb(10,"button",6),i.ac("click",(function(){return t.close(!1)})),i.Ec(11,"Close"),i.Rb(),i.Sb(12,"button",6),i.ac("click",(function(){return t.save()})),i.Ec(13,"Save"),i.Rb(),i.Rb()),2&e&&(i.Bb(4),i.Fc(t.item.type),i.Bb(1),i.Gc(": ",t.item.name,""),i.Bb(3),i.kc("text",t.text)("editorOptions",t.editorOptions)("height","40px"),i.Bb(1),i.kc("align","end"))},directives:[s.i,s.f,l.a,s.c,u.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();var p=n("ofXK");function h(e,t){if(1&e&&(i.Sb(0,"div",9),i.Nb(1,"i",10),i.Ec(2),i.Rb()),2&e){const e=t.$implicit;i.Bb(2),i.Gc(" ",e.error.data.message,"")}}function f(e,t){if(1&e&&(i.Sb(0,"div",7),i.Cc(1,h,3,1,"div",8),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.kc("ngForOf",e.sectionErrors)}}function g(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",11),i.ac("click",(function(){i.sc(e);const n=t.$implicit;return i.ec().editProperty(n.item)})),i.Sb(1,"div",12),i.Nb(2,"i",13),i.Sb(3,"span",14),i.Ec(4),i.Rb(),i.Ec(5),i.Rb(),i.Sb(6,"div",15),i.Ec(7,"filenames: "),i.Sb(8,"span",16),i.Ec(9),i.Rb(),i.Rb(),i.Rb()}if(2&e){const e=t.$implicit,n=i.ec();i.Eb("text-primary",e.item===n.selectedItem),i.Bb(4),i.Fc(e.item.type),i.Bb(1),i.Gc(" ",e.item.name,""),i.Bb(4),i.Fc(e.property?e.property:"not set")}}let m=(()=>{class e{constructor(e){this.dialog=e,this.errors=[],this.onConfigUpdated=new i.o,this.property="filenames",this.hierarchy=[],this.sectionErrors=[]}ngOnInit(){this.selectedItem=this.item,this.sectionErrors=this.getErrors(),this.determineHierarchy()}ngOnChanges(e){this.sectionErrors=this.getErrors(),this.determineHierarchy()}determineHierarchy(){this.hierarchy=[];let e=this.item;if(e)for(this.setHierarchy(e);e.parent;)this.setHierarchy(e.parent),e=e.parent}setHierarchy(e){this.hierarchy.unshift({item:e,property:e.config[this.property]})}ngOnDestroy(){}editProperty(e){this.dialog.open(d,{data:{item:e,renderContext:this.renderContext},position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>{console.log("dialog result: ",e),e.updated&&this.onConfigUpdated.emit(!0)})}getErrors(){const e=[];return this.hierarchy.forEach(t=>{const n=this.errors.filter(e=>e.executeContext.item.id===t.item.id&&e.error.origin.location===r.a.Execute.ErrorLocation.config&&e.error.origin.section===r.a.Execute.ErrorSection.settings&&"filenames"===e.error.origin.property);e.push(...n)}),e}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(s.b))},e.\u0275cmp=i.Gb({type:e,selectors:[["config-filenames"]],inputs:{item:"item",errors:"errors",renderContext:"renderContext"},outputs:{onConfigUpdated:"onConfigUpdated"},features:[i.zb],decls:8,vars:2,consts:[[1,"border-bottom"],[1,"p-1","pl-2"],[1,"far","fa-file"],[1,"p-2"],["class","pl-4 pb-2",4,"ngIf"],[1,"position-relative"],["class","pb-1 cursor-pointer position-relative",3,"text-primary","click",4,"ngFor","ngForOf"],[1,"pl-4","pb-2"],["class","text-danger text-small",4,"ngFor","ngForOf"],[1,"text-danger","text-small"],[1,"fa","fa-exclamation-triangle"],[1,"pb-1","cursor-pointer","position-relative",3,"click"],[1,"pl-1"],[1,"fa","fa-chevron-right","text-tiny","mr-1"],[1,"text-capitalize"],[1,"pl-3","p-1"],[1,"text-bold"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Nb(2,"i",2),i.Ec(3," Filenames"),i.Rb(),i.Rb(),i.Sb(4,"div",3),i.Cc(5,f,2,1,"div",4),i.Sb(6,"div",5),i.Cc(7,g,10,5,"div",6),i.Rb(),i.Rb()),2&e&&(i.Bb(5),i.kc("ngIf",t.sectionErrors.length>0),i.Bb(2),i.kc("ngForOf",t.hierarchy))},directives:[p.t,p.s],styles:[""]}),e})()},iFtu:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("fXoL"),r=n("GV7L"),s=n("XNiG"),o=n("quSY"),a=n("Kj3r"),c=n("/uUt"),l=n("3D92"),u=n("M3NP"),d=n("ofXK"),p=n("1jDz");function h(e,t){if(1&e&&(i.Sb(0,"div",9),i.Nb(1,"i",10),i.Ec(2),i.Rb()),2&e){const e=t.$implicit;i.Bb(2),i.Gc(" ",e.error.data.message,"")}}function f(e,t){if(1&e&&(i.Sb(0,"div",7),i.Cc(1,h,3,1,"div",8),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.kc("ngForOf",e.sectionErrors)}}function g(e,t){if(1&e&&(i.Qb(0),i.Sb(1,"div",21),i.Ec(2,"Rendered onSuccess"),i.Rb(),i.Sb(3,"div",22),i.Sb(4,"pre"),i.Ec(5),i.Rb(),i.Rb(),i.Pb()),2&e){const e=i.ec(4);i.Bb(5),i.Fc(e.renderedOnSuccess)}}function m(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",18),i.Sb(1,"div",19),i.Sb(2,"file-editor",20),i.ac("onEditorInit",(function(t){return i.sc(e),i.ec(3).onEditorInit(t)})),i.Rb(),i.Rb(),i.Cc(3,g,6,1,"ng-container",11),i.Rb()}if(2&e){const e=i.ec(3);i.Bb(2),i.kc("text",e.onSuccessText)("editorOptions",e.editorOptions)("height","250px"),i.Bb(1),i.kc("ngIf",e.renderedOnSuccess)}}function b(e,t){if(1&e){const e=i.Tb();i.Qb(0),i.Sb(1,"div",12),i.ac("click",(function(){i.sc(e);const t=i.ec().$implicit;return i.ec().editProperty(t.item)})),i.Sb(2,"div",13),i.Sb(3,"div",14),i.Sb(4,"div",15),i.Nb(5,"i",16),i.Ec(6),i.Rb(),i.Rb(),i.Rb(),i.Cc(7,m,4,4,"div",17),i.Rb(),i.Pb()}if(2&e){const e=i.ec().$implicit,t=i.ec();i.Bb(6),i.Hc(" ",e.item.type,": ",e.item.name," "),i.Bb(1),i.kc("ngIf",t.selectedItem)}}function v(e,t){if(1&e&&(i.Qb(0),i.Cc(1,b,8,3,"ng-container",11),i.Pb()),2&e){const e=t.$implicit;i.Bb(1),i.kc("ngIf",void 0!==e.property)}}let x=(()=>{class e{constructor(e,t){this.itemService=e,this.bluEditorService=t,this.errors=[],this.onConfigUpdated=new i.o,this.property="onSuccess",this.hierarchy=[],this.sectionErrors=[],this.onSuccessText=null,this.editorOptions={theme:"bluTheme",language:"bluLanguage",lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:"5px",renderLineHighlight:"none",folding:!1},this.textToSave$=new s.a,this.subs=new o.a}ngOnInit(){this.determineHierarchy(),this.sectionErrors=this.getErrors(),this.editProperty(this.item),this.subs.add(this.textToSave$.pipe(Object(a.a)(250),Object(c.a)()).subscribe(e=>{this.selectedItem.config.onSuccess=e,this.saveForm()}))}ngOnChanges(e){this.sectionErrors=this.getErrors()}determineHierarchy(){this.hierarchy=[];let e=this.item;for(this.setHierarchy(e);e.parent;)this.setHierarchy(e.parent),e=e.parent}setHierarchy(e){this.hierarchy.unshift({item:e,property:e.config[this.property]})}ngOnDestroy(){this.subs.unsubscribe()}editProperty(e){setTimeout(()=>{this.onSuccessText=e.config.onSuccess,this.selectedItem=e},20)}saveForm(){this.itemService.updateConfig(this.selectedItem.id,this.selectedItem.config).subscribe(e=>this.onConfigUpdated.emit(!0))}getErrors(){const e=[];return this.hierarchy.forEach(t=>{const n=this.errors.filter(e=>e.executeContext.item.id===t.item.id&&e.error.origin.location===r.a.Execute.ErrorLocation.config&&e.error.origin.section===r.a.Execute.ErrorSection.settings&&"onSuccess"===e.error.origin.property);e.push(...n)}),e}onEditorInit(e){this.editorModel=e,this.setContext(),this.editorModel.onDidChangeContent(e=>{this.textToSave$.next(this.editorModel.getValue())})}setContext(){this.editorModel&&this.bluEditorService.registerCompletionProvider(monaco,this.renderContext)}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(l.a),i.Mb(u.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["config-on-success"]],inputs:{item:"item",renderContext:"renderContext",renderedOnSuccess:"renderedOnSuccess",errors:"errors"},outputs:{onConfigUpdated:"onConfigUpdated"},features:[i.zb],decls:8,vars:2,consts:[[1,"border-bottom"],[1,"p-1","pl-2"],[1,"fa","fa-check"],[1,"p-2"],["class","pl-1 pb-2",4,"ngIf"],[1,"position-relative"],[4,"ngFor","ngForOf"],[1,"pl-1","pb-2"],["class","text-danger text-small",4,"ngFor","ngForOf"],[1,"text-danger","text-small"],[1,"fa","fa-exclamation-triangle"],[4,"ngIf"],[1,"pb-2","cursor-pointer","position-relative",3,"click"],[1,"pl-1"],[1,"d-flex","align-items-center"],[1,"",2,"min-width","250px"],[1,"fa","fa-chevron-right","text-tiny"],["class","pl-2 pt-1",4,"ngIf"],[1,"pl-2","pt-1"],[1,"border","border-radius","p-1"],[3,"text","editorOptions","height","onEditorInit"],[1,"pt-3","pb-1","border-bottom"],[1,"pt-2"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Nb(2,"i",2),i.Ec(3," On Success"),i.Rb(),i.Rb(),i.Sb(4,"div",3),i.Cc(5,f,2,1,"div",4),i.Sb(6,"div",5),i.Cc(7,v,2,1,"ng-container",6),i.Rb(),i.Rb()),2&e&&(i.Bb(5),i.kc("ngIf",t.sectionErrors.length>0),i.Bb(2),i.kc("ngForOf",t.hierarchy))},directives:[d.t,d.s,p.a],styles:[""]}),e})()},kjm3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL");let r=(()=>{class e{constructor(){}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["config-links"]],decls:5,vars:0,consts:[[1,"border-bottom"],[1,"p-1","pl-2"],[1,"fa","fa-link"],[1,"p-2"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Nb(2,"i",2),i.Ec(3," Links"),i.Rb(),i.Rb(),i.Nb(4,"div",3))},styles:[""]}),e})()},lsM1:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i=n("fXoL"),r=n("GV7L"),s=n("0IaG"),o=n("XNiG"),a=n("quSY"),c=n("Kj3r"),l=n("/uUt"),u=n("ZJV+"),d=n("M3NP"),p=n("3D92"),h=n("ofXK"),f=n("1jDz"),g=n("bTqV");function m(e,t){1&e&&(i.Sb(0,"div",10),i.Nb(1,"i",11),i.Ec(2," Saved"),i.Rb())}function b(e,t){1&e&&(i.Sb(0,"div",12),i.Nb(1,"i",13),i.Ec(2," Error"),i.Rb())}function v(e,t){if(1&e&&(i.Sb(0,"div",14),i.Nb(1,"i",15),i.Sb(2,"span",16),i.Ec(3),i.Rb(),i.Rb()),2&e){const e=i.ec();i.Bb(3),i.Fc(e.errorMessage)}}let x=(()=>{class e{constructor(e,t,n,i,r,s){this.data=e,this.httpService=t,this.bluEditorService=n,this.cdr=i,this.itemService=r,this.dialogRef=s,this.textToSave$=new o.a,this.subs=new a.a,this.languageType="json",this.editorOptions={language:this.languageType,lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:"5px",renderLineHighlight:"none",folding:!1}}ngOnInit(){this.item=this.data.item,this.renderContext=this.data.renderContext,this.text=JSON.stringify(this.item.variables,null,2),this.subs.add(this.textToSave$.pipe(Object(c.a)(250),Object(l.a)()).subscribe(e=>{this.saveVariables(e)}))}ngOnDestroy(){this.subs.unsubscribe(),this.bluEditorService.disposeCompletionProvider()}saveVariables(e){try{this.item.variables=JSON.parse(e),this.saved=!0,this.updateVariables()}catch(t){this.errorMessage=t.toString(),this.saved=!1}this.cdr.detectChanges()}updateVariables(){this.itemService.updateVariables(this.item.id,this.item.variables).subscribe(e=>null)}close(e){this.dialogRef.close({updated:e})}onEditorInit(e){this.editorModel=e,this.setContext(),this.editorModel.onDidChangeContent(e=>{this.textToSave$.next(this.editorModel.getValue())})}setContext(){this.editorModel&&this.bluEditorService.registerCompletionProvider(monaco,this.renderContext,this.languageType)}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(s.a),i.Mb(u.a),i.Mb(d.a),i.Mb(i.h),i.Mb(p.a),i.Mb(s.h))},e.\u0275cmp=i.Gb({type:e,selectors:[["edit-variables-dialog"]],decls:15,vars:9,consts:[["mat-dialog-title",""],[1,"text-capitalize"],["mat-dialog-content","",2,"height","300px"],[1,"text-right",2,"height","20px"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[3,"text","editorOptions","height","onEditorInit"],["class","pt-1",4,"ngIf"],["mat-dialog-actions","",3,"align"],["mat-button","",3,"click"],[1,"text-success"],[1,"fa","fa-check"],[1,"text-danger"],[1,"fa","fa-times-circle"],[1,"pt-1"],[1,"fa","fa-exclamation-triangle","text-warning","mr-1"],[1,"text-small","text-muted"]],template:function(e,t){1&e&&(i.Sb(0,"h1",0),i.Sb(1,"span",1),i.Ec(2,"Edit Variables for "),i.Rb(),i.Sb(3,"span",1),i.Ec(4),i.Rb(),i.Ec(5),i.Rb(),i.Sb(6,"div",2),i.Sb(7,"div",3),i.Cc(8,m,3,0,"div",4),i.Cc(9,b,3,0,"div",5),i.Rb(),i.Sb(10,"file-editor",6),i.ac("onEditorInit",(function(e){return t.onEditorInit(e)})),i.Rb(),i.Cc(11,v,4,1,"div",7),i.Rb(),i.Sb(12,"div",8),i.Sb(13,"button",9),i.ac("click",(function(){return t.close(!0)})),i.Ec(14,"Close"),i.Rb(),i.Rb()),2&e&&(i.Bb(4),i.Fc(t.item.type),i.Bb(1),i.Gc(": ",t.item.name,""),i.Bb(3),i.kc("ngIf",!0===t.saved),i.Bb(1),i.kc("ngIf",!1===t.saved),i.Bb(1),i.kc("text",t.text)("editorOptions",t.editorOptions)("height","250px"),i.Bb(1),i.kc("ngIf",!1===t.saved),i.Bb(1),i.kc("align","end"))},directives:[s.i,s.f,h.t,f.a,s.c,g.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();function k(e,t){if(1&e&&(i.Sb(0,"div",9),i.Nb(1,"i",10),i.Ec(2),i.Rb()),2&e){const e=t.$implicit;i.Bb(2),i.Gc(" ",e.error.data.message,"")}}function S(e,t){if(1&e&&(i.Sb(0,"div",7),i.Cc(1,k,3,1,"div",8),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.kc("ngForOf",e.sectionErrors)}}function y(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",11),i.ac("click",(function(){i.sc(e);const n=t.$implicit;return i.ec().editVariables(n.item)})),i.Sb(1,"div",12),i.Sb(2,"div",13),i.Sb(3,"div",14),i.Nb(4,"i",15),i.Ec(5),i.Rb(),i.Rb(),i.Rb(),i.Sb(6,"div",16),i.Sb(7,"pre"),i.Ec(8),i.fc(9,"json"),i.Rb(),i.Rb(),i.Rb()}if(2&e){const e=t.$implicit;i.Bb(5),i.Hc(" ",e.item.type,": ",e.item.name," "),i.Bb(3),i.Fc(i.gc(9,3,e.variables))}}let C=(()=>{class e{constructor(e){this.dialog=e,this.errors=[],this.onConfigUpdated=new i.o,this.hierarchy=[],this.sectionErrors=[]}ngOnInit(){this.sectionErrors=this.getErrors(),this.determineHierarchy()}ngOnChanges(e){this.sectionErrors=this.getErrors(),this.determineHierarchy()}determineHierarchy(){this.hierarchy=[];let e=this.item;if(e)for(this.setHierarchy(e);e.parent;)this.setHierarchy(e.parent),e=e.parent}setHierarchy(e){this.hierarchy.unshift({item:e,variables:e.variables})}ngOnDestroy(){}getErrors(){const e=[];return this.hierarchy.forEach(t=>{const n=this.errors.filter(e=>e.executeContext.item.id===t.item.id&&e.error.origin.location===r.a.Execute.ErrorLocation.config&&e.error.origin.section===r.a.Execute.ErrorSection.variables);e.push(...n)}),e}editVariables(e){this.dialog.open(x,{data:{item:e,renderContext:this.renderContext},minWidth:"650px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>{this.determineHierarchy(),this.configUpdated()})}configUpdated(){this.onConfigUpdated.emit(!0)}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(s.b))},e.\u0275cmp=i.Gb({type:e,selectors:[["config-variables"]],inputs:{item:"item",renderContext:"renderContext",errors:"errors"},outputs:{onConfigUpdated:"onConfigUpdated"},features:[i.zb],decls:8,vars:2,consts:[[1,"border-bottom"],[1,"p-1","pl-2"],[1,"fa","fa-equals"],[1,"p-2"],["class","pl-4 pb-2",4,"ngIf"],[1,"position-relative"],["class","cursor-pointer position-relative",3,"click",4,"ngFor","ngForOf"],[1,"pl-4","pb-2"],["class","text-danger text-small",4,"ngFor","ngForOf"],[1,"text-danger","text-small"],[1,"fa","fa-exclamation-triangle"],[1,"cursor-pointer","position-relative",3,"click"],[1,"pl-1"],[1,"d-flex","align-items-center"],[1,"",2,"min-width","250px"],[1,"fa","fa-chevron-right","text-tiny"],[1,"pl-4","pt-1"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Nb(2,"i",2),i.Ec(3," Variables"),i.Rb(),i.Rb(),i.Sb(4,"div",3),i.Cc(5,S,2,1,"div",4),i.Sb(6,"div",5),i.Cc(7,y,10,5,"div",6),i.Rb(),i.Rb()),2&e&&(i.Bb(5),i.kc("ngIf",t.sectionErrors.length>0),i.Bb(2),i.kc("ngForOf",t.hierarchy))},directives:[h.t,h.s],pipes:[h.k],styles:[""]}),e})()},nC7K:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),r=n("bTqV"),s=n("NFeN"),o=n("STbY"),a=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,r.c,s.b,o.c]]}),e})()},pr2P:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i=n("fXoL"),r=n("DlQD"),s=n("XNiG"),o=n("quSY"),a=n("Kj3r"),c=n("/uUt"),l=n("3D92"),u=n("ofXK"),d=n("1jDz");function p(e,t){if(1&e){const e=i.Tb();i.Sb(0,"span",8),i.ac("click",(function(){return i.sc(e),i.ec().showSection("edit")})),i.Ec(1,"edit"),i.Rb()}if(2&e){const e=i.ec();i.Eb("text-primary","edit"===e.section)}}function h(e,t){if(1&e){const e=i.Tb();i.Sb(0,"span",8),i.ac("click",(function(){return i.sc(e),i.ec().showSection("preview")})),i.Ec(1,"preview"),i.Rb()}if(2&e){const e=i.ec();i.Eb("text-primary","preview"===e.section)}}function f(e,t){if(1&e){const e=i.Tb();i.Qb(0),i.Sb(1,"div",11),i.ac("click",(function(){return i.sc(e),i.ec(2).showSection("edit")})),i.Sb(2,"span",12),i.Ec(3,"No Readme Available. Click to edit."),i.Rb(),i.Rb(),i.Pb()}}function g(e,t){if(1&e&&i.Nb(0,"div",14),2&e){const e=i.ec(3);i.kc("innerHTML",e.markdownHTML,i.tc)}}function m(e,t){if(1&e&&(i.Qb(0),i.Cc(1,g,1,1,"div",13),i.Pb()),2&e){const e=i.ec(2);i.Bb(1),i.kc("ngIf",e.markdownHTML)}}function b(e,t){if(1&e&&(i.Sb(0,"div",9),i.Cc(1,f,4,0,"ng-container",10),i.Cc(2,m,2,1,"ng-container",10),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.kc("ngIf",!e.text),i.Bb(1),i.kc("ngIf",!!e.text)}}function v(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",15),i.Sb(1,"file-editor",16),i.ac("onContentChange",(function(t){return i.sc(e),i.ec().updateReadme(t)})),i.Rb(),i.Rb()}if(2&e){const e=i.ec();i.Bb(1),i.kc("text",e.text)("editorOptions",e.editorOptions)("height","100%")}}let x=(()=>{class e{constructor(e){this.itemService=e,this.textToSave$=new s.a,this.onConfigUpdated=new i.o,this.editorOptions={language:"markdown",matchBrackets:"never",lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:"5px",renderLineHighlight:"none",folding:!1},this.section="preview",this.subs=new o.a}ngOnInit(){this.showSection("preview"),this.text=this.item.readme,this.subs.add(this.textToSave$.pipe(Object(a.a)(250),Object(c.a)()).subscribe(e=>{this.item.readme=e,this.saveForm()}))}showSection(e){this.text=this.item.readme,"preview"===e&&(this.markdownHTML=r(this.item.readme)),this.section=e}ngOnDestroy(){this.subs.unsubscribe()}saveForm(){this.itemService.updateReadme(this.item.id,this.item.readme).subscribe(e=>this.onConfigUpdated.emit(!0))}updateReadme(e){this.textToSave$.next(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Mb(l.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["config-info"]],inputs:{item:"item"},outputs:{onConfigUpdated:"onConfigUpdated"},decls:10,vars:4,consts:[[1,"border-bottom"],[1,"pl-2"],[1,"fab","fa-readme"],[1,"p-2"],[1,"cursor-pointer","text-right"],[3,"text-primary","click",4,"ngIf"],["class","",4,"ngIf"],["class","p-2 border","style","height:500px",4,"ngIf"],[3,"click"],[1,""],[4,"ngIf"],[1,"text-center",3,"click"],[1,"border-bottom","cursor-pointer"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[1,"p-2","border",2,"height","500px"],[3,"text","editorOptions","height","onContentChange"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Nb(2,"i",2),i.Ec(3," Readme"),i.Rb(),i.Rb(),i.Sb(4,"div",3),i.Sb(5,"div",4),i.Cc(6,p,2,2,"span",5),i.Cc(7,h,2,2,"span",5),i.Rb(),i.Cc(8,b,3,2,"div",6),i.Cc(9,v,2,3,"div",7),i.Rb()),2&e&&(i.Bb(6),i.kc("ngIf","preview"===t.section),i.Bb(1),i.kc("ngIf","edit"===t.section),i.Bb(1),i.kc("ngIf","preview"===t.section),i.Bb(1),i.kc("ngIf","edit"===t.section))},directives:[u.t,d.a],styles:[""]}),e})()},vabg:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("ofXK"),r=n("fXoL");let s=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c]]}),e})()},yjV7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),r=n("xyCH"),s=n("fXoL");let o=(()=>{class e{}return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,r.a]]}),e})()}}]);