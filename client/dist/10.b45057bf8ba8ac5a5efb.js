(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{GJBm:function(t,e,i){"use strict";i.r(e),i.d(e,"CommunityModule",(function(){return N}));var n=i("ofXK"),c=i("tyNb"),o=i("quSY"),s=i("AytR"),a=i("fXoL"),r=i("n2Wo"),b=i("biaL"),l=i("3sFK"),d=i("k1Ex"),u=i("nZ6g"),m=i("a8/g"),p=i("STbY"),f=i("48o/"),g=i("cvgN"),v=i("bTqV"),k=i("Qu3c"),h=i("f0Cb"),x=i("bv9b");function R(t,e){1&t&&(a.Rb(0,"div",15),a.Ec(1,"No public generators available."),a.Qb())}function Q(t,e){1&t&&a.Mb(0,"i",31),2&t&&a.jc("matTooltip","Contains Starter Code")}function I(t,e){if(1&t&&(a.Rb(0,"div",46),a.Ec(1),a.Qb()),2&t){const t=a.dc(2).$implicit;a.Ab(1),a.Gc(" ",t.description," ")}}function y(t,e){1&t&&a.Mb(0,"mat-divider")}function C(t,e){if(1&t&&(a.Rb(0,"tr"),a.Rb(1,"td",38),a.Ec(2,"Published:"),a.Qb(),a.Rb(3,"td",39),a.Ec(4),a.Qb(),a.Qb()),2&t){const t=a.dc(2).$implicit,e=a.dc(2);a.Ab(4),a.Fc(e.formatDate(t.lastUpdated))}}function S(t,e){if(1&t&&(a.Rb(0,"tr"),a.Rb(1,"td",38),a.Ec(2,"Starter Code:"),a.Qb(),a.Rb(3,"td",47),a.Rb(4,"a",41),a.Ec(5),a.Qb(),a.Qb(),a.Qb()),2&t){const t=a.dc(2).$implicit;a.Ab(4),a.jc("href",t.seed.url,a.tc),a.Ab(1),a.Fc(t.seed.url)}}const E=function(t){return{stack:t}};function w(t,e){if(1&t&&(a.Rb(0,"div",32),a.Rb(1,"div",33),a.Cc(2,I,2,1,"div",34),a.Cc(3,y,1,0,"mat-divider",35),a.Rb(4,"div",36),a.Rb(5,"table",37),a.Rb(6,"tr"),a.Rb(7,"td",38),a.Ec(8,"Version:"),a.Qb(),a.Rb(9,"td",39),a.Ec(10),a.Qb(),a.Qb(),a.Cc(11,C,5,1,"tr",35),a.Cc(12,S,6,2,"tr",35),a.Qb(),a.Qb(),a.Qb(),a.Rb(13,"div",40),a.Rb(14,"a",41),a.Rb(15,"button",42),a.Ec(16,"More Info "),a.Mb(17,"i",43),a.Qb(),a.Qb(),a.Rb(18,"button",44),a.Rb(19,"div",18),a.Rb(20,"div",13),a.Ec(21,"Install..."),a.Qb(),a.Rb(22,"div",25),a.Mb(23,"i",45),a.Qb(),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&t){const t=a.dc().$implicit,e=a.dc(2),i=a.oc(13);a.Ab(2),a.jc("ngIf",t.description),a.Ab(1),a.jc("ngIf",t.description),a.Ab(7),a.Fc(t.version),a.Ab(1),a.jc("ngIf",t.lastUpdated),a.Ab(1),a.jc("ngIf",null==t.seed?null:t.seed.url),a.Ab(2),a.jc("href",e.stackjoyURL+"/stack/"+t.displayName,a.tc),a.Ab(4),a.jc("matMenuTriggerFor",i)("matMenuTriggerData",a.lc(8,E,t))}}function L(t,e){if(1&t){const t=a.Sb();a.Rb(0,"div",16),a.Rb(1,"div",17),a.Rb(2,"div",18),a.Rb(3,"div",19),a.Mb(4,"sj-logo"),a.Qb(),a.Rb(5,"div",20),a.Rb(6,"div",21),a.Zb("click",(function(){a.rc(t);const i=e.$implicit;return a.dc(2).toggleItemList(i)})),a.Mb(7,"stack-name",22),a.Cc(8,Q,1,1,"i",23),a.Qb(),a.Rb(9,"div",24),a.Ec(10),a.Qb(),a.Qb(),a.Rb(11,"div",25),a.Rb(12,"button",26),a.Zb("click",(function(){a.rc(t);const i=e.$implicit;return a.dc(2).installStack(i)})),a.Ec(13,"Install"),a.Qb(),a.Qb(),a.Rb(14,"div",27),a.Rb(15,"button",28),a.Zb("click",(function(){a.rc(t);const i=e.$implicit;return a.dc(2).toggleItemList(i)})),a.Mb(16,"i",29),a.Qb(),a.Qb(),a.Qb(),a.Cc(17,w,24,10,"div",30),a.Qb(),a.Qb()}if(2&t){const t=e.$implicit,i=a.dc(2);a.Ab(7),a.jc("name",t.displayName)("prefix",null==t.organization?null:t.organization.prefix),a.Ab(1),a.jc("ngIf",null==t.seed?null:t.seed.url),a.Ab(2),a.Gc(" ",t.description," "),a.Ab(6),a.Db("fa-chevron-up",i.isItemOpen(t))("fa-chevron-down",!i.isItemOpen(t)),a.Ab(1),a.jc("ngIf",i.isItemOpen(t))}}function j(t,e){if(1&t&&(a.Pb(0),a.Cc(1,R,2,0,"div",12),a.Rb(2,"div",13),a.Cc(3,L,18,9,"div",14),a.Qb(),a.Ob()),2&t){const t=a.dc();a.Ab(1),a.jc("ngIf",0===t.stacks.length),a.Ab(2),a.jc("ngForOf",t.stacks)}}function A(t,e){1&t&&(a.Rb(0,"div",48),a.Mb(1,"mat-progress-bar",49),a.Qb())}function M(t,e){if(1&t){const t=a.Sb();a.Rb(0,"button",50),a.Zb("click",(function(){a.rc(t);const i=e.stack;return a.dc().installStack(i)})),a.Ec(1,"Install Into Current "),a.Rb(2,"span",51),a.Ec(3),a.Qb(),a.Qb(),a.Rb(4,"button",52),a.Zb("click",(function(){a.rc(t);const i=e.stack;return a.dc().installIntoNewWorkspace(i)})),a.Ec(5,"Install Into New Workspace"),a.Qb()}if(2&t){const t=a.dc();a.Ab(3),a.Fc(t.currentEnvironment.type)}}const F=c.f.forChild([{path:"",component:(()=>{class t{constructor(t,e,i,n,c,a){this.stackService=t,this.userService=e,this.appEnvironmentService=i,this.myItemsService=n,this.dialogService=c,this.appConsoleService=a,this.itemList={},this.stackjoyURL=s.a.stackjoyURL,this.subs=new o.a}ngOnInit(){this.subs.add(this.stackService.getPublicStacks().subscribe(t=>{this.stacks=t},t=>this.stacks=[])),this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>this.currentEnvironment=t)),this.subs.add(this.userService.user$.subscribe(t=>this.isLoggedIn=t.isLoggedIn))}ngOnDestroy(){this.subs.unsubscribe()}installStack(t){this.appConsoleService.openBluConsole({command:`\n    install ${t.displayName}\n  `,extraInfo:{stack:t,source:"remote"}})}toggleItemList(t){const e=t.eid;this.itemList[e]=!this.itemList[e]}isItemOpen(t){return this.itemList[t.eid]}installIntoNewWorkspace(t){this.isLoggedIn?this.myItemsService.createNewWorkspace(t):this.dialogService.openMustLoginDialog()}formatDate(t){return new Date(t).toLocaleDateString()}formatInstallCount(t){return t<1e3?"<1k":t<1e5?t-t%1e3:t<1e6?t-t%1e4:void 0}starStack(t){this.stackService.starStack(t.eid).subscribe(e=>{t.metadata=e},console.error)}moreInfo(){}}return t.\u0275fac=function(e){return new(e||t)(a.Lb(r.a),a.Lb(b.a),a.Lb(l.a),a.Lb(d.a),a.Lb(u.a),a.Lb(m.a))},t.\u0275cmp=a.Fb({type:t,selectors:[["community"]],decls:15,vars:3,consts:[[1,"basic-page","workspace-page","flex-column"],[1,"pb-2"],[1,"pb-2",2,"border-bottom","1px solid #F1F1F1"],[1,"text-bold"],[1,"description","text-muted","text-small","as-link-hover",3,"routerLink"],[1,"fa","fa-info-circle","text-tiny","text-muted"],[1,"pt-2"],[4,"ngIf","ngIfElse"],["loading",""],["xPosition","before"],["installMenu",""],["matMenuContent",""],["class","text-small text-muted p-2",4,"ngIf"],[1,""],["class","py-2 align-top","style","width: 600px;",4,"ngFor","ngForOf"],[1,"text-small","text-muted","p-2"],[1,"py-2","align-top",2,"width","600px"],[1,"shadow","p-2","border","rounded"],[1,"d-flex","align-items-center"],[1,"pl-2"],[1,"pl-3"],[1,"cursor-pointer",3,"click"],[3,"name","prefix"],["class","fa fa-code-branch text-small text-muted ml-1",3,"matTooltip",4,"ngIf"],[1,"text-muted","text-tiny"],[1,"ml-auto"],["mat-button","",3,"click"],[1,"ml-1"],["mat-button","","mat-icon-button","",3,"click"],[1,"fa"],["class","border-top p-2 d-flex align-items-start flex-grow-1",4,"ngIf"],[1,"fa","fa-code-branch","text-small","text-muted","ml-1",3,"matTooltip"],[1,"border-top","p-2","d-flex","align-items-start","flex-grow-1"],[1,"d-flex","flex-column","flex-grow-1","flex-shrink-0"],["class","py-3 pl-2",4,"ngIf"],[4,"ngIf"],[1,"py-2","pl-1"],[1,"stack-info-table"],[1,"text-muted"],[1,"text-small"],[1,"ml-auto","p-2","border-left","h-100"],["target","_blank",3,"href"],["mat-button",""],[1,"fa","fa-external-link-alt","ml-2","text-muted"],["mat-button","",1,"d-block","w-100",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-chevron-down","ml-2"],[1,"py-3","pl-2"],[1,"text-small","ellipsis",2,"max-width","400px"],[1,"p-2"],["mode","indeterminate"],["mat-menu-item","",3,"click"],[1,"text-capitalize"],["mat-menu-item","",1,"d-block",3,"click"]],template:function(t,e){if(1&t&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Rb(2,"div",2),a.Rb(3,"div",3),a.Ec(4,"Stackjoy Community"),a.Qb(),a.Rb(5,"div",4),a.Ec(6,"Public generators and starter stacks created by the stackjoy community "),a.Mb(7,"i",5),a.Qb(),a.Qb(),a.Qb(),a.Rb(8,"div",6),a.Cc(9,j,4,2,"ng-container",7),a.Cc(10,A,2,0,"ng-template",null,8,a.Dc),a.Qb(),a.Qb(),a.Rb(12,"mat-menu",9,10),a.Cc(14,M,6,1,"ng-template",11),a.Qb()),2&t){const t=a.oc(11);a.Ab(5),a.jc("routerLink","/documentation/community/introduction"),a.Ab(4),a.jc("ngIf",e.stacks)("ngIfElse",t)}},directives:[c.d,n.t,p.e,p.a,n.s,f.a,g.a,v.b,k.a,p.d,h.a,x.a,p.b],styles:["[_nghost-%COMP%]{display:flex;flex:1}.stack-info-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px}"]}),t})(),children:[]}]);var T=i("q2+V"),O=i("bKa3");let N=(()=>{class t{}return t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,F,x.b,v.c,T.a,O.a,h.b,p.c,k.b]]}),t})()},k1Ex:function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));var n=i("HdQx"),c=i("b5vT"),o=i("IzEk"),s=i("fXoL"),a=i("0IaG"),r=i("a8/g"),b=i("xm+p"),l=i("3sFK");let d=(()=>{class t{constructor(t,e,i,n){this.dialog=t,this.appConsoleService=e,this.navigationService=i,this.appEnvironmentService=n}createNewWorkspace(t){const e=this.dialog.open(c.a,{data:{type:n.a.Environment.Type.Workspace,stack:t},disableClose:!0,minWidth:"600px",position:{top:"100px"},autoFocus:!0});return e.afterClosed().subscribe(e=>{e.continue&&this.appEnvironmentService.switchToEnvironment(e.newEnvironment.id).subscribe(e=>{setTimeout(()=>{this.appConsoleService.openBluConsole({command:"install "+t.displayName,extraInfo:{stack:t}}).afterClosed().pipe(Object(o.a)(1)).subscribe(t=>this.navigationService.navigateTo(["workspace"]))},250)})}),e}}return t.\u0275fac=function(e){return new(e||t)(s.Vb(a.b),s.Vb(r.a),s.Vb(b.a),s.Vb(l.a))},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);