(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"6ikm":function(t,e,n){"use strict";n.r(e),n.d(e,"MyItemsListModule",(function(){return We}));var i=n("ofXK"),c=n("tyNb"),s=n("HdQx"),o=n("quSY"),r=n("b5vT"),a=n("fXoL"),b=n("3sFK"),l=n("0IaG"),u=n("cp0P"),d=n("3Pt+"),m=n("kmnG"),p=n("qFsG"),f=n("bTqV");let h=(()=>{class t{constructor(t,e,n,i){var c;this.fb=t,this.appEnvironmentService=e,this.data=n,this.dialogRef=i,this.form=this.fb.group({name:[null===(c=this.data.environment)||void 0===c?void 0:c.name,[d.E.required]]})}ngOnInit(){this.form.valueChanges.subscribe(t=>{})}ngOnDestroy(){}close(){this.dialogRef.close(this.form.value)}save(){this.appEnvironmentService.rename(this.data.environment.id,this.form.controls.name.value).subscribe(t=>{this.dialogRef.close({success:!0})},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(d.f),a.Mb(b.a),a.Mb(l.a),a.Mb(l.h))},t.\u0275cmp=a.Gb({type:t,selectors:[["rename-environment-dialog"]],decls:13,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"mat-form-field"],["placeholder","Text Input","matInput","","formControlName","name"],["mat-dialog-actions","",3,"align"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(a.Sb(0,"h1",0),a.Fc(1),a.Sb(2,"span"),a.Fc(3),a.Rb(),a.Rb(),a.Sb(4,"div",1),a.Sb(5,"form",2),a.Sb(6,"mat-form-field",3),a.Nb(7,"input",4),a.Rb(),a.Rb(),a.Rb(),a.Sb(8,"div",5),a.Sb(9,"button",6),a.Fc(10,"Cancel"),a.Rb(),a.Sb(11,"button",7),a.ac("click",(function(){return e.save()})),a.Fc(12,"Rename"),a.Rb(),a.Rb()),2&t&&(a.Bb(1),a.Hc("Rename ",e.data.environment.name," "),a.Bb(2),a.Gc(e.data.environment.type),a.Bb(2),a.kc("formGroup",e.form),a.Bb(3),a.kc("align","end"),a.Bb(3),a.kc("disabled",e.form.invalid))},directives:[l.i,l.f,d.G,d.r,d.j,m.c,p.a,d.c,d.q,d.i,l.c,f.b,l.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var v=n("Mzu6"),g=n("IzEk"),S=n("N4Rb"),k=n("xm+p");function R(t,e){if(1&t){const t=a.Tb();a.Sb(0,"tr"),a.Sb(1,"td",2),a.Sb(2,"div",2),a.Fc(3),a.Rb(),a.Sb(4,"div",9),a.Fc(5),a.Rb(),a.Rb(),a.Sb(6,"td"),a.Sb(7,"button",10),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).selectWorkspace(e)})),a.Fc(8,"Select"),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=a.ec().$implicit;a.Bb(3),a.Hc(" ",t.name,""),a.Bb(2),a.Gc(t.codebasePath)}}function y(t,e){if(1&t&&(a.Qb(0),a.Dc(1,R,9,2,"tr",8),a.Pb()),2&t){const t=e.$implicit;a.Bb(1),a.kc("ngIf",!t.remoteOnly)}}function I(t,e){if(1&t&&(a.Sb(0,"table",4),a.Sb(1,"tr",5),a.Sb(2,"th",6),a.Fc(3,"My Workspaces"),a.Rb(),a.Rb(),a.Dc(4,y,2,1,"ng-container",7),a.Rb()),2&t){const t=a.ec();a.Bb(4),a.kc("ngForOf",t.workspaces)}}let w=(()=>{class t{constructor(t,e,n,i){this.workspaceService=t,this.appEnvironmentService=e,this.navigationService=n,this.dialogRef=i}ngOnInit(){this.getWorkspaces()}selectWorkspace(t){this.appEnvironmentService.switchToEnvironment(t.id).subscribe(t=>{this.navigationService.navigateTo(["app-environment"]),this.dialogRef.close()})}getWorkspaces(){this.workspaceService.getUserWorkspaces().subscribe(t=>{this.workspaces=t.sort((t,e)=>{var n,i;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())>(null===(i=e.name)||void 0===i?void 0:i.toLowerCase())?1:-1})})}ngOnDestroy(){}close(){this.dialogRef.close(this.form.value)}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(S.a),a.Mb(b.a),a.Mb(k.a),a.Mb(l.h))},t.\u0275cmp=a.Gb({type:t,selectors:[["select-environment-dialog"]],decls:5,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,""],["class","table",4,"ngIf"],[1,"table"],[1,"border-top-0"],[1,"text-capitalize","border-top-0"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"codebase-path","text-muted"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(a.Sb(0,"h1",0),a.Fc(1,"Select Workspace"),a.Rb(),a.Sb(2,"div",1),a.Sb(3,"div",2),a.Dc(4,I,5,1,"table",3),a.Rb(),a.Rb()),2&t&&(a.Bb(4),a.kc("ngIf",(null==e.workspaces?null:e.workspaces.length)>0))},directives:[l.i,l.f,i.t,i.s,f.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var x=n("aSHc"),E=n("oCqB"),P=n("QibW"),F=n("bv9b");function B(t,e){if(1&t&&(a.Qb(0),a.Sb(1,"form",5),a.Sb(2,"mat-radio-group",6),a.Sb(3,"mat-radio-button",7),a.Fc(4,"Make Stack Public"),a.Rb(),a.Sb(5,"mat-radio-button",7),a.Fc(6,"Make Stack Private"),a.Rb(),a.Rb(),a.Sb(7,"div",8),a.Sb(8,"div",9),a.Fc(9,"Public: \xa0\xa0Anyone can install this stack."),a.Rb(),a.Sb(10,"div",9),a.Fc(11,"Private: Only users who have access to this stack can install it."),a.Rb(),a.Rb(),a.Rb(),a.Pb()),2&t){const t=a.ec();a.Bb(1),a.kc("formGroup",t.form),a.Bb(2),a.kc("value","public"),a.Bb(2),a.kc("value","private")}}function D(t,e){1&t&&(a.Sb(0,"div",10),a.Sb(1,"div"),a.Fc(2,"Publishing Stack..."),a.Rb(),a.Nb(3,"mat-progress-bar",11),a.Rb())}function C(t,e){if(1&t&&(a.Qb(0),a.Sb(1,"div",12),a.Nb(2,"i",13),a.Fc(3),a.Rb(),a.Pb()),2&t){const t=a.ec();a.Bb(3),a.Hc(" Stack: ",t.data.stack.name," has been published! ")}}function O(t,e){if(1&t&&(a.Sb(0,"div",18),a.Fc(1),a.Rb()),2&t){const t=a.ec(2);a.Bb(1),a.Hc("Error: ",t.errorMessage,"")}}function M(t,e){if(1&t&&(a.Qb(0),a.Sb(1,"div",14),a.Nb(2,"i",15),a.Fc(3," Failed to publish stack: "),a.Sb(4,"span",16),a.Fc(5),a.Rb(),a.Fc(6,". "),a.Rb(),a.Dc(7,O,2,1,"div",17),a.Pb()),2&t){const t=a.ec();a.Bb(5),a.Gc(t.data.stack.name),a.Bb(2),a.kc("ngIf",t.errorMessage)}}function T(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"button",19),a.Fc(2,"Cancel"),a.Rb(),a.Sb(3,"button",20),a.ac("click",(function(){return a.sc(t),a.ec().publish()})),a.Fc(4,"Publish"),a.Rb(),a.Pb()}if(2&t){const t=a.ec();a.Bb(3),a.kc("disabled",t.form.invalid)}}function N(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"button",21),a.ac("click",(function(){return a.sc(t),a.ec().close()})),a.Fc(2,"Close"),a.Rb(),a.Pb()}}let $=(()=>{class t{constructor(t,e,n,i){this.fb=t,this.stackService=e,this.data=n,this.dialogRef=i,this.actionState=x.a,this.currentState=x.a.IDLE,this.form=this.fb.group({textInput:[],visibility:["public",[d.E.required]],select:[]})}ngOnInit(){this.errorMessage=null,this.form.valueChanges.subscribe(t=>{})}ngOnDestroy(){}close(){this.dialogRef.close(this.form.value)}publish(){this.currentState=x.a.ACQUIRING,this.stackService.publishStack(this.data.stack.id).subscribe(t=>{this.currentState=x.a.SUCCESS},t=>{this.currentState=x.a.FAILED,this.errorMessage=t.message||"Unknown error occurred while trying to publish stack."})}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(d.f),a.Mb(E.a),a.Mb(l.a),a.Mb(l.h))},t.\u0275cmp=a.Gb({type:t,selectors:[["publish-stack-dialog"]],decls:10,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf"],["class","text-center p-2",4,"ngIf"],["mat-dialog-actions","",3,"align"],[3,"formGroup"],["aria-label","Select an option","formControlName","visibility",1,"mat-radio-group"],[1,"mat-radio-button",3,"value"],[1,"pb-2"],[1,"text-small","text-muted"],[1,"text-center","p-2"],["mode","indeterminate"],[1,"text-center","p-2","text-success"],[1,"fa","fa-check","mr-2"],[1,"text-center","p-2","text-red"],[1,"fa","fa-times-circle","mr-2"],[1,"text-capitalize"],["class","text-muted text-small pl-5",4,"ngIf"],[1,"text-muted","text-small","pl-5"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(a.Sb(0,"h1",0),a.Fc(1,"Publish Stack"),a.Rb(),a.Sb(2,"div",1),a.Dc(3,B,12,3,"ng-container",2),a.Dc(4,D,4,0,"div",3),a.Dc(5,C,4,1,"ng-container",2),a.Dc(6,M,8,2,"ng-container",2),a.Rb(),a.Sb(7,"div",4),a.Dc(8,T,5,1,"ng-container",2),a.Dc(9,N,3,0,"ng-container",2),a.Rb()),2&t&&(a.Bb(3),a.kc("ngIf",e.currentState===e.actionState.IDLE),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.ACQUIRING),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.SUCCESS),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.FAILED),a.Bb(1),a.kc("align","end"),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.IDLE),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.SUCCESS||e.currentState===e.actionState.FAILED))},directives:[l.i,l.f,i.t,l.c,d.G,d.r,d.j,P.b,d.q,d.i,P.a,F.a,f.b,l.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var W=n("VaEd"),L=n("a8/g"),j=n("k1Ex"),Q=n("I/3d");function G(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"button",1),a.ac("click",(function(){return a.sc(t),a.ec().downloadRemoteStack()})),a.Nb(2,"i",2),a.Fc(3," Download Remote Stack"),a.Rb(),a.Pb()}}function A(t,e){1&t&&(a.Qb(0),a.Sb(1,"div",3),a.Nb(2,"mat-progress-bar",4),a.Sb(3,"div",5),a.Fc(4,"downloading stack"),a.Rb(),a.Rb(),a.Pb())}function U(t,e){if(1&t&&(a.Qb(0),a.Sb(1,"div",6),a.Nb(2,"i",7),a.Fc(3),a.Rb(),a.Pb()),2&t){const t=a.ec();a.Bb(3),a.Hc(" Error Downloading Stack ",t.stack.name,"")}}let q=(()=>{class t{constructor(t){this.stackService=t,this.onFinished=new a.o,this.actionState=x.a,this.currentState=x.a.IDLE,this.subs=new o.a}ngOnInit(){}ngOnDestroy(){this.subs.unsubscribe()}downloadRemoteStack(){this.currentState=this.actionState.ACQUIRING,this.subs.add(this.stackService.downloadStack(this.stack.remote.id,this.stack.name,this.stack.remote.version,s.a.Environment.Type.Stack).subscribe(t=>{this.currentState=this.actionState.SUCCESS,this.onFinished.emit(!0)}))}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(E.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["download-remote-stack"]],inputs:{stack:"stack"},outputs:{onFinished:"onFinished"},decls:3,vars:3,consts:[[4,"ngIf"],["mat-button","",3,"click"],[1,"fa","fa-download","text-muted"],[1,"text-center"],["mode","buffer"],[1,"text-small"],[1,"text-warning"],[1,"fa","fa-exclamation-triangle"]],template:function(t,e){1&t&&(a.Dc(0,G,4,0,"ng-container",0),a.Dc(1,A,5,0,"ng-container",0),a.Dc(2,U,4,1,"ng-container",0)),2&t&&(a.kc("ngIf",e.currentState===e.actionState.IDLE),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.ACQUIRING),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.FAILED))},directives:[i.t,f.b,F.a],styles:[""]}),t})();var _=n("Qu3c");function H(t,e){1&t&&(a.Sb(0,"div",11),a.Fc(1,"No stacks present"),a.Rb())}function z(t,e){1&t&&(a.Sb(0,"div",24),a.Sb(1,"button",25),a.Nb(2,"i",26),a.Rb(),a.Rb())}function K(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",4),a.Sb(1,"button",27),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).switchEnvironment(e)})),a.Nb(2,"i",28),a.Rb(),a.Rb()}if(2&t){const t=a.ec().$implicit,e=a.ec(2);a.Bb(1),a.kc("disabled",e.isCurrentEnv(t))}}function J(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",4),a.Sb(1,"button",29),a.ac("click",(function(){a.sc(t);const e=a.ec(3).$implicit;return a.ec(2).publishStack(e)})),a.Nb(2,"i",30),a.Fc(3," Publish Stack"),a.Rb(),a.Rb()}2&t&&(a.Bb(1),a.kc("title","Publish Stack"))}function Y(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",4),a.Sb(1,"button",29),a.ac("click",(function(){a.sc(t);const e=a.ec(4).$implicit;return a.ec(2).publishStack(e)})),a.Nb(2,"i",30),a.Fc(3," Push your changes"),a.Rb(),a.Rb()}2&t&&(a.Bb(1),a.kc("title","Push Your Changes"))}function V(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",4),a.Sb(1,"button",29),a.ac("click",(function(){a.sc(t);const e=a.ec(4).$implicit;return a.ec(2).syncStack(e)})),a.Nb(2,"i",26),a.Fc(3," Pull new updates"),a.Rb(),a.Rb()}2&t&&(a.Bb(1),a.kc("title","Pull New Updates"))}function X(t,e){1&t&&(a.Sb(0,"div",32),a.Fc(1,"Requires merge!"),a.Rb())}function Z(t,e){if(1&t&&(a.Sb(0,"div",4),a.Dc(1,Y,4,1,"div",17),a.Dc(2,V,4,1,"div",17),a.Dc(3,X,2,0,"div",31),a.Rb()),2&t){const t=a.ec(3).$implicit;a.Bb(1),a.kc("ngIf",!t.remote.isClean),a.Bb(1),a.kc("ngIf",t.localVersion!=(null==t.remote?null:t.remote.version)),a.Bb(1),a.kc("ngIf",null==t.remote?null:t.remote.requiresMerge)}}function tt(t,e){if(1&t&&(a.Qb(0),a.Dc(1,J,4,1,"div",17),a.Dc(2,Z,4,3,"div",17),a.Pb()),2&t){const t=a.ec(2).$implicit;a.Bb(1),a.kc("ngIf",t.isLocal),a.Bb(1),a.kc("ngIf",t.remote)}}function et(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"download-remote-stack",33),a.ac("onFinished",(function(){return a.sc(t),a.ec(4).getEnvironments()})),a.Rb(),a.Pb()}if(2&t){const t=a.ec(2).$implicit;a.Bb(1),a.kc("stack",t)}}function nt(t,e){if(1&t&&(a.Qb(0),a.Dc(1,tt,3,2,"ng-container",0),a.Dc(2,et,2,1,"ng-container",0),a.Pb()),2&t){const t=a.ec().$implicit;a.Bb(1),a.kc("ngIf",!t.remoteOnly),a.Bb(1),a.kc("ngIf",t.remoteOnly)}}function it(t,e){1&t&&(a.Sb(0,"div",47),a.Nb(1,"i",48),a.Fc(2," Shared"),a.Rb())}function ct(t,e){1&t&&(a.Sb(0,"div",49),a.Nb(1,"i",50),a.Fc(2," Local"),a.Rb())}function st(t,e){1&t&&(a.Sb(0,"span",38),a.Fc(1," (Login Required)"),a.Rb())}function ot(t,e){if(1&t){const t=a.Tb();a.Sb(0,"button",43),a.ac("click",(function(){a.sc(t);const e=a.ec(2).$implicit;return a.ec(2).publishStack(e)})),a.Sb(1,"span"),a.Fc(2,"Publish Stack"),a.Rb(),a.Dc(3,st,2,0,"span",51),a.Rb()}if(2&t){const t=a.ec(4);a.kc("disabled",!t.isLoggedIn),a.Bb(3),a.kc("ngIf",!t.isLoggedIn)}}function rt(t,e){if(1&t){const t=a.Tb();a.Sb(0,"button",43),a.ac("click",(function(){a.sc(t);const e=a.ec(2).$implicit;return a.ec(2).switchEnvironment(e)})),a.Fc(1,"Switch To This Stack"),a.Rb()}if(2&t){const t=a.ec(2).$implicit,e=a.ec(2);a.kc("disabled",e.isCurrentEnv(t))}}function at(t,e){if(1&t){const t=a.Tb();a.Sb(0,"button",45),a.ac("click",(function(){a.sc(t);const e=a.ec(2).$implicit;return a.ec(2).shareStack(e)})),a.Fc(1,"Share Stack"),a.Rb()}}function bt(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",34),a.Sb(1,"div",12),a.Sb(2,"p",35),a.Fc(3),a.Rb(),a.Dc(4,it,3,0,"div",36),a.Dc(5,ct,3,0,"div",37),a.Sb(6,"div",38),a.Nb(7,"i",39),a.Fc(8),a.Rb(),a.Sb(9,"div",38),a.Nb(10,"i",40),a.Fc(11),a.Rb(),a.Rb(),a.Sb(12,"div",41),a.Dc(13,ot,4,2,"button",42),a.Dc(14,rt,2,1,"button",42),a.Sb(15,"button",43),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).installIntoCurrentEnvironment(e)})),a.Fc(16,"Install Into Current "),a.Sb(17,"span",44),a.Fc(18),a.Rb(),a.Rb(),a.Sb(19,"button",45),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).installIntoNewWorkspace(e)})),a.Fc(20,"Install Into New Workspace"),a.Rb(),a.Dc(21,at,2,0,"button",46),a.Sb(22,"button",45),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).renameStack(e)})),a.Fc(23,"Rename Stack"),a.Rb(),a.Sb(24,"button",45),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).deleteStack(e)})),a.Sb(25,"span"),a.Fc(26,"Delete Stack"),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=a.ec().$implicit,e=a.ec(2);a.Bb(3),a.Gc(t.description||"No description"),a.Bb(1),a.kc("ngIf",t.remote),a.Bb(1),a.kc("ngIf",!t.remote&&t.isLocal),a.Bb(3),a.Hc(" ",t.codebasePath,""),a.Bb(3),a.Hc(" ",t.seed,""),a.Bb(2),a.kc("ngIf",!t.remote),a.Bb(1),a.kc("ngIf",!t.remoteOnly),a.Bb(1),a.kc("disabled",e.isCurrentEnv(t)),a.Bb(3),a.Gc(e.currentEnvironment.type),a.Bb(3),a.kc("ngIf",t.remote)}}function lt(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",12),a.Sb(1,"div",13),a.Sb(2,"div",14),a.Sb(3,"div",15),a.Dc(4,z,3,0,"div",16),a.Dc(5,K,3,1,"div",17),a.Rb(),a.Sb(6,"div",4),a.Nb(7,"i",18),a.Rb(),a.Sb(8,"div",19),a.ac("click",(function(){a.sc(t);const n=e.$implicit;return a.ec(2).toggleItemList(n.id)})),a.Fc(9),a.Rb(),a.Sb(10,"div",7),a.Dc(11,nt,3,2,"ng-container",0),a.Rb(),a.Sb(12,"div",20),a.Sb(13,"button",21),a.ac("click",(function(){a.sc(t);const n=e.$implicit;return a.ec(2).toggleItemList(n.id)})),a.Nb(14,"i",22),a.Rb(),a.Rb(),a.Rb(),a.Dc(15,bt,27,10,"div",23),a.Rb(),a.Rb()}if(2&t){const t=e.$implicit,n=a.ec(2);a.Bb(4),a.kc("ngIf",t.remoteOnly),a.Bb(1),a.kc("ngIf",!t.remoteOnly),a.Bb(2),a.Eb("text-primary",n.isCurrentEnv(t))("text-muted",!n.isCurrentEnv(t)),a.Bb(1),a.Eb("text-primary",n.isCurrentEnv(t)),a.Bb(1),a.Gc(t.name),a.Bb(2),a.kc("ngIf",n.isLoggedIn),a.Bb(3),a.Eb("fa-chevron-up",n.itemList[t.id])("fa-chevron-down",!n.itemList[t.id]),a.Bb(1),a.kc("ngIf",n.itemList[t.id])}}function ut(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"div",1),a.Sb(2,"div",2),a.Dc(3,H,2,0,"div",3),a.Sb(4,"div",4),a.Sb(5,"div",5),a.Sb(6,"div",6),a.Fc(7,"My Stacks"),a.Rb(),a.Sb(8,"div",7),a.Sb(9,"button",8),a.ac("click",(function(){return a.sc(t),a.ec().createNewStack()})),a.Nb(10,"i",9),a.Fc(11," New Stack"),a.Rb(),a.Rb(),a.Rb(),a.Dc(12,lt,16,15,"div",10),a.Rb(),a.Rb(),a.Rb(),a.Pb()}if(2&t){const t=a.ec();a.Bb(3),a.kc("ngIf",0===t.stacks.length),a.Bb(9),a.kc("ngForOf",t.stacks)}}let dt=(()=>{class t{constructor(t,e,n,i,c,r,a){this.appEnvironmentService=t,this.dialog=e,this.authService=n,this.stacksService=i,this.appConsoleService=c,this.myItemsService=r,this.db=a,this.envType=s.a.Environment.Type,this.isLoggedIn=!1,this.itemList={},this.subs=new o.a}ngOnInit(){this.getEnvironments(),this.subs.add(this.authService.isLoggedIn$.subscribe(t=>this.isLoggedIn=t)),this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>this.currentEnvironment=t))}toggleItemList(t){this.itemList[t]=!this.itemList[t]}getEnvironments(){this.stacksService.getUserStacks().subscribe(t=>{this.stacks=t})}createNewStack(){this.dialog.open(r.a,{data:{type:s.a.Environment.Type.Stack},minWidth:"600px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>this.getEnvironments())}ngOnDestroy(){}isCurrentEnv(t){var e;return(null===(e=this.currentEnvironment)||void 0===e?void 0:e.id)===t.id}switchEnvironment(t){this.appEnvironmentService.switchToEnvironment(t.id).subscribe(t=>null)}publishStack(t){this.dialog.open($,{data:{stack:t},position:{top:"100px"},minWidth:"400px",autoFocus:!0}).afterClosed().subscribe(t=>this.getEnvironments())}syncStack(t){this.stacksService.syncStack(t.id,t.remote.version).subscribe(t=>{this.getEnvironments(),alert("Synced!")},t=>{var e;alert((null===(e=t.error)||void 0===e?void 0:e.message)||"Server error!")})}deleteStack(t){const e=this.dialog.open(v.a,{data:{title:`Delete stack ${t.name}?`,text:"Deleting this stack is a permanent action and cannot be undone.",button:{yes:"Delete",no:"Cancel"}},position:{top:"100px"},autoFocus:!0});Object(u.a)([e.afterClosed(),this.appEnvironmentService.currentEnvironment$.pipe(Object(g.a)(1))]).subscribe(([e,n])=>{!0===e&&this.stacksService.deleteStack(t.id).subscribe(e=>{t.id===n.id&&this.dialog.open(w,{data:{},disableClose:!0,position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>console.log("dialog result: ",t)),this.getEnvironments()})})}test(){this.stacksService.installIntoCurrentEnvironment("UIkhUmgApyOKEKtEridz").subscribe(t=>{this.getEnvironments()},t=>{})}installIntoCurrentEnvironment(t){this.appConsoleService.openBluConsole({command:"install "+t.name,extraInfo:{stack:t,source:"local"}})}renameStack(t){this.dialog.open(h,{data:{environment:t},width:"500px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>{t.success&&this.getEnvironments()})}shareStack(t){}installIntoNewWorkspace(t){this.myItemsService.createNewWorkspace(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(b.a),a.Mb(l.b),a.Mb(W.a),a.Mb(E.a),a.Mb(L.a),a.Mb(j.a),a.Mb(Q.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["my-stacks"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"pt-3",2,"max-width","800px"],[1,"pl-3"],["class","text center",4,"ngIf"],[1,""],[1,"pl-2","d-flex","align-items-start"],[1,"text-bold","py-2"],[1,"ml-auto"],["mat-button","",3,"click"],[1,"fa","fa-plus"],["class","p-2",4,"ngFor","ngForOf"],[1,"text","center"],[1,"p-2"],[1,"shadow","p-2","border","rounded"],[1,"d-flex","align-items-center"],[1,"pr-3"],["class","","style","width:40px; height:40px;",4,"ngIf"],["class","",4,"ngIf"],[1,"fa","fa-layer-group"],[1,"pl-2","cursor-pointer",3,"click"],[1,"ml-1"],["mat-button","","mat-icon-button","",3,"click"],[1,"fa"],["class","border-top p-2 d-flex align-items-start",4,"ngIf"],[1,"",2,"width","40px","height","40px"],["mat-button","","mat-icon-button",""],[1,"fa","fa-download","text-muted"],["mat-button","","mat-icon-button","",3,"disabled","click"],[1,"fa","fa-exchange-alt"],["mat-button","",3,"title","click"],[1,"fa","fa-upload","text-muted"],["style","color: red",4,"ngIf"],[2,"color","red"],[3,"stack","onFinished"],[1,"border-top","p-2","d-flex","align-items-start"],[1,"my-2"],["class","text-muted text-small","matTooltip","This stack is shared with other users",4,"ngIf"],["class","text-muted text-small","matTooltip","This stack is present only on this machine",4,"ngIf"],[1,"text-small"],[1,"fa","fa-folder-open","mr-1"],[1,"fa","fa-seedling","mr-1"],[1,"ml-auto","p-2","border-left"],["mat-button","","class","d-block",3,"disabled","click",4,"ngIf"],["mat-button","",1,"d-block",3,"disabled","click"],[1,"text-capitalize"],["mat-button","",1,"d-block",3,"click"],["mat-button","","class","d-block",3,"click",4,"ngIf"],["matTooltip","This stack is shared with other users",1,"text-muted","text-small"],[1,"fa","fa-users","mr-1"],["matTooltip","This stack is present only on this machine",1,"text-muted","text-small"],[1,"fa","fa-desktop","mr-1"],["class"," text-small",4,"ngIf"]],template:function(t,e){1&t&&a.Dc(0,ut,13,2,"ng-container",0),2&t&&a.kc("ngIf",e.stacks)},directives:[i.t,f.b,i.s,q,_.a],styles:[".codebase-path[_ngcontent-%COMP%]{font-size:9px;line-height:9px}"]}),t})();var mt=n("mrSG"),pt=n("itXk"),ft=n("LRne"),ht=n("Jgta"),vt=n("6qWh"),gt=n("PE4B");class St{static UUID(){return St.UUIDv4("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx")}static UUIDShort(){return St.UUIDv4("xxxxxxxx")}static UUIDv4(t){return t.replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}static merge(t,e){return gt(t,e)}}var kt=n("eIep"),Rt=n("+0xr"),yt=n("d3UM"),It=n("FKr1"),wt=n("zkoq"),xt=ht.a.firestore.FieldPath,Et=ht.a.firestore.FieldValue;function Pt(t,e){1&t&&(a.Qb(0),a.Nb(1,"br"),a.Nb(2,"mat-progress-bar",5),a.Nb(3,"br"),a.Pb())}function Ft(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"h3"),a.Fc(2),a.Rb(),a.Sb(3,"button",6),a.ac("click",(function(){return a.sc(t),a.ec(2).publish()})),a.Fc(4,"Publish"),a.Rb(),a.Pb()}if(2&t){const t=a.ec(2);a.Bb(2),a.Hc("You need to publish the ",t.environmentType," first, then you can share it with others")}}function Bt(t,e){1&t&&(a.Sb(0,"h4",8),a.Fc(1,"You must be an administrator to change these settings"),a.Rb())}function Dt(t,e){1&t&&(a.Sb(0,"th",18),a.Fc(1,"Name"),a.Rb())}function Ct(t,e){if(1&t&&(a.Qb(0),a.Fc(1),a.fc(2,"titlecase"),a.Pb()),2&t){const t=a.ec().$implicit,e=a.ec(4);a.Bb(1),a.Hc(" ",a.gc(2,1,e.userProfiles.get(t).displayName||"Unknown user")," ")}}function Ot(t,e){if(1&t&&(a.Qb(0),a.Fc(1),a.Sb(2,"div",20),a.Fc(3,"Invite Pending"),a.Rb(),a.Pb()),2&t){const t=a.ec().$implicit,e=a.ec(4);a.Bb(1),a.Hc(" ",e.userProfiles.get(t).email," ")}}function Mt(t,e){if(1&t&&(a.Sb(0,"td",19),a.Dc(1,Ct,3,3,"ng-container",2),a.Dc(2,Ot,4,1,"ng-container",2),a.Rb()),2&t){const t=e.$implicit,n=a.ec(4);a.Bb(1),a.kc("ngIf",n.userProfiles.has(t)&&n.userProfiles.get(t).activated),a.Bb(1),a.kc("ngIf",n.userProfiles.has(t)&&!n.userProfiles.get(t).activated)}}function Tt(t,e){1&t&&(a.Sb(0,"th",18),a.Fc(1,"Permission"),a.Rb())}function Nt(t,e){if(1&t&&(a.Sb(0,"mat-option",23),a.Fc(1),a.fc(2,"titlecase"),a.Rb()),2&t){const t=e.$implicit;a.kc("value",t.value),a.Bb(1),a.Hc(" ",a.gc(2,2,t.key)," ")}}function $t(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"mat-select",21),a.ac("valueChange",(function(e){a.sc(t);const n=a.ec().$implicit;return a.ec(4).dirtyEnvPerms[n].permission=e})),a.Dc(2,Nt,3,4,"mat-option",22),a.fc(3,"keyvalue"),a.Rb(),a.Pb()}if(2&t){const t=a.ec().$implicit,e=a.ec(4);a.Bb(1),a.kc("value",e.dirtyEnvPerms[t].permission),a.Bb(1),a.kc("ngForOf",a.hc(3,2,e.envPermissions,e.originalOrder))}}function Wt(t,e){if(1&t&&(a.Qb(0),a.Fc(1),a.fc(2,"titlecase"),a.Pb()),2&t){const t=a.ec().$implicit,e=a.ec(4);a.Bb(1),a.Hc(" ",a.gc(2,1,e.convertPermissionToString(e.dirtyEnvPerms[t].permission))," ")}}function Lt(t,e){if(1&t&&(a.Sb(0,"td",19),a.Dc(1,$t,4,5,"ng-container",2),a.Dc(2,Wt,3,3,"ng-container",2),a.Rb()),2&t){const t=a.ec(4);a.Bb(1),a.kc("ngIf",t.userIsAdmin),a.Bb(1),a.kc("ngIf",!t.userIsAdmin)}}function jt(t,e){1&t&&(a.Sb(0,"th",18),a.Fc(1,"Actions"),a.Rb())}function Qt(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"button",25),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(4).save(e)})),a.Fc(2," Save "),a.Rb(),a.Sb(3,"button",26),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(4).revoke(e)})),a.Fc(4,"Revoke"),a.Rb(),a.Pb()}if(2&t){const t=a.ec().$implicit,e=a.ec(4);a.Bb(1),a.kc("disabled",e.dirtyEnvPerms[t].permission===e.environment.remote.permissions[t].permission)}}function Gt(t,e){1&t&&(a.Qb(0),a.Nb(1,"mat-progress-bar",5),a.Pb())}function At(t,e){if(1&t&&(a.Sb(0,"td",24),a.Dc(1,Qt,5,1,"ng-container",2),a.Dc(2,Gt,2,0,"ng-container",2),a.Rb()),2&t){const t=e.$implicit,n=a.ec(4);a.Bb(1),a.kc("ngIf",!n.dirtyEnvPerms[t].saving),a.Bb(1),a.kc("ngIf",n.dirtyEnvPerms[t].saving)}}function Ut(t,e){1&t&&a.Nb(0,"tr",27)}function qt(t,e){1&t&&a.Nb(0,"tr",28)}const _t=function(){return["email","perm","actions"]},Ht=function(){return["email","perm"]};function zt(t,e){if(1&t&&(a.Qb(0),a.Sb(1,"table",9),a.Qb(2,10),a.Dc(3,Dt,2,0,"th",11),a.Dc(4,Mt,3,2,"td",12),a.Pb(),a.Qb(5,13),a.Dc(6,Tt,2,0,"th",11),a.Dc(7,Lt,3,2,"td",12),a.Pb(),a.Qb(8,14),a.Dc(9,jt,2,0,"th",11),a.Dc(10,At,3,2,"td",15),a.Pb(),a.Dc(11,Ut,1,0,"tr",16),a.Dc(12,qt,1,0,"tr",17),a.Rb(),a.Pb()),2&t){const t=a.ec(3);a.Bb(1),a.kc("dataSource",null==t.environment.remote?null:t.environment.remote.sharedWith),a.Bb(10),a.kc("matHeaderRowDef",t.userIsAdmin?a.lc(3,_t):a.lc(4,Ht)),a.Bb(1),a.kc("matRowDefColumns",t.userIsAdmin?a.lc(5,_t):a.lc(6,Ht))}}function Kt(t,e){if(1&t&&(a.Sb(0,"mat-option",23),a.Fc(1),a.fc(2,"titlecase"),a.Rb()),2&t){const t=e.$implicit;a.kc("value",t.value),a.Bb(1),a.Hc(" ",a.gc(2,2,t.key)," ")}}function Jt(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"form",29),a.ac("submit",(function(){return a.sc(t),a.ec(3).shareWithUser()})),a.Sb(2,"mat-grid-list",30),a.Sb(3,"mat-grid-tile",31),a.Sb(4,"mat-form-field"),a.Sb(5,"mat-label"),a.Fc(6,"Email"),a.Rb(),a.Nb(7,"input",32),a.Rb(),a.Rb(),a.Sb(8,"mat-grid-tile",33),a.Sb(9,"mat-form-field"),a.Sb(10,"mat-label"),a.Fc(11,"Permissions"),a.Rb(),a.Sb(12,"mat-select",34),a.Dc(13,Kt,3,4,"mat-option",22),a.fc(14,"keyvalue"),a.Rb(),a.Rb(),a.Rb(),a.Sb(15,"mat-grid-tile",35),a.Sb(16,"button",36),a.Fc(17,"Add"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Pb()}if(2&t){const t=a.ec(3);a.Bb(1),a.kc("formGroup",t.form),a.Bb(12),a.kc("ngForOf",a.hc(14,2,t.envPermissions,t.originalOrder))}}function Yt(t,e){if(1&t&&(a.Qb(0),a.Dc(1,Bt,2,0,"h4",7),a.Dc(2,zt,13,7,"ng-container",2),a.Dc(3,Jt,18,5,"ng-container",2),a.Pb()),2&t){const t=a.ec(2);a.Bb(1),a.kc("ngIf",!t.userIsAdmin),a.Bb(1),a.kc("ngIf",null==t.environment.remote?null:t.environment.remote.sharedWith),a.Bb(1),a.kc("ngIf",t.userIsAdmin)}}function Vt(t,e){if(1&t&&(a.Qb(0),a.Dc(1,Ft,5,1,"ng-container",2),a.Dc(2,Yt,4,3,"ng-container",2),a.Pb()),2&t){const t=a.ec();a.Bb(1),a.kc("ngIf",t.requiresPublishing),a.Bb(1),a.kc("ngIf",!t.requiresPublishing&&t.environment.remote)}}let Xt=(()=>{class t{constructor(t,e,n,i,c,r,a){this.fb=t,this.appEnvironmentService=e,this.workspaceService=n,this.authService=i,this.dialogRef=c,this.db=r,this.data=a,this.loading=!0,this.requiresPublishing=!1,this.userIsAdmin=!1,this.userProfiles=new Map,this.envPermissions=new Map([["read",s.a.Environment.EnvironmentPermissions.read],["write",s.a.Environment.EnvironmentPermissions.write],["admin",s.a.Environment.EnvironmentPermissions.admin],["owner",s.a.Environment.EnvironmentPermissions.owner]]),this.subs=new o.a,this.originalOrder=(t,e)=>0,this.environment=a.environment,this.environmentType=a.type,this.subs.add(this.authService.user$.subscribe(t=>{t&&(this.userId=t.uid)}))}ngOnInit(){this.environment.remote?this.setupShareSettings():this.requiresPublishing=!0,this.loading=!1}setupShareSettings(){var t;this.userIsAdmin=(null===(t=this.environment.remote)||void 0===t?void 0:t.permissions[this.userId].permission)>=this.envPermissions.get("admin"),this.dirtyEnvPerms=Object.entries(St.merge({},this.environment.remote.permissions)).reduce((t,e)=>(t[e[0]]=Object.assign(Object.assign({},e[1]),{saving:!1}),t),{}),this.form=this.fb.group({emailToAdd:["",[d.E.required,d.E.email]],permission:[this.envPermissions.get("read"),[d.E.required]]}),this.setUpProfileSubscription()}setUpProfileSubscription(){this.profileSub&&this.profileSub.unsubscribe(),this.profileSub=this.db.collection(vt.a.collections.users(),t=>t.where(xt.documentId(),"in",this.environment.remote.sharedWith)).snapshotChanges().subscribe(t=>{t.forEach(t=>{switch(t.type){case"added":case"modified":this.userProfiles.set(t.payload.doc.id,t.payload.doc.data());break;case"removed":this.userProfiles.delete(t.payload.doc.id)}})})}ngOnDestroy(){this.subs.unsubscribe()}close(){this.dialogRef.close()}convertPermissionToString(t){switch(t){case s.a.Environment.EnvironmentPermissions.read:return"Read";case s.a.Environment.EnvironmentPermissions.write:return"Write";case s.a.Environment.EnvironmentPermissions.admin:return"Admin";case s.a.Environment.EnvironmentPermissions.owner:return"Owner"}}shareWithUser(){this.form.disable();const{emailToAdd:t,permission:e}=this.form.getRawValue();this.workspaceService.share(this.environment.remote.id,t,e).pipe(Object(g.a)(1)).subscribe(t=>{const{userId:n}=t;this.dirtyEnvPerms[n]={permission:e,saving:!1},this.environment.remote.permissions[n]={permission:e},this.userProfiles.set(n,{displayName:"Loading...",email:"",activated:!0}),this.environment.remote.sharedWith=[...this.environment.remote.sharedWith,n],this.setUpProfileSubscription(),this.form.reset()},t=>{alert("Something went wrong. Please try again later"),console.log(t)},()=>{this.form.enable()})}publish(){return Object(mt.__awaiter)(this,void 0,void 0,(function*(){"stack"===this.environmentType?yield this.publishStack():"workspace"===this.environmentType&&(yield this.publishWorkspace())}))}publishStack(){}publishWorkspace(){return Object(mt.__awaiter)(this,void 0,void 0,(function*(){this.loading=!0,this.subs.add(this.workspaceService.publishWorkspace(this.environment.id).pipe(Object(kt.a)(t=>Object(pt.a)([Object(ft.a)(t),this.workspaceService.getUserWorkspaces().pipe(Object(g.a)(1))]))).subscribe(([t,e])=>{this.environment=e.find(e=>e.id===t.id),this.setupShareSettings(),this.requiresPublishing=!1,this.loading=!1},t=>{alert(t.message||"Server error!"),this.loading=!1}))}))}save(t){this.dirtyEnvPerms[t].saving=!0,this.db.collection(vt.a.collections.environments()).doc(this.environment.remote.id).update({[`permissions.${t}.permission`]:this.dirtyEnvPerms[t].permission}).then(()=>{this.environment.remote.permissions[t].permission=this.dirtyEnvPerms[t].permission}).catch(e=>{this.dirtyEnvPerms[t].permission=this.environment.remote.permissions[t].permission,alert(e.message||"Unknown error occurred!")}).finally(()=>{this.dirtyEnvPerms[t].saving=!1})}revoke(t){if(t===this.environment.remote.owner)return alert("You cannot revoke the permissions of the original owner!");confirm("Are you sure? This will revoke all permissions from the user "+(this.userProfiles.get(t).displayName||this.userProfiles.get(t).email))&&(this.dirtyEnvPerms[t].saving=!0,this.db.collection(vt.a.collections.environments()).doc(this.environment.remote.id).update({["permissions."+t]:Et.delete(),sharedWith:Et.arrayRemove(t)}).then(()=>{this.environment.remote.sharedWith=this.environment.remote.sharedWith.filter(e=>e!==t),delete this.environment.remote.permissions[t],delete this.dirtyEnvPerms[t]}).catch(e=>{alert(e.message||"Unknown error occurred!"),this.dirtyEnvPerms[t].saving=!1}))}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(d.f),a.Mb(b.a),a.Mb(S.a),a.Mb(W.a),a.Mb(l.h),a.Mb(Q.a),a.Mb(l.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["new-environment-dialog"]],decls:8,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngIf"],["mat-dialog-actions","",3,"align"],["mat-button","","mat-dialog-close",""],["mode","indeterminate"],["mat-button","",3,"click"],["class","text-grey",4,"ngIf"],[1,"text-grey"],["mat-table","",1,"permTable",3,"dataSource"],["matColumnDef","email"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","perm"],["matColumnDef","actions"],["mat-cell","","class","tableActions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[2,"font-size","0.7em","color","grey"],[3,"value","valueChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-cell","",1,"tableActions"],["mat-button","","mat-raised-button","","color","primary",3,"disabled","click"],["mat-button","","mat-raised-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[3,"formGroup","submit"],["cols","7"],["colspan","4"],["type","email","matInput","","formControlName","emailToAdd"],["colspan","2"],["formControlName","permission"],["colspan","1"],["mat-button","","mat-raised-button","","color","primary","type","submit"]],template:function(t,e){1&t&&(a.Sb(0,"h1",0),a.Fc(1,"Share Settings"),a.Rb(),a.Sb(2,"div",1),a.Dc(3,Pt,4,0,"ng-container",2),a.Dc(4,Vt,3,2,"ng-container",2),a.Rb(),a.Sb(5,"div",3),a.Sb(6,"button",4),a.Fc(7,"Close"),a.Rb(),a.Rb()),2&t&&(a.Bb(3),a.kc("ngIf",e.loading),a.Bb(1),a.kc("ngIf",!e.loading),a.Bb(1),a.kc("align","end"))},directives:[l.i,l.f,i.t,l.c,f.b,l.d,F.a,Rt.j,Rt.c,Rt.e,Rt.b,Rt.g,Rt.i,Rt.d,Rt.a,yt.a,i.s,It.i,Rt.f,Rt.h,d.G,d.r,d.j,wt.a,wt.c,m.c,m.g,p.a,d.c,d.q,d.i],pipes:[i.F,i.l],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;padding:0 5px}.permTable[_ngcontent-%COMP%]{width:100%}.tableActions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:5px}"]}),t})();var Zt=n("3E0/"),te=n("nYR2"),ee=n("MrDi");function ne(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",6),a.Sb(1,"div",7),a.Fc(2),a.Rb(),a.Sb(3,"file-path",8),a.ac("onSelectedPath",(function(e){return a.sc(t),a.ec().setCodebasePath(e)})),a.Rb(),a.Rb()}if(2&t){const t=a.ec();a.Bb(2),a.Hc("Workspace path: ",t.codebasePath,""),a.Bb(1),a.kc("rootPath",t.codebasePath)("foldersOnly",!0)}}function ie(t,e){1&t&&(a.Sb(0,"div",9),a.Sb(1,"div"),a.Fc(2,"Installing..."),a.Rb(),a.Nb(3,"mat-progress-bar",10),a.Rb())}function ce(t,e){if(1&t&&(a.Qb(0),a.Sb(1,"div",11),a.Nb(2,"i",12),a.Sb(3,"span",13),a.Fc(4),a.Rb(),a.Fc(5),a.Rb(),a.Pb()),2&t){const t=a.ec();a.Bb(4),a.Gc(t.data.workspace.name),a.Bb(1),a.Hc(" installed into ",t.codebasePath,". ")}}function se(t,e){if(1&t&&(a.Qb(0),a.Sb(1,"div",14),a.Nb(2,"i",15),a.Fc(3," Failed to install "),a.Sb(4,"span",13),a.Fc(5),a.Rb(),a.Fc(6),a.Rb(),a.Pb()),2&t){const t=a.ec();a.Bb(5),a.Gc(t.data.workspace.name),a.Bb(1),a.Hc(" into ",t.codebasePath,". Please try again later ")}}function oe(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"button",16),a.Fc(2,"Cancel"),a.Rb(),a.Sb(3,"button",17),a.ac("click",(function(){return a.sc(t),a.ec().create()})),a.Fc(4,"Install"),a.Rb(),a.Pb()}if(2&t){const t=a.ec();a.Bb(3),a.kc("disabled",!t.codebasePath)}}function re(t,e){1&t&&(a.Qb(0),a.Sb(1,"button",16),a.Fc(2,"Close"),a.Rb(),a.Pb())}let ae=(()=>{class t{constructor(t,e,n,i,c){this.fb=t,this.appEnvironmentService=e,this.data=n,this.workspaceService=i,this.dialogRef=c,this.actionState=x.a,this.currentState=x.a.IDLE,this.subs=new o.a}ngOnInit(){}setCodebasePath(t){this.codebasePath=t}ngOnDestroy(){this.subs.unsubscribe()}close(){this.dialogRef.close({success:this.currentState===x.a.SUCCESS})}create(){this.currentState=x.a.ACQUIRING,this.workspaceService.install(this.data.workspace,this.codebasePath).pipe(Object(g.a)(1),Object(Zt.a)(500)).subscribe(t=>{this.currentState=x.a.SUCCESS},t=>{var e;alert((null===(e=t.error)||void 0===e?void 0:e.message)||"Server error!"),this.currentState=x.a.FAILED})}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(d.f),a.Mb(b.a),a.Mb(l.a),a.Mb(S.a),a.Mb(l.h))},t.\u0275cmp=a.Gb({type:t,selectors:[["new-environment-dialog"]],decls:12,vars:8,consts:[["mat-dialog-title",""],[1,"text-underline","text-capitalize"],["mat-dialog-content","",4,"ngIf"],["class","text-center p-2",4,"ngIf"],[4,"ngIf"],["mat-dialog-actions","",3,"align"],["mat-dialog-content",""],[1,"text-capitalize","pb-1","text-muted","text-tiny"],[3,"rootPath","foldersOnly","onSelectedPath"],[1,"text-center","p-2"],["mode","indeterminate"],[1,"text-center","p-2","text-success"],[1,"fa","fa-check","mr-2"],[1,"text-capitalize"],[1,"text-center","p-2","text-red"],[1,"fa","fa-times-circle","mr-2"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(a.Sb(0,"h1",0),a.Fc(1,"Install "),a.Sb(2,"span",1),a.Fc(3),a.Rb(),a.Fc(4," Workspace"),a.Rb(),a.Dc(5,ne,4,3,"div",2),a.Dc(6,ie,4,0,"div",3),a.Dc(7,ce,6,2,"ng-container",4),a.Dc(8,se,7,2,"ng-container",4),a.Sb(9,"div",5),a.Dc(10,oe,5,1,"ng-container",4),a.Dc(11,re,3,0,"ng-container",4),a.Rb()),2&t&&(a.Bb(3),a.Gc(e.data.workspace.name),a.Bb(2),a.kc("ngIf",e.currentState==e.actionState.IDLE),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.ACQUIRING),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.SUCCESS),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.FAILED),a.Bb(1),a.kc("align","end"),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.IDLE),a.Bb(1),a.kc("ngIf",e.currentState===e.actionState.FAILED||e.currentState===e.actionState.SUCCESS))},directives:[l.i,i.t,l.c,l.f,ee.a,F.a,f.b,l.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();function be(t,e){1&t&&(a.Sb(0,"div",11),a.Fc(1,"No workspaces present"),a.Rb())}function le(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",26),a.Sb(1,"button",23),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).install(e)})),a.Nb(2,"i",27),a.Rb(),a.Rb()}}function ue(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",4),a.Sb(1,"button",28),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).switchEnvironment(e)})),a.Nb(2,"i",29),a.Rb(),a.Rb()}if(2&t){const t=a.ec().$implicit,e=a.ec(2);a.Bb(1),a.kc("disabled",e.isCurrentEnv(t))}}function de(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",4),a.Sb(1,"button",31),a.ac("click",(function(){a.sc(t);const e=a.ec(2).$implicit;return a.ec(2).publish(e)})),a.Nb(2,"i",32),a.Fc(3," Push your changes"),a.Rb(),a.Rb()}2&t&&(a.Bb(1),a.kc("title","Push Your Changes"))}function me(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",4),a.Sb(1,"button",31),a.ac("click",(function(){a.sc(t);const e=a.ec(2).$implicit;return a.ec(2).sync(e)})),a.Nb(2,"i",27),a.Fc(3," Pull new updates"),a.Rb(),a.Rb()}2&t&&(a.Bb(1),a.kc("title","Pull New Updates"))}function pe(t,e){1&t&&(a.Sb(0,"div",33),a.Fc(1,"Requires merge!"),a.Rb())}function fe(t,e){if(1&t&&(a.Qb(0),a.Dc(1,de,4,1,"div",17),a.Dc(2,me,4,1,"div",17),a.Dc(3,pe,2,0,"div",30),a.Pb()),2&t){const t=a.ec().$implicit;a.Bb(1),a.kc("ngIf",!t.remote.isClean),a.Bb(1),a.kc("ngIf",t.localVersion!=(null==t.remote?null:t.remote.version)),a.Bb(1),a.kc("ngIf",null==t.remote?null:t.remote.requiresMerge)}}function he(t,e){1&t&&a.Nb(0,"mat-progress-bar",34)}function ve(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"button",31),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).install(e)})),a.Nb(2,"i",27),a.Fc(3," Install Workspace "),a.Rb(),a.Pb()}2&t&&(a.Bb(1),a.kc("title","Install Workspace"))}function ge(t,e){1&t&&(a.Sb(0,"div",45),a.Nb(1,"i",46),a.Fc(2," Shared"),a.Rb())}function Se(t,e){1&t&&(a.Sb(0,"div",47),a.Nb(1,"i",48),a.Fc(2," Local"),a.Rb())}function ke(t,e){if(1&t){const t=a.Tb();a.Sb(0,"button",44),a.ac("click",(function(){a.sc(t);const e=a.ec(2).$implicit;return a.ec(2).purgeWorkspace(e)})),a.Fc(1,"Purge Workspace"),a.Rb()}}function Re(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",35),a.Sb(1,"div",12),a.Sb(2,"p",36),a.Fc(3),a.Rb(),a.Dc(4,ge,3,0,"div",37),a.Dc(5,Se,3,0,"div",38),a.Sb(6,"div",39),a.Nb(7,"i",40),a.Fc(8),a.Rb(),a.Rb(),a.Sb(9,"div",41),a.Sb(10,"button",42),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).switchEnvironment(e)})),a.Fc(11,"Switch To This Workspace"),a.Rb(),a.Sb(12,"button",42),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).renameWorkspace(e)})),a.Fc(13,"Rename Workspace"),a.Rb(),a.Sb(14,"button",42),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).deleteWorkspace(e)})),a.Fc(15,"Delete Workspace"),a.Rb(),a.Dc(16,ke,2,0,"button",43),a.Sb(17,"button",44),a.ac("click",(function(){a.sc(t);const e=a.ec().$implicit;return a.ec(2).shareWorkspace(e)})),a.Sb(18,"span"),a.Fc(19,"Share Workspace "),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=a.ec().$implicit,e=a.ec(2);a.Bb(3),a.Gc(t.description||"No description"),a.Bb(1),a.kc("ngIf",t.remote),a.Bb(1),a.kc("ngIf",!t.remote&&t.isLocal),a.Bb(3),a.Hc(" ",t.codebasePath,""),a.Bb(2),a.kc("disabled",e.isCurrentEnv(t)||t.remoteOnly),a.Bb(2),a.kc("disabled",t.remoteOnly),a.Bb(2),a.kc("disabled",t.remoteOnly),a.Bb(2),a.kc("ngIf",t.remoteOnly&&t.remote.owner===e.userId)}}function ye(t,e){if(1&t){const t=a.Tb();a.Sb(0,"div",12),a.Sb(1,"div",13),a.Sb(2,"div",14),a.Sb(3,"div",15),a.Dc(4,le,3,0,"div",16),a.Dc(5,ue,3,1,"div",17),a.Rb(),a.Sb(6,"div",4),a.Nb(7,"i",18),a.Rb(),a.Sb(8,"div",19),a.ac("click",(function(){a.sc(t);const n=e.$implicit;return a.ec(2).toggleItemList(n)})),a.Sb(9,"div",4),a.Fc(10),a.Rb(),a.Sb(11,"div",20),a.Fc(12),a.Rb(),a.Rb(),a.Sb(13,"div",7),a.Dc(14,fe,4,3,"ng-container",0),a.Dc(15,he,1,0,"mat-progress-bar",21),a.Dc(16,ve,4,1,"ng-container",0),a.Rb(),a.Sb(17,"div",22),a.Sb(18,"button",23),a.ac("click",(function(){a.sc(t);const n=e.$implicit;return a.ec(2).toggleItemList(n)})),a.Nb(19,"i",24),a.Rb(),a.Rb(),a.Rb(),a.Dc(20,Re,20,8,"div",25),a.Rb(),a.Rb()}if(2&t){const t=e.$implicit,n=a.ec(2);a.Bb(4),a.kc("ngIf",t.remoteOnly),a.Bb(1),a.kc("ngIf",!t.remoteOnly),a.Bb(2),a.Eb("text-primary",n.isCurrentEnv(t))("text-muted",!n.isCurrentEnv(t)),a.Bb(1),a.Eb("text-primary",n.isCurrentEnv(t)),a.Bb(2),a.Gc(t.name),a.Bb(2),a.Gc(t.codebasePath),a.Bb(2),a.kc("ngIf",!t.remoteOnly&&!!t.remote&&!n.activeRequest[t.id]),a.Bb(1),a.kc("ngIf",n.activeRequest[t.id]),a.Bb(1),a.kc("ngIf",t.remoteOnly),a.Bb(3),a.Eb("fa-chevron-up",n.isItemOpen(t))("fa-chevron-down",!n.isItemOpen(t)),a.Bb(1),a.kc("ngIf",n.isItemOpen(t))}}function Ie(t,e){if(1&t){const t=a.Tb();a.Qb(0),a.Sb(1,"div",1),a.Sb(2,"div",2),a.Dc(3,be,2,0,"div",3),a.Sb(4,"div",4),a.Sb(5,"div",5),a.Sb(6,"div",6),a.Fc(7,"My Workspaces"),a.Rb(),a.Sb(8,"div",7),a.Sb(9,"button",8),a.ac("click",(function(){return a.sc(t),a.ec().createNewWorkspace()})),a.Nb(10,"i",9),a.Fc(11," New Workspace"),a.Rb(),a.Rb(),a.Rb(),a.Dc(12,ye,21,18,"div",10),a.Rb(),a.Rb(),a.Rb(),a.Pb()}if(2&t){const t=a.ec();a.Bb(3),a.kc("ngIf",0===t.workspaces.length),a.Bb(9),a.kc("ngForOf",t.workspaces)}}let we=(()=>{class t{constructor(t,e,n,i,c,r){this.appEnvironmentService=t,this.dialog=e,this.authService=n,this.workspaceService=i,this.myItemsService=c,this.db=r,this.envType=s.a.Environment.Type,this.activeRequest={},this.itemList={},this.subs=new o.a,this.subs.add(this.authService.user$.subscribe(t=>this.userId=t.uid))}ngOnInit(){this.getEnvironments()}toggleItemList(t){var e,n;const i=null!==(e=t.id)&&void 0!==e?e:null===(n=t.remote)||void 0===n?void 0:n.id;this.itemList[i]=!this.itemList[i]}isItemOpen(t){var e,n;return this.itemList[null!==(e=t.id)&&void 0!==e?e:null===(n=t.remote)||void 0===n?void 0:n.id]}getEnvironments(){this.workspaceService.getUserWorkspaces().subscribe(t=>{this.workspaces=t.sort((t,e)=>{var n,i;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase())>(null===(i=e.name)||void 0===i?void 0:i.toLowerCase())?1:-1})}),this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>this.currentEnvironment=t))}createNewWorkspace(){this.myItemsService.createNewWorkspace().afterClosed().subscribe(t=>this.getEnvironments())}ngOnDestroy(){this.subs.unsubscribe()}deleteWorkspace(t){const e=this.dialog.open(v.a,{data:{title:`Delete workspace ${t.name}?`,text:"Deleting this workspace is a permanent action and cannot be undone.",button:{yes:"Delete",no:"Cancel"}},position:{top:"100px"},autoFocus:!0});Object(u.a)([e.afterClosed(),this.appEnvironmentService.currentEnvironment$.pipe(Object(g.a)(1))]).subscribe(([e,n])=>{!0===e&&this.workspaceService.delete(t.id).subscribe(e=>{t.id===n.id&&this.dialog.open(w,{data:{},disableClose:!0,position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>console.log("dialog result: ",t)),this.getEnvironments()})})}purgeWorkspace(t){const e=this.dialog.open(v.a,{data:{title:`Purge workspace ${t.name}?`,text:"Purging this workspace will remove it from the stackjoy servers completely. This is a permanent action and cannot be undone.",button:{yes:"Purge",no:"Cancel"}},position:{top:"100px"},autoFocus:!0});console.log(t),Object(u.a)([e.afterClosed(),this.appEnvironmentService.currentEnvironment$.pipe(Object(g.a)(1))]).subscribe(([e,n])=>{!1!==e&&this.workspaceService.purge(t.remote.id).subscribe(e=>{alert(`Workspace ${t.name} purged successfully`),this.getEnvironments()},t=>{alert("Something went wrong: "+(t.message||"Unknown error occurred..."))})})}isCurrentEnv(t){var e;return(null===(e=this.currentEnvironment)||void 0===e?void 0:e.id)===t.id}switchEnvironment(t){this.appEnvironmentService.switchToEnvironment(t.id).subscribe(t=>null)}shareWorkspace(t){if(!this.userId)return alert("You must be signed in to share a workspace!");this.dialog.open(Xt,{data:{environment:t,type:"workspace"},width:"50vw",maxWidth:"800px",minWidth:"500px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>{this.getEnvironments()})}renameWorkspace(t){this.dialog.open(h,{data:{environment:t},width:"500px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>{t.success&&this.getEnvironments()})}publish(t){var e;return Object(mt.__awaiter)(this,void 0,void 0,(function*(){(null===(e=t.remote)||void 0===e?void 0:e.requiresMerge)&&!confirm("Confirm you have merged the changes before proceeding?")||(this.activeRequest[t.id]=!0,this.workspaceService.publishWorkspace(t.id).pipe(Object(g.a)(1),Object(Zt.a)(1e3),Object(te.a)(()=>{this.activeRequest[t.id]=!1})).subscribe(t=>{alert("Published!"),this.getEnvironments()},t=>{alert(t.message||"Server error!")}))}))}sync(t){if(!t.localVersion)return this.install(t);this.activeRequest[t.id]=!0,this.workspaceService.syncWorkspace(t.id,t.remote.version).pipe(Object(g.a)(1),Object(Zt.a)(1e3),Object(te.a)(()=>{this.activeRequest[t.id]=!1})).subscribe(t=>{alert("Synced!"),this.getEnvironments()},t=>{var e;alert((null===(e=t.error)||void 0===e?void 0:e.message)||"Server error!")})}install(t){this.dialog.open(ae,{data:{workspace:t},width:"500px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>{this.getEnvironments()})}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(b.a),a.Mb(l.b),a.Mb(W.a),a.Mb(S.a),a.Mb(j.a),a.Mb(Q.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["my-workspaces"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"pt-3",2,"max-width","800px"],[1,"pl-3"],["class","text center",4,"ngIf"],[1,""],[1,"pl-2","d-flex","align-items-start"],[1,"text-bold","py-2"],[1,"ml-auto"],["mat-button","",3,"click"],[1,"fa","fa-plus"],["class","p-2",4,"ngFor","ngForOf"],[1,"text","center"],[1,"p-2"],[1,"shadow","p-2","border","rounded"],[1,"d-flex","align-items-center"],[1,"pr-3"],["class","","style","width:40px; height:40px;",4,"ngIf"],["class","",4,"ngIf"],[1,"fa","fa-dice-d6"],[1,"pl-3","cursor-pointer",3,"click"],[1,"codebase-path"],["mode","indeterminate",4,"ngIf"],[1,"ml-1"],["mat-button","","mat-icon-button","",3,"click"],[1,"fa"],["class","border-top p-2 d-flex align-items-start",4,"ngIf"],[1,"",2,"width","40px","height","40px"],[1,"fa","fa-download","text-muted"],["mat-button","","mat-icon-button","",3,"disabled","click"],[1,"fa","fa-exchange-alt"],["style","color: red",4,"ngIf"],["mat-button","",3,"title","click"],[1,"fa","fa-upload","text-muted"],[2,"color","red"],["mode","indeterminate"],[1,"border-top","p-2","d-flex","align-items-start"],[1,"my-2"],["class","text-muted text-small","matTooltip","This workspace is shared with other users",4,"ngIf"],["class","text-muted text-small","matTooltip","This workspace is present only on this machine",4,"ngIf"],[1,"text-small"],[1,"fa","fa-folder-open","mr-1"],[1,"ml-auto","p-2","border-left"],["mat-button","",1,"d-block",3,"disabled","click"],["mat-button","","class","d-block",3,"click",4,"ngIf"],["mat-button","",1,"d-block",3,"click"],["matTooltip","This workspace is shared with other users",1,"text-muted","text-small"],[1,"fa","fa-users","mr-1"],["matTooltip","This workspace is present only on this machine",1,"text-muted","text-small"],[1,"fa","fa-desktop","mr-1"]],template:function(t,e){1&t&&a.Dc(0,Ie,13,2,"ng-container",0),2&t&&a.kc("ngIf",e.workspaces)},directives:[i.t,f.b,i.s,F.a,_.a],styles:[".codebase-path[_ngcontent-%COMP%]{font-size:9px;line-height:9px}"]}),t})();function xe(t,e){1&t&&(a.Qb(0),a.Nb(1,"my-stacks"),a.Pb())}function Ee(t,e){1&t&&(a.Qb(0),a.Nb(1,"my-workspaces"),a.Pb())}function Pe(t,e){if(1&t&&(a.Qb(0),a.Dc(1,xe,2,0,"ng-container",7),a.Dc(2,Ee,2,0,"ng-container",7),a.Pb()),2&t){const t=a.ec();a.Bb(1),a.kc("ngIf","stacks"===t.selectedSection),a.Bb(1),a.kc("ngIf","workspaces"===t.selectedSection)}}const Fe=c.f.forChild([{path:"",component:(()=>{class t{constructor(t,e){this.appEnvironmentService=t,this.dialog=e,this.selectedSection="workspaces",this.envType=s.a.Environment.Type,this.subs=new o.a}ngOnInit(){this.getEnvironments()}getEnvironments(){this.subs.add(this.appEnvironmentService.getAllEnvironments().subscribe(t=>this.environments=t)),this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>this.currentEnvironment=t))}createNewEnvironment(t){this.dialog.open(r.a,{data:{type:"workspaces"===t?s.a.Environment.Type.Workspace:s.a.Environment.Type.Stack},minWidth:"600px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>this.getEnvironments())}ngOnDestroy(){}isCurrentEnv(t){return this.currentEnvironment.id===t.id}isWorkspace(t){return t.type===s.a.Environment.Type.Workspace}selectSection(t){this.selectedSection=t}switchEnvironment(t){this.appEnvironmentService.switchToEnvironment(t.id).subscribe(t=>null)}getEnvTypeLabel(t){return"workspaces"===t?"Workspace":"Stack"}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(b.a),a.Mb(l.b))},t.\u0275cmp=a.Gb({type:t,selectors:[["my-items-list"]],decls:12,vars:5,consts:[[1,"p-2"],[1,"text-capitalize"],[1,"fa","fa-th-large","mt-1","mr-1"],[1,"page-tabs"],[3,"click"],[1,"fa","fa-dice-d6"],[1,"fas","fa-layer-group"],[4,"ngIf"]],template:function(t,e){1&t&&(a.Sb(0,"div",0),a.Sb(1,"h2",1),a.Nb(2,"i",2),a.Fc(3," My Items "),a.Rb(),a.Sb(4,"div",3),a.Sb(5,"div",4),a.ac("click",(function(){return e.selectSection("workspaces")})),a.Nb(6,"i",5),a.Fc(7," My Workspaces"),a.Rb(),a.Sb(8,"div",4),a.ac("click",(function(){return e.selectSection("stacks")})),a.Nb(9,"i",6),a.Fc(10," My Stacks"),a.Rb(),a.Rb(),a.Dc(11,Pe,3,2,"ng-container",7),a.Rb()),2&t&&(a.Bb(5),a.Eb("active","workspaces"===e.selectedSection),a.Bb(3),a.Eb("active","stacks"===e.selectedSection),a.Bb(3),a.kc("ngIf",e.environments))},directives:[i.t,dt,we],styles:[""]}),t})(),children:[]}]);var Be=n("STbY"),De=n("NFeN");let Ce=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,f.c,F.b]]}),t})(),Oe=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,l.g,p.b,d.l,f.c,P.c,d.A,yt.b]]}),t})(),Me=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,l.g,p.b,d.l,f.c,P.c,d.A,yt.b,F.b]]}),t})(),Te=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,f.c,Be.c,De.b,Ce,Oe,_.b,Me]]}),t})(),Ne=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,l.g,p.b,d.l,f.c,P.c,d.A,yt.b]]}),t})(),$e=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,f.c,Oe,Be.c,De.b,F.b,_.b,Ne]]}),t})(),We=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,Fe,Te,f.c,$e]]}),t})()},Mzu6:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("0IaG"),c=n("fXoL"),s=n("bTqV");let o=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e}ngOnInit(){}ngOnDestroy(){}cancel(){this.dialogRef.close(!1)}confirm(){this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(i.a),c.Mb(i.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["confirmation-dialog"]],decls:10,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"p-2","text-center"],["mat-dialog-actions","",3,"align"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"h1",0),c.Fc(1),c.Rb(),c.Sb(2,"div",1),c.Sb(3,"div",2),c.Fc(4),c.Rb(),c.Rb(),c.Sb(5,"div",3),c.Sb(6,"button",4),c.ac("click",(function(){return e.cancel()})),c.Fc(7),c.Rb(),c.Sb(8,"button",4),c.ac("click",(function(){return e.confirm()})),c.Fc(9),c.Rb(),c.Rb()),2&t&&(c.Bb(1),c.Gc(e.data.title),c.Bb(3),c.Gc(e.data.text),c.Bb(1),c.kc("align","end"),c.Bb(2),c.Gc(null!=e.data.button&&e.data.button.no?null==e.data.button?null:e.data.button.no:"No"),c.Bb(2),c.Gc(null!=e.data.button&&e.data.button.yes?null==e.data.button?null:e.data.button.yes:"Yes"))},directives:[i.i,i.f,i.c,s.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})()},PE4B:function(t,e,n){"use strict";var i=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===c}(t)}(t)},c="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(t,e){return!1!==e.clone&&e.isMergeableObject(t)?b(Array.isArray(t)?[]:{},t,e):t}function o(t,e,n){return t.concat(e).map((function(t){return s(t,n)}))}function r(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function a(t,e){try{return e in t}catch(n){return!1}}function b(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||o,n.isMergeableObject=n.isMergeableObject||i,n.cloneUnlessOtherwiseSpecified=s;var c=Array.isArray(e);return c===Array.isArray(t)?c?n.arrayMerge(t,e,n):function(t,e,n){var i={};return n.isMergeableObject(t)&&r(t).forEach((function(e){i[e]=s(t[e],n)})),r(e).forEach((function(c){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,c)||(i[c]=a(t,c)&&n.isMergeableObject(e[c])?function(t,e){if(!e.customMerge)return b;var n=e.customMerge(t);return"function"==typeof n?n:b}(c,n)(t[c],e[c],n):s(e[c],n))})),i}(t,e,n):s(e,n)}b.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return b(t,n,e)}),{})},t.exports=b}}]);