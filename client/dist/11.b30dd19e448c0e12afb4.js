(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{uiGw:function(t,i,e){"use strict";e.r(i),e.d(i,"LoginModule",(function(){return R}));var n=e("ofXK"),o=e("tyNb"),r=e("quSY"),a=e("aSHc"),c=e("fXoL"),s=e("UbJi"),b=e("VaEd"),l=e("xm+p"),u=e("Wp6s"),d=e("bTqV"),m=e("3Pt+"),g=e("kmnG"),f=e("qFsG");function h(t,i){if(1&t){const t=c.Tb();c.Sb(0,"mat-card"),c.Sb(1,"div",2),c.Ec(2,"You are logged in as: "),c.Sb(3,"b"),c.Ec(4),c.Rb(),c.Rb(),c.Sb(5,"div",3),c.Sb(6,"button",4),c.ac("click",(function(){return c.sc(t),c.ec().logout()})),c.Ec(7,"Log Out"),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=c.ec();c.Bb(4),c.Fc(t.user.email)}}function S(t,i){if(1&t&&(c.Sb(0,"div",16),c.Ec(1),c.Rb()),2&t){const t=c.ec(2);c.Bb(1),c.Fc(t.loginForm.error)}}function p(t,i){if(1&t&&(c.Sb(0,"div",17),c.Nb(1,"i",18),c.Ec(2),c.Rb()),2&t){const t=c.ec(2);c.Bb(2),c.Gc(" ",t.error," ")}}function v(t,i){if(1&t){const t=c.Tb();c.Sb(0,"mat-card"),c.Sb(1,"div",2),c.Sb(2,"div",5),c.Sb(3,"div",6),c.Ec(4,"Sign In:"),c.Rb(),c.Sb(5,"div",2),c.Sb(6,"form",7),c.ac("ngSubmit",(function(){return c.sc(t),c.ec().login()})),c.Sb(7,"div",5),c.Sb(8,"mat-form-field"),c.Sb(9,"mat-label"),c.Ec(10,"Email"),c.Rb(),c.Sb(11,"input",8),c.ac("ngModelChange",(function(i){return c.sc(t),c.ec().loginForm.email=i})),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"div",5),c.Sb(13,"mat-form-field"),c.Sb(14,"mat-label"),c.Ec(15,"Password"),c.Rb(),c.Sb(16,"input",9),c.ac("ngModelChange",(function(i){return c.sc(t),c.ec().loginForm.password=i})),c.Rb(),c.Rb(),c.Rb(),c.Cc(17,S,2,1,"div",10),c.Sb(18,"button",11),c.Ec(19,"Sign In"),c.Rb(),c.Rb(),c.Cc(20,p,3,1,"div",12),c.Rb(),c.Rb(),c.Sb(21,"div",13),c.Sb(22,"div",14),c.ac("click",(function(){return c.sc(t),c.ec().forgotPassword()})),c.Ec(23,"Forgot Password"),c.Rb(),c.Sb(24,"div",15),c.ac("click",(function(){return c.sc(t),c.ec().createAccount()})),c.Ec(25,"Create Account"),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=c.ec();c.Bb(11),c.kc("ngModel",t.loginForm.email)("disabled",t.loginForm.disabled),c.Bb(5),c.kc("ngModel",t.loginForm.password)("disabled",t.loginForm.disabled),c.Bb(1),c.kc("ngIf",""!==t.loginForm.error),c.Bb(3),c.kc("ngIf",t.currentState===t.actionState.FAILED)}}const w=o.f.forChild([{path:"",component:(()=>{class t{constructor(t,i,e,n,o){this.afAuth=t,this.authService=i,this.route=e,this.navigationService=n,this.ngZone=o,this.loginForm={email:"",password:"",error:"",disabled:!1},this.subs=new r.a,this.currentState=a.a.IDLE,this.actionState=a.a}ngOnInit(){var t;this.loginForm.email=null!==(t=this.route.snapshot.queryParams.email)&&void 0!==t?t:"",this.subs.add(this.authService.user$.subscribe(t=>this.user=t))}ngOnDestroy(){this.subs.unsubscribe()}createAccount(){const t={};this.loginForm.email&&(t.email=this.loginForm.email),this.navigationService.navigateTo(["create-account"],{queryParams:t})}forgotPassword(){const t={};this.loginForm.email&&(t.email=this.loginForm.email),this.navigationService.navigateTo(["forgot-password"],{queryParams:t})}login(){this.afAuth.signInWithEmailAndPassword(this.loginForm.email,this.loginForm.password).then(t=>{this.currentState=a.a.SUCCESS,this.ngZone.run(()=>{})}).catch(t=>{this.currentState=a.a.FAILED,this.error=t})}logout(){this.authService.logout()}}return t.\u0275fac=function(i){return new(i||t)(c.Mb(s.a),c.Mb(b.a),c.Mb(o.a),c.Mb(l.a),c.Mb(c.A))},t.\u0275cmp=c.Gb({type:t,selectors:[["login"]],decls:3,vars:2,consts:[[1,"d-flex","justify-content-center","pt-4"],[4,"ngIf"],[1,"p-2"],[1,"p-2","text-center"],["mat-raised-button","",3,"click"],[1,""],[1,"text-bold"],[1,"form",3,"ngSubmit"],["matInput","","placeholder","Email","type","email","name","email","required","",3,"ngModel","disabled","ngModelChange"],["matInput","","placeholder","Password","type","password","name","password","required","",3,"ngModel","disabled","ngModelChange"],["class","error",4,"ngIf"],["mat-raised-button","","type","submit"],["class","pt-4 text-break","style","width: 250px;",4,"ngIf"],[1,"d-flex","p-2","pt-4"],[1,"cursor-pointer",3,"click"],[1,"cursor-pointer","ml-auto","pl-4",3,"click"],[1,"error"],[1,"pt-4","text-break",2,"width","250px"],[1,"fa","fa-exclamation-triangle","text-warning"]],template:function(t,i){1&t&&(c.Sb(0,"div",0),c.Cc(1,h,8,1,"mat-card",1),c.Cc(2,v,26,6,"mat-card",1),c.Rb()),2&t&&(c.Bb(1),c.kc("ngIf",i.user),c.Bb(1),c.kc("ngIf",!i.user))},directives:[n.t,u.a,d.b,m.G,m.r,m.s,g.c,g.g,f.a,m.c,m.B,m.q,m.t],styles:[""]}),t})(),children:[]}]);let R=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(i){return new(i||t)},providers:[],imports:[[n.c,w,d.c,m.l,f.b,u.b]]}),t})()}}]);