function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var c=Object.prototype.toString.call(t).slice(8,-1);return"Object"===c&&t.constructor&&(c=t.constructor.name),"Map"===c||"Set"===c?Array.from(t):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var c=0,i=new Array(e);c<e;c++)i[c]=t[c];return i}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var c=[],i=!0,n=!1,o=void 0;try{for(var a,r=t[Symbol.iterator]();!(i=(a=r.next()).done)&&(c.push(a.value),!e||c.length!==e);i=!0);}catch(l){n=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(n)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var c=0;c<e.length;c++){var i=e[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,c){return e&&_defineProperties(t.prototype,e),c&&_defineProperties(t,c),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{HopJ:function(t,e,c){"use strict";c.d(e,"a",(function(){return ot}));var i=c("fXoL"),n=c("0IaG"),o=c("3Pt+"),a=c("aSHc"),r=c("CPZX"),l=c("kmnG"),s=c("qFsG"),u=c("ofXK"),d=c("bTqV");function f(t,e){1&t&&(i.ic(0,"div",10),i.dc(1,"i",11),i.bd(2," Folder Created"),i.hc())}function h(t,e){if(1&t){var c=i.jc();i.ic(0,"div",12),i.ic(1,"button",13),i.bd(2,"Cancel"),i.hc(),i.ic(3,"button",14),i.uc("click",(function(){return i.Rc(c),i.yc().create()})),i.bd(4,"Create"),i.hc(),i.hc()}if(2&t){var n=i.yc();i.Ob(3),i.Ec("disabled",!n.form.valid)}}function m(t,e){if(1&t){var c=i.jc();i.ic(0,"div",12),i.ic(1,"button",15),i.uc("click",(function(){return i.Rc(c),i.yc().close()})),i.bd(2,"Close"),i.hc(),i.hc()}}var g,p=((g=function(){function t(e,c,i,n){_classCallCheck(this,t),this.fb=e,this.codebaseService=c,this.data=i,this.dialogRef=n,this.actionState=a.a,this.currentState=a.a.IDLE,this.form=this.fb.group({newFolderName:["",[o.x.required]]})}return _createClass(t,[{key:"ngOnInit",value:function(){this.form.valueChanges.subscribe((function(t){console.log("conflictForm data",t)}))}},{key:"ngOnDestroy",value:function(){}},{key:"create",value:function(){var t=this;this.currentState=a.a.PENDING,this.codebaseService.createFolder(this.data.destination,this.form.get("newFolderName").value).subscribe((function(e){t.currentState=a.a.SUCCESS}),(function(e){console.log("",e),t.currentState=a.a.FAILED,t.form.controls.newFolderName.setErrors({incorrect:!0}),t.errorMessage=e.error.code}))}},{key:"close",value:function(){this.dialogRef.close({created:!0})}}]),t}()).\u0275fac=function(t){return new(t||g)(i.cc(o.f),i.cc(r.a),i.cc(n.a),i.cc(n.g))},g.\u0275cmp=i.Wb({type:g,selectors:[["new-folder-dialog"]],decls:16,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"p-1"],[1,"p-1","pt-2","pb-2"],[3,"formGroup"],[1,"mat-form-field"],["matInput","","placeholder","New Folder Name:","formControlName","newFolderName"],["class","p-2 text-center",4,"ngIf"],["mat-dialog-actions",""],["class","text-right",4,"ngIf"],[1,"p-2","text-center"],[1,"fa","fa-check","text-success"],[1,"text-right"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.ic(0,"h1",0),i.bd(1,"Create Folder"),i.hc(),i.ic(2,"div",1),i.ic(3,"div",2),i.bd(4,"Destination:"),i.hc(),i.ic(5,"div",3),i.bd(6),i.hc(),i.ic(7,"form",4),i.ic(8,"mat-form-field",5),i.dc(9,"input",6),i.ic(10,"mat-error"),i.bd(11),i.hc(),i.hc(),i.hc(),i.Zc(12,f,3,0,"div",7),i.hc(),i.ic(13,"div",8),i.Zc(14,h,5,1,"div",9),i.Zc(15,m,3,0,"div",9),i.hc()),2&t&&(i.Ob(6),i.cd(e.data.destination),i.Ob(1),i.Ec("formGroup",e.form),i.Ob(4),i.cd(e.errorMessage),i.Ob(1),i.Ec("ngIf",e.currentState===e.actionState.SUCCESS),i.Ob(2),i.Ec("ngIf",e.currentState!==e.actionState.SUCCESS),i.Ob(1),i.Ec("ngIf",e.currentState===e.actionState.SUCCESS))},directives:[n.h,n.e,o.z,o.q,o.k,l.c,s.b,o.c,o.p,o.i,l.b,u.u,n.c,d.a,n.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),g);function v(t,e){if(1&t&&(i.ic(0,"li",10),i.bd(1),i.hc()),2&t){var c=e.$implicit;i.Ob(1),i.cd(c)}}var b,y=((b=function(){function t(e,c,i){_classCallCheck(this,t),this.codebaseService=e,this.data=c,this.dialogRef=i,this.ignoreList=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.ignoreList=this.data.list}},{key:"ngOnDestroy",value:function(){}},{key:"addToList",value:function(){this.codebaseService.addToIgnoreList(this.ignoreList),this.dialogRef.close({added:!0})}}]),t}()).\u0275fac=function(t){return new(t||b)(i.cc(r.a),i.cc(n.a),i.cc(n.g))},b.\u0275cmp=i.Wb({type:b,selectors:[["ignore-list-dialog"]],decls:14,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,""],[1,"p-1"],[1,"p-2"],[1,"list-unstyled"],["class","text-muted text-small",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"text-right"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"click"],[1,"text-muted","text-small"]],template:function(t,e){1&t&&(i.ic(0,"h1",0),i.bd(1,"Ignore List"),i.hc(),i.ic(2,"div",1),i.ic(3,"div",2),i.ic(4,"div",3),i.bd(5,"Add following files/folders to the ignore list:"),i.hc(),i.ic(6,"div",4),i.ic(7,"ul",5),i.Zc(8,v,2,1,"li",6),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(9,"div",7),i.ic(10,"button",8),i.bd(11,"Cancel"),i.hc(),i.ic(12,"button",9),i.uc("click",(function(){return e.addToList()})),i.bd(13,"Add"),i.hc(),i.hc()),2&t&&(i.Ob(8),i.Ec("ngForOf",e.ignoreList))},directives:[n.h,n.e,u.t,n.c,d.a,n.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),b),C=c("/hV/"),S=c("xm+p");function O(t,e){if(1&t&&(i.ic(0,"li",14),i.bd(1),i.hc()),2&t){var c=e.$implicit;i.Ob(1),i.cd(c)}}function k(t,e){if(1&t&&(i.ic(0,"div"),i.ic(1,"div",10),i.bd(2,"Seed contents:"),i.hc(),i.ic(3,"div",11),i.ic(4,"ul",12),i.Zc(5,O,2,1,"li",13),i.hc(),i.hc(),i.hc()),2&t){var c=i.yc();i.Ob(5),i.Ec("ngForOf",c.fileList)}}function N(t,e){1&t&&(i.ic(0,"div",15),i.dc(1,"i",16),i.bd(2," Seed Created"),i.hc())}function F(t,e){if(1&t){var c=i.jc();i.ic(0,"div",17),i.ic(1,"button",18),i.bd(2,"Cancel"),i.hc(),i.ic(3,"button",19),i.uc("click",(function(){return i.Rc(c),i.yc().create()})),i.bd(4,"Create"),i.hc(),i.hc()}if(2&t){var n=i.yc();i.Ob(3),i.Ec("disabled",!n.templateForm.valid)}}function I(t,e){if(1&t){var c=i.jc();i.ic(0,"div",17),i.ic(1,"button",18),i.bd(2,"Done"),i.hc(),i.ic(3,"button",20),i.uc("click",(function(){return i.Rc(c),i.yc().goToTemplate()})),i.bd(4,"Go to seed"),i.hc(),i.hc()}}var E,T=((E=function(){function t(e,c,i,n,r){_classCallCheck(this,t),this.fb=e,this.data=c,this.bluService=i,this.navigationService=n,this.dialogRef=r,this.fileList=[],this.actionState=a.a,this.currentState=a.a.IDLE,this.templateForm=this.fb.group({seedName:["",[o.x.required]]})}return _createClass(t,[{key:"ngOnInit",value:function(){this.fileList=this.data.list}},{key:"ngOnDestroy",value:function(){}},{key:"create",value:function(){var t=this,e={collectionName:"seeds",templateName:this.templateForm.get("seedName").value,files:this.fileList,isSeed:!0};this.currentState=a.a.PENDING,this.bluService.createTemplate(e).subscribe((function(e){t.currentState=a.a.SUCCESS,t.newTemplate=e}),(function(e){console.log("",e),t.currentState=a.a.FAILED,t.templateForm.controls.seedName.setErrors({incorrect:!0}),t.errorMessage=e.error.message}))}},{key:"goToTemplate",value:function(){this.dialogRef.close({created:!0}),this.navigationService.navigateTo(["blu","template","view","".concat(this.newTemplate.collectionName,".").concat(this.newTemplate.templateName)])}}]),t}()).\u0275fac=function(t){return new(t||E)(i.cc(o.f),i.cc(n.a),i.cc(C.a),i.cc(S.a),i.cc(n.g))},E.\u0275cmp=i.Wb({type:E,selectors:[["create-seed-dialog"]],decls:14,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,""],[3,"formGroup"],[1,"mat-form-field"],["matInput","","placeholder","Seed Name","formControlName","seedName"],[4,"ngIf"],["class","p-2 text-center",4,"ngIf"],["mat-dialog-actions","",1,"text-right"],["class","text-right",4,"ngIf"],[1,"p-1"],[1,"p-2"],[1,"list-unstyled"],["class","text-muted text-small",4,"ngFor","ngForOf"],[1,"text-muted","text-small"],[1,"p-2","text-center"],[1,"fa","fa-check","text-success"],[1,"text-right"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.ic(0,"h1",0),i.bd(1,"Create Seed"),i.hc(),i.ic(2,"div",1),i.ic(3,"div",2),i.ic(4,"form",3),i.ic(5,"mat-form-field",4),i.dc(6,"input",5),i.ic(7,"mat-error"),i.bd(8),i.hc(),i.hc(),i.hc(),i.Zc(9,k,6,1,"div",6),i.Zc(10,N,3,0,"div",7),i.hc(),i.hc(),i.ic(11,"div",8),i.Zc(12,F,5,1,"div",9),i.Zc(13,I,5,0,"div",9),i.hc()),2&t&&(i.Ob(4),i.Ec("formGroup",e.templateForm),i.Ob(4),i.cd(e.errorMessage),i.Ob(1),i.Ec("ngIf",e.fileList.length>0),i.Ob(1),i.Ec("ngIf",e.currentState===e.actionState.SUCCESS),i.Ob(2),i.Ec("ngIf",e.currentState!==e.actionState.SUCCESS),i.Ob(1),i.Ec("ngIf",e.currentState===e.actionState.SUCCESS))},directives:[n.h,n.e,o.z,o.q,o.k,l.c,s.b,o.c,o.p,o.i,l.b,u.u,n.c,u.t,d.a,n.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),E),x=c("QibW");function w(t,e){if(1&t&&(i.ic(0,"li",10),i.bd(1),i.hc()),2&t){var c=e.$implicit;i.Ob(1),i.cd(c)}}function L(t,e){if(1&t&&(i.ic(0,"li",10),i.bd(1),i.hc()),2&t){var c=e.$implicit;i.Ob(1),i.cd(c)}}var P,_,M=((P=function(){function t(e,c,i,n){_classCallCheck(this,t),this.fb=e,this.codebaseService=c,this.data=i,this.dialogRef=n,this.activeList=[],this.selectedList=[],this.form=this.fb.group({radioGroup:["",[o.x.required]]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.activeList=[this.data.activeNode.data.path],this.selectedList=this.data.selectedNodes.map((function(t){return t.data.path})),this.form.valueChanges.subscribe((function(e){return t.selectList("active"===e.radioGroup?t.activeList:t.selectedList)}))}},{key:"ngOnDestroy",value:function(){}},{key:"selectList",value:function(t){this.dialogRef.close({list:t})}}]),t}()).\u0275fac=function(t){return new(t||P)(i.cc(o.f),i.cc(r.a),i.cc(n.a),i.cc(n.g))},P.\u0275cmp=i.Wb({type:P,selectors:[["file-selection-conflict-dialog"]],decls:18,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["aria-label","Select an option","formControlName","radioGroup",1,"mat-radio-group"],[1,"mat-radio-button",3,"value"],[1,"p-2"],[1,"list-unstyled"],["class","text-muted text-small",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"text-right"],["mat-button","","mat-dialog-close",""],[1,"text-muted","text-small"]],template:function(t,e){1&t&&(i.ic(0,"h1",0),i.bd(1,"Files Selection Conflict"),i.hc(),i.ic(2,"div",1),i.ic(3,"form",2),i.ic(4,"mat-radio-group",3),i.ic(5,"mat-radio-button",4),i.bd(6,"Use active File/Folder"),i.hc(),i.ic(7,"div",5),i.ic(8,"ul",6),i.Zc(9,w,2,1,"li",7),i.hc(),i.hc(),i.ic(10,"mat-radio-button",4),i.bd(11,"Use selected File/Folder(s)"),i.hc(),i.ic(12,"div",5),i.ic(13,"ul",6),i.Zc(14,L,2,1,"li",7),i.hc(),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(15,"div",8),i.ic(16,"button",9),i.bd(17,"Cancel"),i.hc(),i.hc()),2&t&&(i.Ob(3),i.Ec("formGroup",e.form),i.Ob(2),i.Ec("value","active"),i.Ob(4),i.Ec("ngForOf",e.activeList),i.Ob(1),i.Ec("value","selected"),i.Ob(4),i.Ec("ngForOf",e.selectedList))},directives:[n.h,n.e,o.z,o.q,o.k,x.b,o.p,o.i,x.a,u.t,n.c,d.a,n.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),P),D=c("LRne"),R=c("EY2u"),A=c("eIep"),G=c("quSY"),j=((_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"commonPrefix",value:function(t){for(var e=t.concat().sort(),c=e[0],i=e[e.length-1],n=c.length,o=0;o<n&&c.charAt(o)===i.charAt(o);)o++;return c.substring(0,o)}}]),t}()).\u0275fac=function(t){return new(t||_)},_.\u0275prov=i.Yb({token:_,factory:_.\u0275fac,providedIn:"root"}),_),Z=c("d3UM"),U=c("FKr1");function q(t,e){if(1&t&&(i.ic(0,"mat-option",7),i.bd(1),i.hc()),2&t){var c=e.$implicit;i.Ec("value",c.name),i.Ob(1),i.cd(c.name)}}function W(t,e){1&t&&(i.ic(0,"mat-form-field",4),i.dc(1,"input",15),i.hc())}function z(t,e){if(1&t&&(i.ic(0,"li",20),i.bd(1),i.hc()),2&t){var c=e.$implicit;i.Ob(1),i.cd(c)}}function $(t,e){if(1&t&&(i.ic(0,"div",2),i.ic(1,"div",16),i.bd(2,"Template contents:"),i.hc(),i.ic(3,"div",17),i.ic(4,"ul",18),i.Zc(5,z,2,1,"li",19),i.hc(),i.hc(),i.hc()),2&t){var c=i.yc();i.Ob(5),i.Ec("ngForOf",c.fileList)}}function H(t,e){1&t&&(i.ic(0,"div",21),i.dc(1,"i",22),i.bd(2," Template Created"),i.hc())}function Y(t,e){if(1&t){var c=i.jc();i.ic(0,"div",23),i.ic(1,"button",24),i.bd(2,"Cancel"),i.hc(),i.ic(3,"button",25),i.uc("click",(function(){return i.Rc(c),i.yc().create()})),i.bd(4,"Create"),i.hc(),i.hc()}if(2&t){var n=i.yc();i.Ob(3),i.Ec("disabled",!n.templateForm.valid)}}function X(t,e){if(1&t){var c=i.jc();i.ic(0,"div",23),i.ic(1,"button",24),i.bd(2,"Done"),i.hc(),i.ic(3,"button",26),i.uc("click",(function(){return i.Rc(c),i.yc().goToTemplate()})),i.bd(4,"Go to template"),i.hc(),i.hc()}}var J,Q=((J=function(){function t(e,c,i,n,r,l){_classCallCheck(this,t),this.fb=e,this.utilService=c,this.bluService=i,this.navigationService=n,this.data=r,this.dialogRef=l,this.fileList=[],this.collections=[],this.actionState=a.a,this.currentState=a.a.IDLE,this.subs=new G.a,this.templateForm=this.fb.group({templateName:["",[o.x.required]],collection:["",[o.x.required]],newCollectionName:[""]})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.bluService.getCollections().subscribe((function(e){return t.collections=e})),this.fileList=this.data.list,this.subs.add(this.templateForm.valueChanges.subscribe((function(e){t.createNewCollection="create-new-collection"===e.collection,t.templateForm.get("newCollectionName").setValidators(t.createNewCollection?[o.x.required]:[])})))}},{key:"ngOnDestroy",value:function(){this.subs.unsubscribe()}},{key:"create",value:function(){var t=this,e={collectionName:this.createNewCollection?this.templateForm.get("newCollectionName").value:this.templateForm.get("collection").value,templateName:this.templateForm.get("templateName").value,files:this.fileList};this.currentState=a.a.PENDING,this.bluService.createTemplate(e).subscribe((function(e){t.currentState=a.a.SUCCESS,t.newTemplate=e}),(function(e){console.log("",e),t.currentState=a.a.FAILED,t.templateForm.controls.templateName.setErrors({incorrect:!0}),t.errorMessage=e.error.message}))}},{key:"goToTemplate",value:function(){this.dialogRef.close({created:!0}),this.navigationService.navigateTo(["blu","template","view","".concat(this.newTemplate.collectionName,".").concat(this.newTemplate.templateName)])}}]),t}()).\u0275fac=function(t){return new(t||J)(i.cc(o.f),i.cc(j),i.cc(C.a),i.cc(S.a),i.cc(n.a),i.cc(n.g))},J.\u0275cmp=i.Wb({type:J,selectors:[["create-template-dialog"]],decls:23,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,""],[3,"formGroup"],[1,"mat-form-field"],["matInput","","placeholder","New Template Name","formControlName","templateName"],["formControlName","collection"],[3,"value"],[1,"fa","fa-plus-circle"],[3,"value",4,"ngFor","ngForOf"],["class","mat-form-field",4,"ngIf"],["class","",4,"ngIf"],["class","p-2 text-center",4,"ngIf"],["mat-dialog-actions","",1,"text-right"],["class","text-right",4,"ngIf"],["matInput","","placeholder","New Collection Name","formControlName","newCollectionName"],[1,"p-1"],[1,"p-2"],[1,"list-unstyled"],["class","text-muted text-small",4,"ngFor","ngForOf"],[1,"text-muted","text-small"],[1,"p-2","text-center"],[1,"fa","fa-check","text-success"],[1,"text-right"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.ic(0,"h1",0),i.bd(1,"Create Template"),i.hc(),i.ic(2,"div",1),i.ic(3,"div",2),i.ic(4,"form",3),i.ic(5,"mat-form-field",4),i.dc(6,"input",5),i.ic(7,"mat-error"),i.bd(8),i.hc(),i.hc(),i.ic(9,"mat-form-field",4),i.ic(10,"mat-label"),i.bd(11,"Add to Collection:"),i.hc(),i.ic(12,"mat-select",6),i.ic(13,"mat-option",7),i.dc(14,"i",8),i.bd(15," Create New Collection"),i.hc(),i.Zc(16,q,2,2,"mat-option",9),i.hc(),i.hc(),i.Zc(17,W,2,0,"mat-form-field",10),i.hc(),i.Zc(18,$,6,1,"div",11),i.hc(),i.Zc(19,H,3,0,"div",12),i.hc(),i.ic(20,"div",13),i.Zc(21,Y,5,1,"div",14),i.Zc(22,X,5,0,"div",14),i.hc()),2&t&&(i.Ob(4),i.Ec("formGroup",e.templateForm),i.Ob(4),i.cd(e.errorMessage),i.Ob(5),i.Ec("value","create-new-collection"),i.Ob(3),i.Ec("ngForOf",e.collections),i.Ob(1),i.Ec("ngIf",e.createNewCollection),i.Ob(1),i.Ec("ngIf",e.fileList.length>0),i.Ob(1),i.Ec("ngIf",e.currentState===e.actionState.SUCCESS),i.Ob(2),i.Ec("ngIf",e.currentState!==e.actionState.SUCCESS),i.Ob(1),i.Ec("ngIf",e.currentState===e.actionState.SUCCESS))},directives:[n.h,n.e,o.z,o.q,o.k,l.c,s.b,o.c,o.p,o.i,l.b,l.g,Z.a,U.i,u.t,u.u,n.c,d.a,n.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),J),V=c("yzkU"),B=c("STbY"),K=c("NFeN"),tt=c("rDsv");function et(t,e){if(1&t){var c=i.jc();i.gc(0),i.ic(1,"li",27),i.uc("click",(function(){i.Rc(c);var t=e.index;return i.yc(2).getRootPath(t+1)})),i.ic(2,"span",28),i.bd(3),i.hc(),i.hc(),i.ic(4,"li"),i.bd(5,"/"),i.hc(),i.fc()}if(2&t){var n=e.$implicit;i.Ob(3),i.cd(n)}}function ct(t,e){if(1&t){var c=i.jc();i.ic(0,"div",29),i.uc("click",(function(){i.Rc(c),i.yc();var t=i.Nc(13),e=i.Nc(48);return i.yc().clearSearch(t,e.treeModel)})),i.ic(1,"span",30),i.dc(2,"span",31),i.hc(),i.hc()}}function it(t,e){if(1&t){var c=i.jc();i.gc(0),i.ic(1,"div",2),i.ic(2,"div",3),i.ic(3,"div",4),i.ic(4,"ul"),i.ic(5,"li"),i.ic(6,"button",5),i.ic(7,"i",6),i.uc("click",(function(){return i.Rc(c),i.yc().goToCodebaseConfig()})),i.hc(),i.hc(),i.hc(),i.Zc(8,et,6,1,"ng-container",7),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(9,"div",2),i.ic(10,"div",3),i.ic(11,"div",8),i.ic(12,"input",9,10),i.uc("keyup",(function(){i.Rc(c);var t=i.Nc(13),e=i.Nc(48);return i.yc().filterFn(t.value,e.treeModel)})),i.hc(),i.Zc(14,ct,3,0,"div",11),i.hc(),i.ic(15,"button",12),i.ic(16,"mat-icon"),i.bd(17,"more_vert"),i.hc(),i.hc(),i.ic(18,"mat-menu",13,14),i.ic(20,"button",15),i.uc("click",(function(){return i.Rc(c),i.yc().convertToTemplate()})),i.dc(21,"i",16),i.bd(22," Convert to Template"),i.hc(),i.ic(23,"button",15),i.uc("click",(function(){return i.Rc(c),i.yc().createSeed()})),i.dc(24,"i",17),i.bd(25," Create a Seed"),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(26,"div",2),i.ic(27,"div",3),i.ic(28,"div",18),i.ic(29,"button",19),i.uc("click",(function(){return i.Rc(c),i.yc().generateTemplate()})),i.dc(30,"i",20),i.bd(31," Generate Template"),i.hc(),i.ic(32,"button",19),i.uc("click",(function(){return i.Rc(c),i.yc().createNewFolder()})),i.dc(33,"i",21),i.bd(34," New Folder"),i.hc(),i.ic(35,"button",22),i.uc("click",(function(){return i.Rc(c),i.yc().addToIgnoreList()})),i.dc(36,"i",23),i.bd(37," Add To Ignore List"),i.hc(),i.ic(38,"button",22),i.uc("click",(function(){return i.Rc(c),i.yc().convertToTemplate()})),i.dc(39,"i",16),i.bd(40," Convert to Template"),i.hc(),i.ic(41,"button",22),i.uc("click",(function(){return i.Rc(c),i.yc().createSeed()})),i.dc(42,"i",17),i.bd(43," Create a Seed"),i.hc(),i.hc(),i.hc(),i.hc(),i.ic(44,"div",2),i.ic(45,"div",3),i.ic(46,"div",24),i.ic(47,"tree-root",25,26),i.uc("focus",(function(t){return i.Rc(c),i.yc().selectFolder(t)}))("stateChange",(function(t){return i.Rc(c),i.yc().state=t}))("stateChange",(function(t){i.Rc(c);var e=i.Nc(48);return i.yc().checkState(t,e)})),i.hc(),i.hc(),i.hc(),i.hc(),i.fc()}if(2&t){var n=i.Nc(13),o=i.Nc(19),a=i.yc();i.Ob(8),i.Ec("ngForOf",a.splitPath),i.Ob(6),i.Ec("ngIf",n.value),i.Ob(1),i.Ec("matMenuTriggerFor",o),i.Ob(20),i.Ec("disabled",!a.anyFilesSelected()),i.Ob(3),i.Ec("disabled",!a.anyFilesSelected()),i.Ob(3),i.Ec("disabled",!a.anyFilesSelected()),i.Ob(6),i.Ec("nodes",a.root.children)("options",a.options)("state",a.state)}}var nt,ot=((nt=function(){function t(e,c,n,o){_classCallCheck(this,t),this.codebaseService=e,this.directoryTreeService=c,this.navigationService=n,this.dialog=o,this.state={},this.foldersOnly=!1,this.onFocus=new i.r,this.splitPath=[],this.selectedNodes=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.options=Object.assign({},{actionMapping:{mouse:{dblClick:function(e,c,i){t.directoryTreeService.isDirectory(c)&&t.getPath(c.data.path)}}}},this.options),this.root?this.init():this.codebaseService.getRootTree(this.codebaseService.getIgnoreList(),this.foldersOnly).subscribe((function(e){t.root=e,t.init()}))}},{key:"init",value:function(){this.rootPath=this.root.path,this.splitPath=this.rootPath.split("/")}},{key:"ngOnDestroy",value:function(){}},{key:"selectFolder",value:function(t){this.onFocus.emit(t)}},{key:"getRootPath",value:function(t){var e=this.splitPath.slice(0,t).join("/");this.getPath(e)}},{key:"getPath",value:function(t){var e=this;this.codebaseService.getTree(t,this.codebaseService.getIgnoreList()).subscribe((function(t){e.root=t,e.init()}))}},{key:"filterFn",value:function(t,e){var c=this;e.filterNodes((function(e){return c.directoryTreeService.fuzzysearch(t,e.data.name)}))}},{key:"clearSearch",value:function(t,e){t.value="",this.filterFn("",e),e.collapseAll()}},{key:"goToCodebaseConfig",value:function(){this.navigationService.navigateTo(["codebase","config"])}},{key:"checkState",value:function(t,e){this.selectedNodes=Object.entries(this.state.selectedLeafNodeIds).filter((function(t){var e=_slicedToArray(t,2);return e[0],!0===e[1]})).map((function(t){return e.treeModel.getNodeById(t[0])})),this.activeNode=Object.entries(this.state.activeNodeIds).filter((function(t){var e=_slicedToArray(t,2);return e[0],!0===e[1]})).map((function(t){return e.treeModel.getNodeById(t[0])}))[0]}},{key:"anyFilesSelected",value:function(){return!!this.activeNode||this.selectedNodes.length>0}},{key:"getSelectedFileList",value:function(){return this.directoryTreeService.hasFileSelectionConflict(this.activeNode,this.selectedNodes)?this.openFileSelectionConflictDialog().afterClosed().pipe(Object(A.a)((function(t){return t.list?Object(D.a)(t.list):R.a}))):Object(D.a)(this.activeNode?[this.activeNode.data.path]:this.selectedNodes.map((function(t){return t.data.path})))}},{key:"generateTemplate",value:function(){var t=this.directoryTreeService.isDirectory(this.activeNode)?this.directoryTreeService.getNodePath(this.activeNode):this.rootPath;this.navigationService.navigateTo(["blu","generate"],{queryParams:{destination:t}})}},{key:"convertToTemplate",value:function(){var t=this;this.getSelectedFileList().pipe(Object(A.a)((function(e){return t.openConvertToTemplateDialog(e).afterClosed()}))).subscribe((function(t){return console.log(">>>>>>>",t)}))}},{key:"createSeed",value:function(){var t=this;this.getSelectedFileList().pipe(Object(A.a)((function(e){return t.openCreateSeedDialog(e).afterClosed()}))).subscribe((function(t){return console.log(">>>>>>>",t)}))}},{key:"addToIgnoreList",value:function(){var t=this;this.getSelectedFileList().pipe(Object(A.a)((function(e){return t.openIgnoreListDialog(e).afterClosed()}))).subscribe((function(e){return e.added?t.getPath(t.rootPath):null}))}},{key:"createNewFolder",value:function(){var t=this;this.openNewFolderDialog().afterClosed().subscribe((function(e){return e.created?t.getPath(t.rootPath):null}))}},{key:"openNewFolderDialog",value:function(){return this.dialog.open(p,{data:{destination:this.activeNode?this.activeNode.data.path:this.rootPath},position:{top:"100px"},autoFocus:!0})}},{key:"openIgnoreListDialog",value:function(t){return this.dialog.open(y,{data:{list:t},position:{top:"100px"},autoFocus:!0})}},{key:"openCreateSeedDialog",value:function(t){return this.dialog.open(T,{data:{list:t},position:{top:"100px"},autoFocus:!0})}},{key:"openConvertToTemplateDialog",value:function(t){return this.dialog.open(Q,{data:{list:t},position:{top:"100px"},autoFocus:!0})}},{key:"openFileSelectionConflictDialog",value:function(){return this.dialog.open(M,{data:{activeNode:this.activeNode,selectedNodes:this.selectedNodes},position:{top:"100px"},autoFocus:!0})}}]),t}()).\u0275fac=function(t){return new(t||nt)(i.cc(r.a),i.cc(V.a),i.cc(S.a),i.cc(n.b))},nt.\u0275cmp=i.Wb({type:nt,selectors:[["directory-tree"]],inputs:{root:"root",state:"state",options:"options",foldersOnly:"foldersOnly"},outputs:{onFocus:"onFocus"},decls:2,vars:1,consts:[[1,"p-2"],[4,"ngIf"],[1,"row"],[1,"col"],[1,"pl-2","cwd","text-small"],["mat-button","","mat-icon-button",""],[1,"fa","fa-cog",3,"click"],[4,"ngFor","ngForOf"],[1,"input-group","pt-1"],["id","filter3","placeholder","Search...",1,"form-control",3,"keyup"],["filter3",""],["class","input-group-append cursor-pointer",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["xPosition","before",1,"mt-1"],["appMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"fa","fa-code"],[1,"fa","fa-seedling"],[1,"pt-1"],["mat-button","",3,"click"],[1,"fa","fa-terminal"],[1,"fa","fa-folder-plus"],["mat-button","",3,"disabled","click"],[1,"fa","fa-plus-circle"],[1,"pt-1","pl-2"],[3,"nodes","options","state","focus","stateChange"],["tree",""],[3,"click"],[1,"text-muted","cursor-pointer"],[1,"input-group-append","cursor-pointer",3,"click"],[1,"input-group-text","bg-white"],[1,"fa","fa-times"]],template:function(t,e){1&t&&(i.ic(0,"div",0),i.Zc(1,it,49,9,"ng-container",1),i.hc()),2&t&&(i.Ob(1),i.Ec("ngIf",e.root))},directives:[u.u,d.a,u.t,B.c,K.a,B.d,B.a,tt.a],styles:[".cwd[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0!important;-webkit-padding-start:0!important;padding-inline-start:0!important}.cwd[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child{margin:0}.cwd[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-child{display:none}.cwd[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;zoom:1;*display:inline;margin:0 2px}"]}),nt)},Or6o:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var i=c("fXoL"),n=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getFolderName",value:function(t){return t.data.name}},{key:"getPath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=t.data.name?"".concat(t.data.name,"/").concat(e):e;return t.parent?this.getPath(t.parent,c):c}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},aSHc:function(t,e,c){"use strict";c.d(e,"a",(function(){return i}));var i=function(t){return t[t.FAILED=0]="FAILED",t[t.SUCCESS=1]="SUCCESS",t[t.PENDING=2]="PENDING",t[t.DONE=3]="DONE",t[t.INCOMPLETE=4]="INCOMPLETE",t[t.DELETING=5]="DELETING",t[t.EDITING=6]="EDITING",t[t.ACQUIRING=7]="ACQUIRING",t[t.IDLE=8]="IDLE",t}({})}}]);