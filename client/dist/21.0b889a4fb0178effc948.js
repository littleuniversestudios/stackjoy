(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"8kpP":function(t,e,n){"use strict";n.r(e),n.d(e,"StarterCodeModule",(function(){return y}));var r=n("ofXK"),i=n("tyNb"),o=n("quSY"),s=n("aSHc"),c=n("fXoL"),a=n("3sFK"),b=n("xm+p"),d=n("n2Wo"),l=n("0IaG"),u=n("bTqV"),f=n("3Pt+"),p=n("kmnG"),m=n("qFsG");function h(t,e){1&t&&(c.Rb(0,"mat-error"),c.Ec(1,"Input is required"),c.Qb())}let v=(()=>{class t{constructor(t){this.fb=t,this.onChange=new c.o}ngOnInit(){var t;this.model=null!==(t=this.model)&&void 0!==t?t:this.defaultSeed(),this.initForm(),this.formGroup.valueChanges.subscribe(t=>{this.onChange.emit(this.formGroup)})}defaultSeed(){return{url:"",postInstall:"",preInstall:"",script:""}}initForm(){this.formGroup=this.fb.group({url:[this.model.url,[f.F.required]],postInstall:[this.model.postInstall,[]],preInstall:["",[]],script:["",[]]})}get f(){return this.formGroup.controls}addItem(t){this.f[t].push(this.fb.control(""))}deleteItem(t,e){this.f[t].removeAt(e)}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(f.f))},t.\u0275cmp=c.Fb({type:t,selectors:[["starter-code-form"]],inputs:{model:"model"},outputs:{onChange:"onChange"},decls:10,vars:2,consts:[[1,"mat-form",3,"formGroup"],[1,""],["placeholder","Web URL to a Public Git Repository","type","string","matInput","","formControlName","url","required",""],[4,"ngIf"],[1,"pt-2"],[1,"text-muted"],["rows","15","formControlName","postInstall",1,"post-install-input"]],template:function(t,e){1&t&&(c.Rb(0,"form",0),c.Rb(1,"div",1),c.Rb(2,"mat-form-field"),c.Mb(3,"input",2),c.Cc(4,h,2,0,"mat-error",3),c.Qb(),c.Rb(5,"div",4),c.Rb(6,"div",5),c.Ec(7,"Post Install Instructions:"),c.Qb(),c.Rb(8,"div",1),c.Mb(9,"textarea",6),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.jc("formGroup",e.formGroup),c.Ab(4),c.jc("ngIf",null==e.f.url||null==e.f.url.errors?null:e.f.url.errors.required))},directives:[f.H,f.s,f.k,p.c,m.a,f.c,f.r,f.i,f.C,r.t,p.b],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.post-install-input[_ngcontent-%COMP%]{width:100%;border:1px solid #b8b8b8;border-radius:5px;padding:8px}.post-install-input[_ngcontent-%COMP%]:focus{border:1px solid #b8b8b8!important}"]}),t})();function g(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",11),c.Zb("click",(function(){return c.rc(t),c.dc().goToStacks()})),c.Ec(2," Your stack must be published to assign starter code "),c.Mb(3,"i",12),c.Qb(),c.Ob()}}function S(t,e){if(1&t){const t=c.Sb();c.Rb(0,"starter-code-form",20),c.Zb("onChange",(function(e){return c.rc(t),c.dc(2).setForm(e)})),c.Qb()}if(2&t){const t=c.dc(2);c.jc("model",t.environment.seed)}}function C(t,e){1&t&&(c.Rb(0,"span",21),c.Mb(1,"i",22),c.Ec(2," Saved"),c.Qb())}function R(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",13),c.Rb(2,"div",14),c.Rb(3,"div",15),c.Cc(4,S,1,1,"starter-code-form",16),c.Qb(),c.Rb(5,"div",17),c.Rb(6,"button",18),c.Zb("click",(function(){return c.rc(t),c.dc().saveGitRepo()})),c.Ec(7,"Save"),c.Qb(),c.Cc(8,C,3,0,"span",19),c.Qb(),c.Qb(),c.Qb(),c.Ob()}if(2&t){const t=c.dc();c.Ab(4),c.jc("ngIf",t.environment),c.Ab(2),c.jc("disabled",!(null!=t.form&&t.form.valid&&t.currentState===t.actionState.ACTIVE)),c.Ab(2),c.jc("ngIf",t.currentState===t.actionState.SUCCESS)}}const I=i.f.forChild([{path:"",component:(()=>{class t{constructor(t,e,n,r){this.appEnvironmentService=t,this.navigationService=e,this.stackApiService=n,this.dialog=r,this.currentState=s.a.IDLE,this.actionState=s.a,this.subs=new o.a}ngOnInit(){this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>{this.environment=t}))}ngOnDestroy(){this.subs.unsubscribe()}setForm(t){this.form=t,this.currentState=s.a.ACTIVE}saveGitRepo(){this.stackApiService.saveStarterCode(this.environment.remote.id,this.form.value).subscribe(t=>{this.appEnvironmentService.refreshCurrentEnvironment(),this.currentState=s.a.SUCCESS})}goToStacks(){this.navigationService.navigateTo(["my-items","stacks"])}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(a.a),c.Lb(b.a),c.Lb(d.a),c.Lb(l.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["starter-code"]],decls:19,vars:2,consts:[[1,"p-2"],[1,"p-4","text-muted","rounded","border",2,"max-width","600px"],[1,"d-flex","align-items-start","pb-4"],[1,"text-center","text-muted",2,"width","25px"],[1,"fa","fa-code-branch"],[1,"pl-2"],[1,"text-center","text-muted",2,"width","30px"],[1,"fa","fa-download"],[1,"d-flex","align-items-start"],[1,"fa","fa-plus-circle"],[4,"ngIf"],[1,"text-center","p-4","border","rounded","mt-4","cursor-pointer",3,"click"],[1,"fa","fa-arrow-circle-right"],[1,"d-flex","flex-column","flex-grow-1","p-2","pt-5"],[1,""],[1,"",2,"max-width","600px"],[3,"model","onChange",4,"ngIf"],[1,"pt-2"],["mat-raised-button","",3,"disabled","click"],["class","ml-2 text-success",4,"ngIf"],[3,"model","onChange"],[1,"ml-2","text-success"],[1,"fa","fa-check"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Mb(4,"i",4),c.Qb(),c.Rb(5,"div",5),c.Ec(6,"You can add a public git repository to your stack."),c.Qb(),c.Qb(),c.Rb(7,"div",2),c.Rb(8,"div",6),c.Mb(9,"i",7),c.Qb(),c.Rb(10,"div",5),c.Ec(11,"When a user installs the stack, the git repository will be copied into the folder where the stack is being installed in. "),c.Qb(),c.Qb(),c.Rb(12,"div",8),c.Rb(13,"div",3),c.Mb(14,"i",9),c.Qb(),c.Rb(15,"div",5),c.Ec(16,"This way you can bundle your starter project code and generators together"),c.Qb(),c.Qb(),c.Qb(),c.Cc(17,g,4,0,"ng-container",10),c.Cc(18,R,9,3,"ng-container",10),c.Qb()),2&t&&(c.Ab(17),c.jc("ngIf",!(null!=e.environment.remote&&e.environment.remote.id)),c.Ab(1),c.jc("ngIf",null==e.environment.remote?null:e.environment.remote.id))},directives:[r.t,u.b,v],styles:["[_nghost-%COMP%]{display:flex;flex:1}"]}),t})(),children:[]}]);var x=n("d3UM"),Q=n("QibW");let w=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[r.c,p.e,f.B,x.b,Q.c,m.b]]}),t})(),y=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[r.c,I,w,u.c]]}),t})()}}]);