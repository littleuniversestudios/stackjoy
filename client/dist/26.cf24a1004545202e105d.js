(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{peQb:function(e,t,n){"use strict";n.r(t),n.d(t,"EditorModule",(function(){return no}));var i=n("ofXK"),r=n("tyNb"),o=n("jtHE"),c=n("GV7L");class s{static getName(e){var t;const n=e.split(".").pop(),i=s.list().find(e=>e.extension.includes(n));return null!==(t=null==i?void 0:i.name)&&void 0!==t?t:"text"}static list(){return[{extension:["css"],name:"css"},{extension:["html","htm","shtml","xhtml","mdoc","jsp","asp","aspx","jshtm"],name:"html"},{extension:["js","es6","jsx","mjs"],name:"javascript"},{extension:["json"],name:"json"},{extension:["less"],name:"less"},{extension:["md","markdown","mdown","mkdn","mkd","mdwn","mdtxt","mdtext"],name:"markdown"},{extension:["scss"],name:"scss"},{extension:["ts","tsx"],name:"typescript"}]}}var a=n("vkgz"),l=n("eIep"),d=n("fXoL"),b=n("JzR7");let u=(()=>{class e{constructor(e){this.bluService=e,this.state={command:null,navSection:"file",contentSection:"template",configSection:null,itemSection:"templates",executeResult:null,inputs:{},errors:this.getCleanErrorList(),rootDestination:"./",selectedContext:null,lastSelectedFilePath:null,itemState:{},generatedFileState:{selectedFile:null}},this.state$=new o.a(1),this.templateProperties$=new o.a(1),this.previewProperties$=new o.a(1)}preview(e,t){this.state.command={itemId:e,command:"preview"},this.state.inputs=t,this._preview().subscribe(e=>{this.updatePreviewState(e),"file"!==this.state.navSection&&this.state.navSection||(this.hasFiles()?this.selectFiles():this.selectAddFilesMenu())})}updatePreviewState(e){this.state.executeResult=e,this.state.errors=this.classifyErrors(e.errors),this.state.errors.generateTooltip=this.setGenerateTooltip(),this.updatePreviewEditor(),this.broadcastState()}reRender(){this._preview().subscribe(e=>this.updatePreviewState(e))}reRender$(){return this._preview().pipe(Object(a.a)(e=>this.updatePreviewState(e)))}_preview(){return this.bluService.preview(this.state.command.itemId,this.state.inputs,this.state.rootDestination)}selectInputs(){this.state.navSection="inputs",this.broadcastState()}selectDestination(){this.state.navSection="destination",this.broadcastState()}selectRun(){this.state.navSection="run",this.broadcastState()}selectFiles(){this.state.navSection="file",console.log("here?",this.state.contentSection),"template"!==this.state.contentSection&&this.state.contentSection||(console.log("here 2?"),this._selectFiles()),this.broadcastState()}_selectFiles(){this.hasFiles()?this.state.lastSelectedFilePath?this.selectFileByPath(this.state.lastSelectedFilePath):this.selectFirstFile():this.selectAddFilesMenu()}selectAddFilesMenu(){this.state.navSection="file",this.state.contentSection="addFilesMenu",this.broadcastState()}selectErrors(){this.state.navSection="errors",this.state.selectedContext=null,this.broadcastState()}selectGeneratedFile(e,t,n){this.state.generatedFileState.selectedFile=t.destination,this.selectFile(e,t,n)}hasFiles(){var e;return(null===(e=this.state.executeResult)||void 0===e?void 0:e.allFiles.length)>0}selectFirstFile(){var e;this.selectFileByPath(null===(e=this.state.executeResult.allFiles[0])||void 0===e?void 0:e.file.absolutePath)}selectFileByName(e){const t=this.state.executeResult.allFiles.find(t=>t.file.filename===e);t&&this.selectFileByPath(t.file.absolutePath)}selectFileByPath(e){const t=this.state.executeResult.allFiles.find(t=>t.file.absolutePath===e);if(t){const e=t.executeContext.item;this.selectFile(e.id,t.file,`${e.parent.name}.${e.name}`)}}selectFile(e,t,n){this.state.navSection="file",this.state.contentSection="template",this.state.selectedContext={itemId:e,file:t,itemLabel:n},this.state.lastSelectedFilePath=t.absolutePath,this.state.generatedFileState.selectedFile=t.destination,this.templateProperties$.next({renderContext:t.renderContext,text:t.text,initialText:t.text,errors:this.extractErrors(t)}),this.updatePreviewProperties(t),this.broadcastState()}extractErrors(e){return this.extractParseErrors(e.errors).concat(this.extractMergeErrors(e.renderedText))}extractMergeErrors(e){const t=[],n=new RegExp(/^<{7}(.|\n)+?={7}(.|\n)+?>{7}(.+)$/,"gm");let i;for(;i=n.exec(e);)t.push({index:i.index,type:c.a.Parser.ErrorType.MergeConflict,badText:"",message:"Unhandled Merge Conflict!",override:{marginalEndLineNumber:i[0].match(/\n/gm).length,endColumnNumber:8+i[3].length}});return t}extractParseErrors(e){return(null!=e?e:[]).filter(e=>e.type===c.a.Execute.ErrorType.parseError).map(e=>e.data)}selectContext(e,t){this.state.navSection="file",this.state.contentSection="config",this.state.configSection=t;const n=e.item;this.state.selectedContext={itemId:n.id,itemLabel:`${n.parent.name}.${n.name}`,executeContext:e},this.broadcastState()}selectItemSection(e){this.state.itemSection=e,this.broadcastState()}updatePreviewEditor(){var e,t,n,i;const r=this.state.executeResult.findContextByItemId(null===(t=null===(e=this.state.selectedContext)||void 0===e?void 0:e.executeContext)||void 0===t?void 0:t.item.id);if(r&&(this.state.selectedContext.executeContext=r),null===(i=null===(n=this.state)||void 0===n?void 0:n.selectedContext)||void 0===i?void 0:i.file){const e=this.state.executeResult.findFileByAbsolutePath(this.state.selectedContext.file.absolutePath);if(e){this.updatePreviewProperties(e);const t=this.extractErrors(e);this.templateProperties$.next({errors:t,renderContext:e.renderContext})}}}updatePreviewProperties(e){this.previewProperties$.next({language:s.getName(e.filename),text:e.renderedText})}saveFile(e){var t,n,i;const r=null===(i=null===(n=null===(t=this.state)||void 0===t?void 0:t.selectedContext)||void 0===n?void 0:n.file)||void 0===i?void 0:i.absolutePath;r&&this.bluService.saveFile(r,e).pipe(Object(l.a)(e=>this._preview())).subscribe(e=>this.updatePreviewState(e))}appendUserInputs(e){const t=Object.assign({},this.state.inputs,e);this.updateUserInputs(t)}deleteUserInput(e){delete this.state.inputs[e],this._preview().subscribe(e=>this.updatePreviewState(e))}updateUserInputs(e){this.state.inputs=e,this._preview().subscribe(e=>this.updatePreviewState(e))}setRootDestination(e="./"){this.state.rootDestination=e,this.broadcastState()}hasRootDestination(){return!!this.state.rootDestination&&"./"!==this.state.rootDestination}hasErrors(){var e;return(null===(e=this.state)||void 0===e?void 0:e.errors.allErrors.length)>0}canGenerate(){return this.hasRootDestination()&&!this.hasErrors()&&this.hasFiles()}broadcastState(){this.state$.next(this.state)}classifyErrors(e){const t=this.getCleanErrorList();return this.state.executeResult.createEditorErrors(e).forEach(e=>{var n,i,r,o;switch(e.error.type){case c.a.Execute.ErrorType.missingInput:"identifierNotFound"===(null===(i=null===(n=e.error.data)||void 0===n?void 0:n.syntaxError)||void 0===i?void 0:i.type)?t.inputErrors.push(e):t.syntaxErrors.push(e),t.allErrors.push(e);break;case c.a.Execute.ErrorType.parseError:"identifierNotFound"===(null===(o=null===(r=e.error.data)||void 0===r?void 0:r.syntaxError)||void 0===o?void 0:o.type)?t.inputErrors.push(e):t.syntaxErrors.push(e),t.allErrors.push(e);break;case c.a.Execute.ErrorType.fileExists:t.warnings.push(e);break;default:t.syntaxErrors.push(e),t.allErrors.push(e)}}),t}setGenerateTooltip(){var e,t;let n="";return(null===(e=this.state)||void 0===e?void 0:e.errors.inputErrors.length)>0?n="Fill in the required inputs to run this generator":(null===(t=this.state)||void 0===t?void 0:t.errors.syntaxErrors.length)>0&&(n="Fix the errors to run this generator"),n}getCleanErrorList(){return{allErrors:[],inputErrors:[],syntaxErrors:[],warnings:[],generateTooltip:""}}generate(e=!1){return e&&(this.state.inputs.f=!0),this.bluService.generate(this.state.command.itemId,this.state.inputs,this.state.rootDestination)}setState(e){this.state=e,this.broadcastState()}}return e.\u0275fac=function(t){return new(t||e)(d.Vb(b.a))},e.\u0275prov=d.Hb({token:e,factory:e.\u0275fac}),e})();var f=n("quSY"),p=n("a8/g"),g=n("aLQt"),h=n("kiD8"),m=n("bTqV"),v=n("IzEk"),x=n("0IaG"),C=n("ziYC"),S=n("xiHB");function M(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",6),d.Rb(1,"div",7),d.Rb(2,"div",8),d.Ec(3),d.Qb(),d.Rb(4,"div",9),d.Rb(5,"button",10),d.Zb("click",(function(){d.rc(e);const n=t.$implicit;return d.dc().selectModel(n)})),d.Ec(6,"Select"),d.Qb(),d.Qb(),d.Qb(),d.Qb()}if(2&e){const e=t.$implicit;d.Ab(3),d.Fc(e.name)}}let R=(()=>{class e{constructor(e,t,n){this.data=e,this.dialogRef=t,this.dataModelService=n}ngOnInit(){this.dataModelService.getDataModels().subscribe(e=>this.allModels=(null!=e?e:[]).map(e=>new C.a(e)))}ngOnDestroy(){}close(){}selectModel(e){this.dialogRef.close(e)}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(x.a),d.Lb(x.h),d.Lb(S.a))},e.\u0275cmp=d.Fb({type:e,selectors:[["data-model-select-dialog"]],decls:8,vars:2,consts:[["mat-dialog-title",""],[1,"fa","fa-table"],["mat-dialog-content",""],["class","p-2 mt-1 border-bottom",4,"ngFor","ngForOf"],["mat-dialog-actions","",3,"align"],["mat-button","","mat-dialog-close",""],[1,"p-2","mt-1","border-bottom"],[1,"d-flex","align-items-center"],[1,""],[1,"ml-auto"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(d.Rb(0,"h1",0),d.Mb(1,"i",1),d.Ec(2," Import Data Model"),d.Qb(),d.Rb(3,"div",2),d.Cc(4,M,7,1,"div",3),d.Qb(),d.Rb(5,"div",4),d.Rb(6,"button",5),d.Ec(7,"Cancel"),d.Qb(),d.Qb()),2&e&&(d.Ab(4),d.jc("ngForOf",t.allModels),d.Ab(1),d.jc("align","end"))},directives:[x.i,x.f,i.s,x.c,m.b,x.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();var O=n("STbY"),I=n("NFeN"),E=n("1jDz");function P(e,t){if(1&e&&(d.Rb(0,"div",19),d.Mb(1,"i",20),d.Rb(2,"span",21),d.Ec(3),d.Qb(),d.Qb()),2&e){const e=d.dc().$implicit;d.Ab(3),d.Fc(e.error.message)}}function y(e,t){if(1&e&&(d.Rb(0,"div",16),d.Cc(1,P,4,1,"div",17),d.Rb(2,"div",18),d.Ec(3),d.Qb(),d.Qb()),2&e){const e=t.$implicit;d.Ab(1),d.jc("ngIf",e.error.message),d.Ab(2),d.Gc(" ",null!=e.error.data&&null!=e.error.data.syntaxError&&e.error.data.syntaxError.error?null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.error:null==e.error.data?null:e.error.data.message," ")}}function Q(e,t){if(1&e&&(d.Rb(0,"div",14),d.Cc(1,y,4,2,"div",15),d.Qb()),2&e){const e=d.dc();d.Ab(1),d.jc("ngForOf",e.sectionErrors)}}function F(e,t){if(1&e){const e=d.Sb();d.Rb(0,"button",22),d.Zb("click",(function(){return d.rc(e),d.dc().viewAsForm()})),d.Ec(1,"View as a Form"),d.Qb(),d.Rb(2,"button",22),d.Zb("click",(function(){return d.rc(e),d.dc().importDataModel()})),d.Ec(3,"Import Data model"),d.Qb()}}let w=(()=>{class e{constructor(e,t){this.editorService=e,this.dialog=t,this.editorOptions={language:"json",renderLineHighlight:"none",matchBrackets:"never",lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:"5px",folding:!1},this.isValid=!0,this.sectionErrors=[],this.onChangeView=new d.o,this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.pipe(Object(v.a)(1)).subscribe(e=>{this.text=JSON.stringify(e.inputs,null,2)})),this.subs.add(this.editorService.state$.subscribe(e=>{this.sectionErrors=this.getErrors(e.executeResult.createEditorErrors(e.executeResult.errors))}))}ngOnDestroy(){this.subs.unsubscribe()}inputChanged(e){try{const t=JSON.parse(e);this.updateUserInputs(t),this.isValid=!0}catch(t){this.isValid=!1}}updateUserInputs(e){this.editorService.updateUserInputs(e)}importDataModel(){this.dialog.open(R,{data:{},width:"50%",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>this.addDataModel(e))}addDataModel(e){const t=this.editorModel.getValue();try{const n=JSON.parse(t);n.dataModel=e.toJSON(),this.editorModel.setValue(JSON.stringify(n,null,2)),this.updateUserInputs(n)}catch(n){this.isValid=!1}}onEditorInit(e){this.editorModel=e}getErrors(e){return e.filter(e=>e.error.origin.location===c.a.Execute.ErrorLocation.userInput)}viewAsForm(){this.onChangeView.emit({view:"form"})}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u),d.Lb(x.b))},e.\u0275cmp=d.Fb({type:e,selectors:[["inputs-editor"]],outputs:{onChangeView:"onChangeView"},decls:16,vars:6,consts:[[1,"d-flex","flex-column","flex-grow-1"],[1,"inputs-header","align-items-center"],[1,"pl-4","text-small","text-muted"],[1,"fa","fa-code","mr-1"],[1,"ml-auto","pr-3"],[1,"flex-shrink-0","text-normal","cursor-pointer",3,"matMenuTriggerFor"],[1,"item-menu",3,"inline"],[1,"d-flex","flex-grow-1","p-2"],["class","p-2 pb-4",4,"ngIf"],[1,"flex-grow-1","flex-shrink-1"],[3,"text","editorOptions","height","onContentChange","onEditorInit"],["yPosition","below"],["inputsMenu","matMenu"],["matMenuContent",""],[1,"p-2","pb-4"],["class","text-danger small",4,"ngFor","ngForOf"],[1,"text-danger","small"],["class","text-muted small",4,"ngIf"],[1,"pl-4"],[1,"text-muted","small"],[1,"fa","fa-exclamation-triangle","text-danger","text-small","mr-2"],[1,"text-bold"],["mat-menu-item","",3,"click"]],template:function(e,t){if(1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Mb(3,"i",3),d.Ec(4," Directly edit the inputs in JSON format: "),d.Qb(),d.Rb(5,"div",4),d.Rb(6,"div",5),d.Rb(7,"mat-icon",6),d.Ec(8,"more_vert"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(9,"div",7),d.Cc(10,Q,2,1,"div",8),d.Rb(11,"div",9),d.Rb(12,"file-editor",10),d.Zb("onContentChange",(function(e){return t.inputChanged(e)}))("onEditorInit",(function(e){return t.onEditorInit(e)})),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(13,"mat-menu",11,12),d.Cc(15,F,4,0,"ng-template",13),d.Qb()),2&e){const e=d.oc(14);d.Ab(6),d.jc("matMenuTriggerFor",e),d.Ab(1),d.jc("inline",!0),d.Ab(3),d.jc("ngIf",t.sectionErrors.length>0),d.Ab(2),d.jc("text",t.text)("editorOptions",t.editorOptions)("height","99%")}},directives:[O.d,I.a,i.t,E.a,O.e,O.a,i.s,O.b],styles:["[_nghost-%COMP%]{display:flex;flex:1}.inputs-header[_ngcontent-%COMP%]{display:flex;flex:0 0 40px;border-bottom:1px solid #f1f1f1}"]}),e})();var A=n("itXk"),j=n("DdQb"),_=n("jysj");function k(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",14),d.Zb("click",(function(){d.rc(e);const t=d.dc().$implicit;return d.dc(3).goToFileError(t)})),d.Rb(2,"div",15),d.Rb(3,"div",16),d.Ec(4),d.Qb(),d.Rb(5,"div",0),d.Ec(6),d.Qb(),d.Qb(),d.Rb(7,"div",17),d.Mb(8,"i",18),d.Qb(),d.Qb(),d.Rb(9,"div",14),d.Zb("click",(function(){return d.rc(e),d.dc(4).forceOverwrite()})),d.Rb(10,"div",19),d.Mb(11,"i",20),d.Ec(12," Add input to force overwrite of files"),d.Qb(),d.Rb(13,"div",17),d.Mb(14,"i",18),d.Qb(),d.Qb(),d.Ob()}if(2&e){const e=d.dc().$implicit;d.Ab(4),d.Fc(e.error.message),d.Ab(2),d.Fc(e.error.data.destination)}}function D(e,t){if(1&e&&(d.Rb(0,"div",15),d.Rb(1,"span",16),d.Ec(2),d.Qb(),d.Qb()),2&e){const e=d.dc(2).$implicit;d.Ab(2),d.Fc(null==e.error.data?null:e.error.data.message)}}function T(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",14),d.Zb("click",(function(){d.rc(e);const t=d.dc(2).$implicit;return d.dc(3).functionError(t)})),d.Rb(2,"div",19),d.Mb(3,"i",20),d.Ec(4),d.Qb(),d.Rb(5,"div",17),d.Mb(6,"i",18),d.Qb(),d.Qb(),d.Ob()}if(2&e){const e=d.dc(2).$implicit;d.Ab(4),d.Gc(" Create function ",null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.suggestedName,"")}}function L(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",14),d.Zb("click",(function(){d.rc(e);const t=d.dc(2).$implicit;return d.dc(3).functionError(t)})),d.Rb(2,"div",25),d.Mb(3,"i",20),d.Ec(4),d.Qb(),d.Rb(5,"div",17),d.Mb(6,"i",18),d.Qb(),d.Qb(),d.Ob()}if(2&e){const e=d.dc(2).$implicit;d.Ab(4),d.Gc(" Fix: ",null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.error,"")}}function N(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",14),d.Zb("click",(function(){return d.rc(e),d.dc(6).importDataModel()})),d.Rb(2,"div",19),d.Mb(3,"i",20),d.Ec(4," Import a Data Model"),d.Qb(),d.Rb(5,"div",17),d.Mb(6,"i",18),d.Qb(),d.Qb(),d.Ob()}}function $(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",14),d.Zb("click",(function(){d.rc(e);const t=d.dc(2).$implicit;return d.dc(3).createVariable(t,null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.suggestedName)})),d.Rb(2,"div",19),d.Mb(3,"i",20),d.Ec(4," Create variable "),d.Rb(5,"span",16),d.Ec(6),d.Qb(),d.Qb(),d.Rb(7,"div",17),d.Mb(8,"i",18),d.Qb(),d.Qb(),d.Rb(9,"div",14),d.Zb("click",(function(){d.rc(e);const t=d.dc(2).$implicit;return d.dc(3).createInput(null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.suggestedName)})),d.Rb(10,"div",19),d.Mb(11,"i",20),d.Ec(12," Create input "),d.Rb(13,"span",16),d.Ec(14),d.Qb(),d.Qb(),d.Rb(15,"div",17),d.Mb(16,"i",18),d.Qb(),d.Qb(),d.Cc(17,N,7,0,"ng-container",2),d.Ob()}if(2&e){const e=d.dc(2).$implicit,t=d.dc(3);d.Ab(6),d.Fc(null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.suggestedName),d.Ab(8),d.Fc(null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.suggestedName),d.Ab(3),d.jc("ngIf",t.isDataModel(null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.suggestedName))}}function Z(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",26),d.Zb("click",(function(){d.rc(e);const t=d.dc(3).$implicit;return d.dc(3).goToFileError(t)})),d.Rb(2,"div",27),d.Ec(3),d.Qb(),d.Rb(4,"div",17),d.Mb(5,"i",18),d.Qb(),d.Qb(),d.Ob()}if(2&e){const e=d.dc(3).$implicit;d.Ab(3),d.Fc(null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.error)}}function U(e,t){if(1&e&&(d.Pb(0),d.Cc(1,Z,6,1,"ng-container",2),d.Ob()),2&e){const e=d.dc(2).$implicit;d.Ab(1),d.jc("ngIf",null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.error)}}function G(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",14),d.Zb("click",(function(){d.rc(e);const t=d.dc().$implicit;return d.dc(3).goToFileError(t)})),d.Cc(1,D,3,1,"div",21),d.Rb(2,"div",17),d.Mb(3,"i",18),d.Qb(),d.Qb(),d.Pb(4,22),d.Cc(5,T,7,1,"ng-container",23),d.Cc(6,L,7,1,"ng-container",23),d.Cc(7,$,18,3,"ng-container",23),d.Cc(8,U,2,1,"ng-container",24),d.Ob()}if(2&e){const e=d.dc().$implicit;d.Ab(1),d.jc("ngIf",null==e.error.data?null:e.error.data.message),d.Ab(3),d.jc("ngSwitch",null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.type),d.Ab(1),d.jc("ngSwitchCase","functionNotFound"),d.Ab(1),d.jc("ngSwitchCase","functionError"),d.Ab(1),d.jc("ngSwitchCase","identifierNotFound")}}function J(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"tr"),d.Rb(2,"td",8),d.Mb(3,"i",9),d.Qb(),d.Rb(4,"td",10),d.Rb(5,"div",11),d.Cc(6,k,15,2,"ng-container",12),d.Cc(7,G,9,5,"ng-template",null,13,d.Dc),d.Qb(),d.Qb(),d.Qb(),d.Ob()),2&e){const e=t.$implicit,n=d.oc(8);d.Ab(3),d.Db("text-danger","fileExists"!==e.error.type)("text-warning","fileExists"===e.error.type),d.Ab(3),d.jc("ngIf","fileExists"===e.error.type)("ngIfElse",n)}}function V(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"tr"),d.Rb(2,"td",5),d.Mb(3,"i",6),d.Rb(4,"span",7),d.Zb("click",(function(){d.rc(e);const n=t.$implicit;return d.dc(2).selectItem(n.executeContext)})),d.Ec(5),d.Qb(),d.Ec(6," / "),d.Rb(7,"span",7),d.Zb("click",(function(){d.rc(e);const n=t.$implicit;return d.dc(2).selectFile(n.file,n.executeContext)})),d.Ec(8),d.Qb(),d.Qb(),d.Qb(),d.Cc(9,J,9,6,"ng-container",4),d.Ob()}if(2&e){const e=t.$implicit;d.Ab(5),d.Fc(e.executeContext.item.name),d.Ab(3),d.Fc(e.file.filename),d.Ab(1),d.jc("ngForOf",e.errors)}}function z(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"tr"),d.Rb(2,"td",3),d.Ec(3,"Errors in files"),d.Qb(),d.Qb(),d.Cc(4,V,10,3,"ng-container",4),d.Ob()),2&e){const e=d.dc();d.Ab(4),d.jc("ngForOf",e.editorFileErrors)}}function H(e,t){if(1&e&&(d.Rb(0,"div",33),d.Rb(1,"span",16),d.Ec(2),d.Qb(),d.Qb()),2&e){const e=d.dc().$implicit;d.Ab(2),d.Fc(e.error.message)}}function q(e,t){1&e&&d.Mb(0,"i",36)}function B(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"span",34),d.Ec(2),d.Qb(),d.Cc(3,q,1,0,"i",35),d.Ob()),2&e){const e=t.$implicit,n=t.index,i=d.dc(2).$implicit;d.Ab(1),d.Db("text-danger",e.name===i.error.data.templateName),d.Ab(1),d.Fc(e.name),d.Ab(1),d.jc("ngIf",n<i.error.data.chainOrder.length-1)}}function K(e,t){if(1&e&&(d.Pb(0),d.Cc(1,B,4,4,"ng-container",4),d.Ob()),2&e){const e=d.dc().$implicit;d.Ab(1),d.jc("ngForOf",e.error.data.chainOrder)}}function W(e,t){if(1&e&&(d.Rb(0,"div",27),d.Ec(1),d.Qb()),2&e){const e=d.dc(2).$implicit;d.Ab(1),d.Fc(null==e.error.data?null:e.error.data.message)}}function Y(e,t){if(1&e&&(d.Pb(0),d.Cc(1,W,2,1,"div",37),d.Ob()),2&e){const e=d.dc().$implicit;d.Ab(1),d.jc("ngIf",null==e.error.data?null:e.error.data.message)}}function X(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"tr",7),d.Zb("click",(function(){d.rc(e);const n=t.$implicit;return d.dc(3).goToSettingsError(n)})),d.Rb(2,"td",8),d.Mb(3,"i",29),d.Qb(),d.Rb(4,"td",30),d.Rb(5,"div",31),d.Rb(6,"div",0),d.Cc(7,H,3,1,"div",32),d.Pb(8,22),d.Cc(9,K,2,1,"ng-container",23),d.Cc(10,Y,2,1,"ng-container",24),d.Ob(),d.Qb(),d.Rb(11,"div",17),d.Mb(12,"i",18),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Ob()}if(2&e){const e=t.$implicit;d.Ab(7),d.jc("ngIf",e.error.message),d.Ab(1),d.jc("ngSwitch",e.error.type),d.Ab(1),d.jc("ngSwitchCase","circularChain")}}function ee(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"tr"),d.Rb(2,"td",5),d.Mb(3,"i",28),d.Rb(4,"span",7),d.Zb("click",(function(){d.rc(e);const n=t.$implicit;return d.dc(2).selectItem(n.executeContext)})),d.Ec(5),d.Qb(),d.Qb(),d.Qb(),d.Cc(6,X,13,3,"ng-container",4),d.Ob()}if(2&e){const e=t.$implicit;d.Ab(5),d.Fc(e.executeContext.item.name),d.Ab(1),d.jc("ngForOf",e.errors)}}function te(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"tr"),d.Rb(2,"td",3),d.Ec(3,"Errors in Settings"),d.Qb(),d.Qb(),d.Cc(4,ee,7,2,"ng-container",4),d.Ob()),2&e){const e=d.dc();d.Ab(4),d.jc("ngForOf",e.editorSettingsErrors)}}function ne(e,t){if(1&e&&(d.Rb(0,"div",33),d.Rb(1,"span",16),d.Ec(2),d.Qb(),d.Qb()),2&e){const e=d.dc().$implicit;d.Ab(2),d.Fc(e.error.message)}}function ie(e,t){if(1&e&&(d.Rb(0,"div",27),d.Ec(1),d.Qb()),2&e){const e=d.dc(2).$implicit;d.Ab(1),d.Fc(null==e.error.data?null:e.error.data.message)}}function re(e,t){if(1&e&&(d.Pb(0),d.Cc(1,ie,2,1,"div",37),d.Ob()),2&e){const e=d.dc().$implicit;d.Ab(1),d.jc("ngIf",null==e.error.data?null:e.error.data.message)}}function oe(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"tr",7),d.Zb("click",(function(){return d.rc(e),d.dc(3).goToInputsError()})),d.Rb(2,"td",8),d.Mb(3,"i",29),d.Qb(),d.Rb(4,"td",30),d.Rb(5,"div",31),d.Rb(6,"div",0),d.Cc(7,ne,3,1,"div",32),d.Pb(8,22),d.Cc(9,re,2,1,"ng-container",24),d.Ob(),d.Qb(),d.Rb(10,"div",17),d.Mb(11,"i",18),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Ob()}if(2&e){const e=t.$implicit;d.Ab(7),d.jc("ngIf",e.error.message),d.Ab(1),d.jc("ngSwitch",e.error.type)}}function ce(e,t){if(1&e&&(d.Pb(0),d.Cc(1,oe,12,2,"ng-container",4),d.Ob()),2&e){const e=t.$implicit;d.Ab(1),d.jc("ngForOf",e.errors)}}function se(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"tr"),d.Rb(2,"td",3),d.Ec(3,"Errors in Inputs"),d.Qb(),d.Qb(),d.Cc(4,ce,2,1,"ng-container",4),d.Ob()),2&e){const e=d.dc();d.Ab(4),d.jc("ngForOf",e.editorInputsErrors)}}var ae=function(e){return e.file="file",e.settings="settings",e.inputs="inputs",e}({});let le=(()=>{class e{constructor(e,t,n){this.editorService=e,this.itemConfigService=t,this.dialog=n,this.errors=[],this.subs=new f.a,this.editorFileErrors=[],this.editorSettingsErrors=[],this.editorInputsErrors=[]}ngOnInit(){this.groupErrors()}ngOnChanges(e){this.groupErrors()}groupErrors(){const e=[];let t;this.errors.forEach(n=>{var i,r;t="userInput"===n.error.origin.location?ae.inputs:"config"===n.error.origin.location?ae.settings:(null===(i=null==n?void 0:n.file)||void 0===i?void 0:i.id)?ae.file:ae.settings;const o=t===ae.file?null===(r=null==n?void 0:n.file)||void 0===r?void 0:r.id:n.executeContext.item.id,c=e.find(e=>e.id===o);c?c.errors.push(n):e.push({id:o,type:t,executeContext:n.executeContext,errors:[n],file:n.file})}),this.editorFileErrors=e.filter(e=>e.type===ae.file),this.editorSettingsErrors=e.filter(e=>e.type===ae.settings),this.editorInputsErrors=e.filter(e=>e.type===ae.inputs)}selectFile(e,t){const n=t.item;this.editorService.selectFile(n.id,e,`${n.parent.name}.${n.name}`)}selectItem(e){this.editorService.selectContext(e)}ngOnDestroy(){this.subs.unsubscribe()}goToFileError(e){this.selectFile(e.file,e.executeContext)}editFunction(e,t){this.subs.add(this.itemConfigService.editFunction(e,t).afterClosed().subscribe(e=>this.editorService.reRender()))}goToSettingsError(e){var t;const n=null===(t=e.error.origin)||void 0===t?void 0:t.section;"inputs"===n?this.goToInputsError():this.editorService.selectContext(e.executeContext,n)}functionError(e){var t,n,i,r,o,c;switch(null!==(o=null!==(i=null===(n=null===(t=e.error.data)||void 0===t?void 0:t.syntaxError)||void 0===n?void 0:n.type)&&void 0!==i?i:null===(r=e.error.data)||void 0===r?void 0:r.type)&&void 0!==o?o:e.error.type){case"functionNotFound":this.subs.add(this.itemConfigService.createNewFunction(e.executeContext.item.id,null===(c=e.error.data)||void 0===c?void 0:c.syntaxError.suggestedName).subscribe(e=>this.editFunction(e.function.id)));break;case"functionError":this.editFunction(e.error.data.syntaxError.funcObj.id,[e])}}createVariable(e,t){const n=this.dialog.open(j.a,{data:{item:e.executeContext.item,renderContext:this.renderContext,variable:{key:t,value:""}},minWidth:"650px",position:{top:"100px"},autoFocus:!0});this.subs.add(n.afterClosed().subscribe(e=>this.editorService.reRender()))}createInput(e){if(e){const t={};t[e]="",this.editorService.appendUserInputs(t),this.editorService.selectInputs()}}importDataModel(){this.dialog.open(R,{data:{},width:"50%",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>{e&&(this.editorService.appendUserInputs({dataModel:e.toJSON()}),this.editorService.selectInputs())})}isDataModel(e){return 0===(e=null!=e?e:"").indexOf("dataModel")}goToInputsError(){this.editorService.selectInputs()}forceOverwrite(){this.editorService.appendUserInputs({f:!0}),this.editorService.selectInputs()}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u),d.Lb(_.a),d.Lb(x.b))},e.\u0275cmp=d.Fb({type:e,selectors:[["error-list"]],inputs:{errors:"errors",renderContext:"renderContext"},features:[d.yb],decls:5,vars:3,consts:[[1,""],[1,"error-table"],[4,"ngIf"],["colspan","3",1,"border-bottom"],[4,"ngFor","ngForOf"],["colspan","3",1,"editor-error"],[1,"far","fa-file","mr-1","text-muted"],[1,"cursor-pointer",3,"click"],[1,"align-top","pl-4"],[1,"fa","fa-exclamation-triangle","text-small","mt-3"],[1,"align-top","pt-2"],[1,"group-errors"],[4,"ngIf","ngIfElse"],["otherErrors",""],[1,"d-flex","align-items-center","error-option",3,"click"],[1,"cursor-pointer","text-muted","small"],[1,"text-bold"],[1,"ml-auto"],[1,"far","fa-arrow-alt-circle-right"],[1,"small"],[1,"fa","fa-info-circle","text-tiny"],["class","cursor-pointer text-muted small",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"small","text-danger"],[1,"d-flex","align-items-center","error-option",2,"min-width","300px",3,"click"],[1,"text-danger","small"],[1,"fa","fa-folder","mr-1","text-muted"],[1,"fa","fa-exclamation-triangle","text-danger","text-small","mt-2"],[1,"align-top","group-errors","p-0"],[1,"d-flex","align-items-start","error-option"],["class","text-muted small",4,"ngIf"],[1,"text-muted","small"],[1,"mr-1"],["class","fa fa-arrow-right mr-1 text-tiny",4,"ngIf"],[1,"fa","fa-arrow-right","mr-1","text-tiny"],["class","text-danger small",4,"ngIf"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"table",1),d.Cc(2,z,5,1,"ng-container",2),d.Cc(3,te,5,1,"ng-container",2),d.Cc(4,se,5,1,"ng-container",2),d.Qb(),d.Qb()),2&e&&(d.Ab(2),d.jc("ngIf",(null==t.editorFileErrors?null:t.editorFileErrors.length)>0),d.Ab(1),d.jc("ngIf",(null==t.editorSettingsErrors?null:t.editorSettingsErrors.length)>0),d.Ab(1),d.jc("ngIf",(null==t.editorInputsErrors?null:t.editorInputsErrors.length)>0))},directives:[i.t,i.s,i.x,i.y,i.z],styles:[".error-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px}.editor-error[_ngcontent-%COMP%]{padding-top:1rem!important}.group-errors[_ngcontent-%COMP%]{border:1px solid transparent}.group-errors[_ngcontent-%COMP%]:hover{border:1px dotted #f1f1f1}.group-errors[_ngcontent-%COMP%]   .error-option[_ngcontent-%COMP%]{cursor:pointer;padding:2px 8px;border-bottom:1px solid transparent;min-width:450px}.error-settings-option[_ngcontent-%COMP%]:hover, .group-errors[_ngcontent-%COMP%]   .error-option[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]}),e})();var de=n("xm+p"),be=n("3Pt+"),ue=n("kmnG"),fe=n("d3UM"),pe=n("FKr1"),ge=c.a.Execute.ErrorType;function he(e,t){1&e&&(d.Pb(0),d.Rb(1,"div",12),d.Ec(2,"This generator does not require any inputs."),d.Qb(),d.Ob())}function me(e,t){1&e&&d.Nb(0)}const ve=function(e){return{availableInput:e}};function xe(e,t){if(1&e&&(d.Pb(0),d.Cc(1,me,1,0,"ng-container",19),d.Ob()),2&e){const e=d.dc().$implicit;d.dc(2);const t=d.oc(16);d.Ab(1),d.jc("ngTemplateOutlet",t)("ngTemplateOutletContext",d.lc(2,ve,e))}}function Ce(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",17),d.Rb(2,"input",27),d.Zb("ngModelChange",(function(t){return d.rc(e),d.dc(3).$implicit.value=t}))("keyup",(function(){return d.rc(e),d.dc(5).setInputs()})),d.Qb(),d.Qb(),d.Rb(3,"div",28),d.Rb(4,"div",17),d.Ec(5,"Name of the parent folder for generated files"),d.Qb(),d.Rb(6,"div",29),d.Zb("click",(function(){return d.rc(e),d.dc(5).toggleWrapInFolder()})),d.Mb(7,"i",30),d.Ec(8," do not create a parent folder. "),d.Qb(),d.Qb(),d.Ob()}if(2&e){const e=d.dc(3).$implicit,t=d.dc(2);d.Ab(2),d.jc("disabled",!1===t.wrapInFolder)("ngModel",e.value),d.Ab(5),d.Db("fa-square",!0===t.wrapInFolder||void 0===t.wrapInFolder)("fa-check-square",!1===t.wrapInFolder)}}function Se(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",17),d.Rb(2,"input",31),d.Zb("ngModelChange",(function(t){return d.rc(e),d.dc(3).$implicit.value=t}))("keyup",(function(){return d.rc(e),d.dc(5).setInputs()})),d.Qb(),d.Qb(),d.Ob()}if(2&e){const e=d.dc(3).$implicit;d.Ab(2),d.jc("ngModel",e.value)}}function Me(e,t){1&e&&d.Nb(0)}function Re(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"td",26),d.Ec(2),d.Qb(),d.Rb(3,"td"),d.Rb(4,"div",17),d.Cc(5,Ce,9,6,"ng-container",6),d.Cc(6,Se,3,1,"ng-container",6),d.Cc(7,Me,1,0,"ng-container",19),d.Qb(),d.Qb(),d.Ob()),2&e){const e=d.dc(2).$implicit;d.dc(2);const t=d.oc(14);d.Ab(2),d.Fc(e.name),d.Ab(3),d.jc("ngIf","folderName"===e.name),d.Ab(1),d.jc("ngIf","folderName"!==e.name),d.Ab(1),d.jc("ngTemplateOutlet",t)("ngTemplateOutletContext",d.lc(5,ve,e))}}function Oe(e,t){if(1&e){const e=d.Sb();d.Rb(0,"mat-option",37),d.Zb("click",(function(){d.rc(e);const n=t.$implicit,i=d.dc(3).$implicit;return d.dc(2).selectDataModel(i,n)})),d.Mb(1,"i",38),d.Ec(2),d.Qb()}if(2&e){const e=t.$implicit;d.jc("value",e),d.Ab(2),d.Gc(" ",e.name," ")}}function Ie(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"td",26),d.Ec(2,"dataModel"),d.Qb(),d.Rb(3,"td"),d.Rb(4,"div",17),d.Rb(5,"mat-form-field",32),d.Rb(6,"mat-label"),d.Ec(7),d.Qb(),d.Rb(8,"mat-select"),d.Cc(9,Oe,3,2,"mat-option",33),d.Rb(10,"div",34),d.Rb(11,"mat-option",35),d.Zb("click",(function(){return d.rc(e),d.dc(4).createNewDataModel()})),d.Mb(12,"i",36),d.Ec(13," Create New Data Model"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Ob()}if(2&e){const e=d.dc(2).$implicit,t=d.dc(2);d.Ab(7),d.Fc(null!=e.value&&e.value.name?null==e.value?null:e.value.name:"Select Data Model"),d.Ab(2),d.jc("ngForOf",t.allModels)}}function Ee(e,t){1&e&&d.Mb(0,"i",39)}function Pe(e,t){1&e&&d.Mb(0,"i",40)}function ye(e,t){if(1&e&&(d.Pb(0),d.Pb(1,20),d.Cc(2,Re,8,7,"ng-container",21),d.Cc(3,Ie,14,2,"ng-container",21),d.Rb(4,"td",22),d.Rb(5,"div",23),d.Cc(6,Ee,1,0,"i",24),d.Cc(7,Pe,1,0,"i",25),d.Qb(),d.Qb(),d.Ob(),d.Ob()),2&e){const e=d.dc().$implicit;d.Ab(1),d.jc("ngSwitch",e.type),d.Ab(1),d.jc("ngSwitchCase","String"),d.Ab(1),d.jc("ngSwitchCase","DataModel"),d.Ab(3),d.jc("ngIf",""!==e.value),d.Ab(1),d.jc("ngIf",""===e.value)}}function Qe(e,t){if(1&e&&(d.Rb(0,"tr"),d.Cc(1,xe,2,4,"ng-container",6),d.Cc(2,ye,8,5,"ng-container",6),d.Qb()),2&e){const e=t.$implicit;d.Ab(1),d.jc("ngIf","folderName"===e.name),d.Ab(1),d.jc("ngIf","folderName"!==e.name)}}function Fe(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"div",13),d.Rb(2,"table",14),d.Rb(3,"tr"),d.Rb(4,"td",15),d.Ec(5,"Name"),d.Qb(),d.Rb(6,"td",16),d.Ec(7,"Value"),d.Qb(),d.Mb(8,"td",17),d.Qb(),d.Cc(9,Qe,3,2,"tr",18),d.Qb(),d.Qb(),d.Ob()),2&e){const e=d.dc();d.Ab(9),d.jc("ngForOf",e.availableInputs)}}function we(e,t){if(1&e){const e=d.Sb();d.Rb(0,"button",41),d.Zb("click",(function(){return d.rc(e),d.dc().viewAsJSON()})),d.Ec(1,"View as JSON"),d.Qb()}}function Ae(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",43),d.Zb("click",(function(){d.rc(e);const t=d.dc(2).availableInput;return d.dc().goToFile(null==t.error?null:t.error.file)})),d.Ec(1),d.Qb()}if(2&e){const e=d.dc(2).availableInput;d.Ab(1),d.Gc("in ",null==e.error||null==e.error.file?null:e.error.file.filename,"")}}function je(e,t){if(1&e&&(d.Pb(0),d.Cc(1,Ae,2,1,"div",42),d.Ob()),2&e){const e=d.dc().availableInput;d.Ab(1),d.jc("ngIf",null==e.error||null==e.error.file?null:e.error.file.filename)}}function _e(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",43),d.Zb("click",(function(){d.rc(e);const t=d.dc(2).availableInput;return d.dc().goToSettings(t.error)})),d.Ec(1),d.Qb()}if(2&e){const e=d.dc(2).availableInput;d.Ab(1),d.Hc("in ",e.error.error.origin.location," > ",e.error.error.origin.section,"")}}function ke(e,t){if(1&e&&(d.Pb(0),d.Cc(1,_e,2,2,"div",42),d.Ob()),2&e){const e=d.dc().availableInput;d.Ab(1),d.jc("ngIf",null==e.error||null==e.error.error?null:e.error.error.origin)}}function De(e,t){1&e&&(d.Pb(0,20),d.Cc(1,je,2,1,"ng-container",21),d.Cc(2,ke,2,1,"ng-container",21),d.Ob()),2&e&&(d.jc("ngSwitch",t.availableInput.errorType),d.Ab(1),d.jc("ngSwitchCase","file"),d.Ab(1),d.jc("ngSwitchCase","settings"))}function Te(e,t){1&e&&(d.Pb(0),d.Mb(1,"i",39),d.Ob())}function Le(e,t){1&e&&d.Mb(0,"i",39)}function Ne(e,t){1&e&&d.Mb(0,"i",40)}function $e(e,t){if(1&e&&(d.Pb(0),d.Cc(1,Le,1,0,"i",24),d.Cc(2,Ne,1,0,"i",25),d.Ob()),2&e){const e=d.dc().availableInput;d.Ab(1),d.jc("ngIf",""!==e.value),d.Ab(1),d.jc("ngIf",""===e.value)}}function Ze(e,t){if(1&e){const e=d.Sb();d.Rb(0,"td",26),d.Ec(1),d.Qb(),d.Rb(2,"td"),d.Rb(3,"div",17),d.Rb(4,"div",17),d.Rb(5,"input",44),d.Zb("ngModelChange",(function(n){return d.rc(e),t.availableInput.value=n}))("keyup",(function(){return d.rc(e),d.dc().setInputs()})),d.Qb(),d.Qb(),d.Rb(6,"div",28),d.Rb(7,"div",17),d.Ec(8,"Name of the parent folder for generated files"),d.Qb(),d.Rb(9,"div",29),d.Zb("click",(function(){return d.rc(e),d.dc().toggleWrapInFolder()})),d.Mb(10,"i",30),d.Ec(11," do not create a parent folder. "),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(12,"td",22),d.Rb(13,"div",23),d.Cc(14,Te,2,0,"ng-container",6),d.Cc(15,$e,3,2,"ng-container",6),d.Qb(),d.Qb()}if(2&e){const e=t.availableInput,n=d.dc();d.Ab(1),d.Fc(e.name),d.Ab(4),d.jc("disabled",!1===n.wrapInFolder)("ngModel",e.value),d.Ab(5),d.Db("fa-square",!0===n.wrapInFolder||void 0===n.wrapInFolder)("fa-check-square",!1===n.wrapInFolder),d.Ab(4),d.jc("ngIf",!1===n.wrapInFolder),d.Ab(1),d.jc("ngIf",!1!==n.wrapInFolder)}}let Ue=(()=>{class e{constructor(e,t,n){this.editorService=e,this.navigationService=t,this.dataModelService=n,this.availableInputs=[],this.onChangeView=new d.o,this.subs=new f.a}ngOnInit(){this.subs.add(Object(A.a)([this.editorService.state$,this.dataModelService.getDataModels()]).subscribe(([e,t])=>{if(this.allModels=(null!=t?t:[]).map(e=>new C.a(e)),this.state=e,this.errors=e.errors.inputErrors,this.currentItemId&&this.currentItemId===this.state.command.itemId){const e=this.combineInputs();e.forEach(e=>{this.availableInputs.find(t=>t.name===e.name)||this.availableInputs.push(e)}),this.availableInputs.forEach(t=>{if(!e.find(e=>e.name===t.name)){const e=this.availableInputs.findIndex(e=>e.name===t.name);this.availableInputs.splice(e,1)}})}else this.currentItemId=this.state.command.itemId,this.availableInputs=this.combineInputs(),this.wrapInFolder=this.state.inputs.wrapInFolder}))}combineInputs(){const e=[];return Object.keys(this.state.inputs).forEach(t=>{const n=this.state.inputs[t];e.push({name:t,value:n,type:this.getInputType(t,n)})}),this.errors.forEach(t=>{var n,i;let r=null===(i=null===(n=t.error.data)||void 0===n?void 0:n.syntaxError)||void 0===i?void 0:i.suggestedName;r=this.isDataModel(r)?"dataModel":r;const o=this.getErrorType(t),c=e.find(e=>e.name===r);c?(c.error=t,c.errorType=o):e.push(this.createErrorInput(t))}),this.handleSpecialCases(e)}createErrorInput(e){var t,n;let i=null===(n=null===(t=e.error.data)||void 0===t?void 0:t.syntaxError)||void 0===n?void 0:n.suggestedName;i=this.isDataModel(i)?"dataModel":i;const r=this.getErrorType(e);return{name:i,value:"",error:e,type:this.getInputType(i,""),errorType:r}}handleSpecialCases(e=[]){const t=e.findIndex(e=>"wrapInFolder"===e.name);return t>=0&&(e.splice(t,1),e.find(e=>"folderName"===e.name)||e.push({name:"folderName",value:null,type:"String"})),e}getInputType(e,t){let n="String";return this.isDataModel(e)?n="DataModel":Array.isArray(t)?n="Array":"string"==typeof t||t instanceof String?n="String":"object"!=typeof t&&"function"!=typeof t||null===t||(n="Object"),n}isDataModel(e){return 0===(null!=e?e:"").indexOf("dataModel")}setInputs(){const e={};this.availableInputs.forEach(t=>{""!==t.value?e[t.name]=t.value:this.editorService.deleteUserInput(t.name)}),this.editorService.appendUserInputs(e)}ngOnDestroy(){this.setInputs(),this.subs.unsubscribe()}selectDataModel(e,t){e.value=t.toJSON(),this.setInputs()}viewAsJSON(){this.onChangeView.emit({view:"json"})}getErrorType(e){var t;let n;return n="userInput"===e.error.origin.location||e.error.type===ge.missingInput?ae.inputs:"config"===e.error.origin.location?ae.settings:(null===(t=null==e?void 0:e.file)||void 0===t?void 0:t.id)?ae.file:ae.settings,n}goToFile(e){e&&this.editorService.selectFileByPath(e.absolutePath)}goToSettings(e){var t;const n=null===(t=e.error.origin)||void 0===t?void 0:t.section;this.editorService.selectContext(e.executeContext,n)}toggleWrapInFolder(){this.wrapInFolder=!0!==this.wrapInFolder&&void 0!==this.wrapInFolder,this.editorService.appendUserInputs({wrapInFolder:this.wrapInFolder})}createNewDataModel(){this.navigationService.navigateTo(["workspace","data-models"])}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u),d.Lb(de.a),d.Lb(S.a))},e.\u0275cmp=d.Fb({type:e,selectors:[["inputs-form"]],outputs:{onChangeView:"onChangeView"},decls:17,vars:4,consts:[[1,"d-flex","flex-column","flex-grow-1"],[1,"inputs-header","align-items-center"],[1,"pl-3","text-small","text-muted"],[1,"ml-auto","pr-3"],[1,"flex-shrink-0","text-normal","cursor-pointer",3,"matMenuTriggerFor"],[1,"item-menu",3,"inline"],[4,"ngIf"],["yPosition","below"],["inputsMenu","matMenu"],["matMenuContent",""],["inputOrigin",""],["folderNameInput",""],[1,"p-4"],[1,"inputs-table"],[1,"table","table-borderless"],[1,"text-muted","text-small","text-right","collapse-cell"],[1,"text-muted","text-small","collapse-cell"],[1,""],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"input-icon"],[1,"",2,"padding-top","10px"],["class","fa fa-check text-success",4,"ngIf"],["class","fa fa-exclamation-triangle color-warning",4,"ngIf"],[1,"text-right","input-name"],["type","text",1,"text-input",3,"disabled","ngModel","ngModelChange","keyup"],[1,"text-muted","text-small"],[1,"cursor-pointer",3,"click"],[1,"far"],["type","text",1,"text-input",3,"ngModel","ngModelChange","keyup"],[1,"mat-form-field","select-input"],[3,"value","click",4,"ngFor","ngForOf"],[1,"border-top","text-small","text-muted"],[3,"click"],[1,"fa","fa-plus-circle","text-muted"],[3,"value","click"],[1,"fa","fa-table","text-small","text-muted"],[1,"fa","fa-check","text-success"],[1,"fa","fa-exclamation-triangle","color-warning"],["mat-menu-item","",3,"click"],["class","text-tiny text-muted origin-link",3,"click",4,"ngIf"],[1,"text-tiny","text-muted","origin-link",3,"click"],["type","text",1,"text-input","folderNameInput",3,"disabled","ngModel","ngModelChange","keyup"]],template:function(e,t){if(1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Ec(3," This generator requires the following inputs: "),d.Qb(),d.Rb(4,"div",3),d.Rb(5,"div",4),d.Rb(6,"mat-icon",5),d.Ec(7,"more_vert"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Cc(8,he,3,0,"ng-container",6),d.Cc(9,Fe,10,1,"ng-container",6),d.Qb(),d.Rb(10,"mat-menu",7,8),d.Cc(12,we,2,0,"ng-template",9),d.Qb(),d.Cc(13,De,3,3,"ng-template",null,10,d.Dc),d.Cc(15,Ze,16,9,"ng-template",null,11,d.Dc)),2&e){const e=d.oc(11);d.Ab(5),d.jc("matMenuTriggerFor",e),d.Ab(1),d.jc("inline",!0),d.Ab(2),d.jc("ngIf",0===(null==t.availableInputs?null:t.availableInputs.length)),d.Ab(1),d.jc("ngIf",(null==t.availableInputs?null:t.availableInputs.length)>0)}},directives:[O.d,I.a,i.t,O.e,O.a,i.s,i.A,i.x,i.y,be.c,be.r,be.u,ue.c,ue.g,fe.a,pe.l,O.b],styles:["[_nghost-%COMP%]{display:flex;flex:1}.inputs-header[_ngcontent-%COMP%]{display:flex;flex:0 0 40px;border-bottom:1px solid #f1f1f1}.text-input[_ngcontent-%COMP%]{font-size:16px;font-family:inherit;padding:.5em;background-color:#fff;border:2px solid #f1f1f1;border-radius:4px;min-width:350px}.text-input[_ngcontent-%COMP%]:focus{border:2px solid #f1f1f1!important}.select-input[_ngcontent-%COMP%]{min-width:350px}.input-name[_ngcontent-%COMP%]{padding-top:22px!important;font-size:16px}.color-warning[_ngcontent-%COMP%]{color:#f08080}.collapse-cell[_ngcontent-%COMP%]{width:.1%}.inputs-table[_ngcontent-%COMP%]{padding:20px 60px}.origin-link[_ngcontent-%COMP%]{cursor:pointer}.origin-link[_ngcontent-%COMP%]:hover{color:#5b8adc!important}.input-icon[_ngcontent-%COMP%]{max-width:100%;white-space:nowrap}.folderNameInput[_ngcontent-%COMP%]:disabled{background-color:#f1f1f1;opacity:.8}"]}),e})();function Ge(e,t){if(1&e){const e=d.Sb();d.Rb(0,"inputs-editor",11),d.Zb("onChangeView",(function(t){return d.rc(e),d.dc().changeView(t)})),d.Qb()}}function Je(e,t){if(1&e){const e=d.Sb();d.Rb(0,"inputs-form",11),d.Zb("onChangeView",(function(t){return d.rc(e),d.dc().changeView(t)})),d.Qb()}}let Ve=(()=>{class e{constructor(e){this.tooltipService=e,this.currentView="form"}ngOnInit(){this.showTip=!this.tooltipService.hasSeenTooltip("generator-inputs-main-tooltip")}ngOnDestroy(){}toggleView(){this.currentView="form"===this.currentView?"json":"form"}changeView(e){this.currentView=e.view}dismissTooltip(e){this.showTip=!1,this.tooltipService.markTooltipAsSeen(e)}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(h.a))},e.\u0275cmp=d.Fb({type:e,selectors:[["editor-inputs"]],decls:19,vars:6,consts:[[1,"section-tip"],[1,"d-flex","align-items-center","section-tip-holder"],[1,"text-green"],[1,"fa","fa-exclamation-circle","fa-2x"],[1,"pl-3","tip-message"],[1,"as-link",3,"routerLink"],[1,"ml-auto","mr-3"],["mat-button","",3,"click"],[1,"page-container"],[1,"d-flex","flex-grow-1","flex-shrink-1"],[3,"onChangeView",4,"ngIf"],[3,"onChangeView"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Mb(3,"i",3),d.Qb(),d.Rb(4,"div",4),d.Ec(5,"This is where the "),d.Rb(6,"span",5),d.Ec(7,"inputs for the generator"),d.Qb(),d.Ec(8," reside. The inputs are used by the "),d.Rb(9,"span",5),d.Ec(10,"generator"),d.Qb(),d.Ec(11," to determine what output will be created. You need to fill in all the inputs before you can run the generator. "),d.Qb(),d.Rb(12,"div",6),d.Rb(13,"button",7),d.Zb("click",(function(){return t.dismissTooltip("generator-inputs-main-tooltip")})),d.Ec(14,"Dismiss"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(15,"div",8),d.Rb(16,"div",9),d.Cc(17,Ge,1,0,"inputs-editor",10),d.Cc(18,Je,1,0,"inputs-form",10),d.Qb(),d.Qb()),2&e&&(d.Db("show-tip",t.showTip),d.Ab(6),d.jc("routerLink","/documentation/generator/inputs"),d.Ab(3),d.jc("routerLink","/documentation/generator/introduction"),d.Ab(8),d.jc("ngIf","json"===t.currentView),d.Ab(1),d.jc("ngIf","form"===t.currentView))},directives:[r.d,m.b,i.t,w,Ue],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}.page-container[_ngcontent-%COMP%]{display:flex;flex:1;background-color:#fff;border-radius:5px}.inputs-menu[_ngcontent-%COMP%]{flex:0 0 60px}"]}),e})();var ze=n("aSHc"),He=n("qFsG");function qe(e,t){1&e&&(d.Rb(0,"mat-error"),d.Ec(1,"File cannot be blank"),d.Qb())}function Be(e,t){1&e&&(d.Rb(0,"mat-error"),d.Ec(1,'Characters not allowed: \\ / : * ? " < > |'),d.Qb())}function Ke(e,t){if(1&e&&(d.Rb(0,"div",9),d.Mb(1,"i",10),d.Ec(2),d.Qb()),2&e){const e=d.dc();d.Ab(2),d.Gc(" Error: ",e.errorMessage," ")}}function We(e,t){1&e&&(d.Rb(0,"div",11),d.Mb(1,"i",12),d.Ec(2," Folder created "),d.Qb())}function Ye(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",13),d.Zb("click",(function(){return d.rc(e),d.dc().close(!0)})),d.Ec(2,"Close"),d.Qb(),d.Ob()}}function Xe(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",13),d.Zb("click",(function(){return d.rc(e),d.dc().close(!1)})),d.Ec(2,"Cancel"),d.Qb(),d.Rb(3,"button",14),d.Zb("click",(function(){return d.rc(e),d.dc().createFolder()})),d.Ec(4,"Create"),d.Qb(),d.Ob()}if(2&e){const e=d.dc();d.Ab(3),d.jc("disabled",e.form.invalid||e.currentState!==e.actionState.IDLE)}}let et=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.bluService=t,this.data=n,this.dialogRef=i,this.currentState=ze.a.IDLE,this.actionState=ze.a,this.form=this.fb.group({folderName:["",[be.F.required,be.F.pattern(/^[^\\/:\*\?"<>\|]+$/)]]})}ngOnInit(){this.currentState=ze.a.IDLE,this.form.valueChanges.subscribe(e=>{this.currentState=ze.a.IDLE})}ngOnDestroy(){this.currentState=ze.a.IDLE,this.errorMessage=""}get f(){return this.form.controls}createFolder(){const e=this.form.value.folderName;this.currentState=ze.a.ACQUIRING,this.bluService.createFolder(this.data.absolutePath,e.trim()).subscribe(e=>{this.currentState=ze.a.SUCCESS,this.close(!0)},e=>{var t,n;this.errorMessage=null!==(n=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.message)&&void 0!==n?n:"Operation failed.",this.currentState=ze.a.FAILED})}close(e){this.dialogRef.close({updated:e})}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(be.f),d.Lb(b.a),d.Lb(x.a),d.Lb(x.h))},e.\u0275cmp=d.Fb({type:e,selectors:[["new-folder-dialog"]],decls:13,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"mat-form-field"],["placeholder","File Name","matInput","","formControlName","folderName"],[4,"ngIf"],["class","pb-2 text-danger",4,"ngIf"],["class","pb-2 text-success",4,"ngIf"],["mat-dialog-actions","",3,"align"],[1,"pb-2","text-danger"],[1,"fa","fa-exclamation-triangle"],[1,"pb-2","text-success"],[1,"fa","fa-check"],["mat-button","",3,"click"],["mat-button","","type","submit",3,"disabled","click"]],template:function(e,t){1&e&&(d.Rb(0,"h1",0),d.Ec(1,"Create New Folder "),d.Qb(),d.Rb(2,"div",1),d.Rb(3,"form",2),d.Zb("ngSubmit",(function(){return t.currentState===t.actionState.IDLE?t.createFolder():t.close(!0)})),d.Rb(4,"mat-form-field",3),d.Mb(5,"input",4),d.Cc(6,qe,2,0,"mat-error",5),d.Cc(7,Be,2,0,"mat-error",5),d.Qb(),d.Qb(),d.Cc(8,Ke,3,1,"div",6),d.Cc(9,We,3,0,"div",7),d.Qb(),d.Rb(10,"div",8),d.Cc(11,Ye,3,0,"ng-container",5),d.Cc(12,Xe,5,1,"ng-container",5),d.Qb()),2&e&&(d.Ab(3),d.jc("formGroup",t.form),d.Ab(3),d.jc("ngIf",null==t.f.folderName||null==t.f.folderName.errors?null:t.f.folderName.errors.required),d.Ab(1),d.jc("ngIf",null==t.f.folderName||null==t.f.folderName.errors?null:t.f.folderName.errors.pattern),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.FAILED),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.SUCCESS),d.Ab(1),d.jc("align","end"),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.SUCCESS),d.Ab(1),d.jc("ngIf",t.currentState!==t.actionState.SUCCESS))},directives:[x.i,x.f,be.H,be.s,be.k,ue.c,He.a,be.c,be.r,be.i,i.t,x.c,ue.b,m.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();var tt=n("AytR"),nt=n("tk/3");let it=(()=>{class e{constructor(e){this.httpClient=e,this.uploadURL=tt.a.url+"/upload"}uploadTemplateFiles(e,t,n=!1){return this.httpClient.post(`${this.uploadURL}/template-files?overwrite=${n}&absolutePath=${encodeURIComponent(t)}`,e)}}return e.\u0275fac=function(t){return new(t||e)(d.Vb(nt.a))},e.\u0275prov=d.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var rt=n("bv9b");function ot(e,t){if(1&e&&(d.Rb(0,"div",13),d.Mb(1,"i",14),d.Ec(2),d.Qb()),2&e){const e=t.$implicit;d.Ab(2),d.Gc(" ",e,"")}}function ct(e,t){1&e&&(d.Rb(0,"div",15),d.Rb(1,"div",16),d.Mb(2,"mat-progress-bar",17),d.Qb(),d.Qb())}function st(e,t){if(1&e&&(d.Rb(0,"div",18),d.Mb(1,"i",19),d.Ec(2),d.Qb()),2&e){const e=d.dc();d.Ab(2),d.Gc(" Error: ",e.errorMessage," ")}}function at(e,t){1&e&&(d.Rb(0,"div",20),d.Mb(1,"i",21),d.Ec(2," File(s) Uploaded "),d.Qb())}function lt(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",22),d.Zb("click",(function(){return d.rc(e),d.dc().close(!0)})),d.Ec(2,"Close"),d.Qb(),d.Ob()}}function dt(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",22),d.Zb("click",(function(){return d.rc(e),d.dc().close(!1)})),d.Ec(2,"Cancel"),d.Qb(),d.Rb(3,"button",23),d.Zb("click",(function(){return d.rc(e),d.dc().uploadFiles()})),d.Ec(4,"Upload"),d.Qb(),d.Ob()}if(2&e){const e=d.dc();d.Ab(3),d.jc("disabled",0===(null==e.selectedFiles?null:e.selectedFiles.length))}}function bt(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",22),d.Zb("click",(function(){return d.rc(e),d.dc(2).close(!0)})),d.Ec(2,"Cancel"),d.Qb(),d.Rb(3,"button",22),d.Zb("click",(function(){return d.rc(e),d.dc(2).overwrite()})),d.Ec(4,"Overwrite"),d.Qb(),d.Ob()}}function ut(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",22),d.Zb("click",(function(){return d.rc(e),d.dc(2).close(!1)})),d.Ec(2,"Cancel"),d.Qb(),d.Ob()}}function ft(e,t){if(1&e&&(d.Pb(0),d.Cc(1,bt,5,0,"ng-container",12),d.Cc(2,ut,3,0,"ng-container",12),d.Ob()),2&e){const e=d.dc();d.Ab(1),d.jc("ngIf","overwrite-file-error"===e.errorCode),d.Ab(1),d.jc("ngIf","overwrite-file-error"!==e.errorCode)}}let pt=(()=>{class e{constructor(e,t,n){this.uploadService=e,this.dialogRef=t,this.data=n,this.selectedFiles=[],this.currentState=ze.a.IDLE,this.actionState=ze.a}ngOnInit(){}ngOnDestroy(){}onFileSelected(e){if(this.fileList=e.currentTarget.files,this.selectedFiles=[],this.fileList)for(const t in this.fileList)if(this.fileList[t]){const e=this.fileList[t];null==t.match(/\d+/g)||this.selectedFiles.includes(e.name)||this.selectedFiles.push(e.name)}}uploadFiles(e=!1){const t=new FormData;for(let n=0;n<this.selectedFiles.length;n++)t.append("files",this.fileList[n],this.fileList[n].name);this.currentState=ze.a.PENDING,this.uploadService.uploadTemplateFiles(t,this.data.absolutePath,e).subscribe(e=>{this.currentState=ze.a.SUCCESS},e=>{var t,n,i;this.errorMessage=null!==(n=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.message)&&void 0!==n?n:"Operation failed.",this.errorCode=null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.code,this.currentState=ze.a.FAILED})}close(e){this.dialogRef.close({updated:e})}overwrite(){this.uploadFiles(!0)}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(it),d.Lb(x.h),d.Lb(x.a))},e.\u0275cmp=d.Fb({type:e,selectors:[["upload-file-dialog"]],inputs:{requiredFileType:"requiredFileType"},decls:19,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],[1,"file-upload"],["mat-mini-fab","","color","primary",1,"upload-btn",3,"click"],[1,"p-2","py-4"],["class","",4,"ngFor","ngForOf"],["class","p-2",4,"ngIf"],["class","pb-2 text-danger",4,"ngIf"],["class","pb-2 text-success",4,"ngIf"],["mat-dialog-actions","",3,"align"],[4,"ngIf"],[1,""],[1,"far","fa-file"],[1,"p-2"],[1,"progress"],["mode","indeterminate",1,"progress-bar"],[1,"pb-2","text-danger"],[1,"fa","fa-exclamation-triangle"],[1,"pb-2","text-success"],[1,"fa","fa-check"],["mat-button","",3,"click"],["mat-button","",3,"disabled","click"]],template:function(e,t){if(1&e){const e=d.Sb();d.Rb(0,"h1",0),d.Ec(1,"Dialog Title"),d.Qb(),d.Rb(2,"div",1),d.Rb(3,"input",2,3),d.Zb("change",(function(e){return t.onFileSelected(e)})),d.Qb(),d.Rb(5,"div",4),d.Ec(6," Select file(s) to upload "),d.Rb(7,"button",5),d.Zb("click",(function(){return d.rc(e),d.oc(4).click()})),d.Rb(8,"mat-icon"),d.Ec(9,"attach_file"),d.Qb(),d.Qb(),d.Qb(),d.Rb(10,"div",6),d.Cc(11,ot,3,1,"div",7),d.Qb(),d.Cc(12,ct,3,0,"div",8),d.Cc(13,st,3,1,"div",9),d.Cc(14,at,3,0,"div",10),d.Qb(),d.Rb(15,"div",11),d.Cc(16,lt,3,0,"ng-container",12),d.Cc(17,dt,5,1,"ng-container",12),d.Cc(18,ft,3,2,"ng-container",12),d.Qb()}2&e&&(d.Ab(3),d.jc("accept",t.requiredFileType),d.Ab(8),d.jc("ngForOf",t.selectedFiles),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.PENDING),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.FAILED),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.SUCCESS),d.Ab(1),d.jc("align","end"),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.SUCCESS),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.IDLE),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.FAILED))},directives:[x.i,x.f,m.b,I.a,i.s,i.t,x.c,rt.a],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}.file-input[_ngcontent-%COMP%]{display:none}"]}),e})();function gt(e,t){1&e&&(d.Rb(0,"mat-error"),d.Ec(1,"File cannot be blank"),d.Qb())}function ht(e,t){1&e&&(d.Rb(0,"mat-error"),d.Ec(1,'Characters not allowed: \\ / : * ? " < > |'),d.Qb())}function mt(e,t){if(1&e&&(d.Rb(0,"div",10),d.Mb(1,"i",11),d.Ec(2),d.Qb()),2&e){const e=d.dc();d.Ab(2),d.Gc(" Error: ",e.errorMessage," ")}}function vt(e,t){1&e&&(d.Rb(0,"div",12),d.Mb(1,"i",13),d.Ec(2," Updated "),d.Qb())}function xt(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",14),d.Zb("click",(function(){return d.rc(e),d.dc().close(!0)})),d.Ec(2,"Close"),d.Qb(),d.Ob()}}function Ct(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",14),d.Zb("click",(function(){return d.rc(e),d.dc().close(!1)})),d.Ec(2,"Cancel"),d.Qb(),d.Rb(3,"button",15),d.Zb("click",(function(){return d.rc(e),d.dc().rename()})),d.Ec(4,"Rename"),d.Qb(),d.Ob()}if(2&e){const e=d.dc();d.Ab(3),d.jc("disabled",e.form.invalid||e.currentState!==e.actionState.IDLE)}}let St=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.bluService=t,this.data=n,this.dialogRef=i,this.currentState=ze.a.IDLE,this.actionState=ze.a,this.form=this.fb.group({filename:[this.data.name,[be.F.required]]})}ngOnInit(){this.currentState=ze.a.IDLE,this.form.valueChanges.subscribe(e=>{this.currentState=ze.a.IDLE})}ngOnDestroy(){this.currentState=ze.a.IDLE,this.errorMessage=""}get f(){return this.form.controls}rename(){const e=this.form.value.filename;this.currentState=ze.a.ACQUIRING,this.bluService.renameFile(this.data.absolutePath,e.trim()).subscribe(e=>{this.currentState=ze.a.SUCCESS,this.close(!0)},e=>{var t,n;this.errorMessage=null!==(n=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.message)&&void 0!==n?n:"Operation failed.",this.currentState=ze.a.FAILED})}close(e){this.dialogRef.close({updated:e})}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(be.f),d.Lb(b.a),d.Lb(x.a),d.Lb(x.h))},e.\u0275cmp=d.Fb({type:e,selectors:[["rename-file-dialog"]],decls:15,vars:9,consts:[["mat-dialog-title",""],[1,"text-capitalize"],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"mat-form-field"],["placeholder","Name","matInput","","formControlName","filename"],[4,"ngIf"],["class","pb-2 text-danger",4,"ngIf"],["class","pb-2 text-success",4,"ngIf"],["mat-dialog-actions","",3,"align"],[1,"pb-2","text-danger"],[1,"fa","fa-exclamation-triangle"],[1,"pb-2","text-success"],[1,"fa","fa-check"],["mat-button","",3,"click"],["mat-button","","type","submit",3,"disabled","click"]],template:function(e,t){1&e&&(d.Rb(0,"h1",0),d.Ec(1,"Rename "),d.Rb(2,"span",1),d.Ec(3),d.Qb(),d.Qb(),d.Rb(4,"div",2),d.Rb(5,"form",3),d.Zb("ngSubmit",(function(){return t.currentState===t.actionState.IDLE?t.rename():t.close(!0)})),d.Rb(6,"mat-form-field",4),d.Mb(7,"input",5),d.Cc(8,gt,2,0,"mat-error",6),d.Cc(9,ht,2,0,"mat-error",6),d.Qb(),d.Qb(),d.Cc(10,mt,3,1,"div",7),d.Cc(11,vt,3,0,"div",8),d.Qb(),d.Rb(12,"div",9),d.Cc(13,xt,3,0,"ng-container",6),d.Cc(14,Ct,5,1,"ng-container",6),d.Qb()),2&e&&(d.Ab(3),d.Fc(t.data.type),d.Ab(2),d.jc("formGroup",t.form),d.Ab(3),d.jc("ngIf",null==t.f.filename||null==t.f.filename.errors?null:t.f.filename.errors.required),d.Ab(1),d.jc("ngIf",null==t.f.filename||null==t.f.filename.errors?null:t.f.filename.errors.pattern),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.FAILED),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.SUCCESS),d.Ab(1),d.jc("align","end"),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.SUCCESS),d.Ab(1),d.jc("ngIf",t.currentState!==t.actionState.SUCCESS))},directives:[x.i,x.f,be.H,be.s,be.k,ue.c,He.a,be.c,be.r,be.i,i.t,x.c,ue.b,m.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();function Mt(e,t){1&e&&(d.Rb(0,"mat-error"),d.Ec(1,"File cannot be blank"),d.Qb())}function Rt(e,t){1&e&&(d.Rb(0,"mat-error"),d.Ec(1,'Characters not allowed: \\ / : * ? " < > |'),d.Qb())}function Ot(e,t){if(1&e&&(d.Rb(0,"div",9),d.Mb(1,"i",10),d.Ec(2),d.Qb()),2&e){const e=d.dc();d.Ab(2),d.Gc(" Error: ",e.errorMessage," ")}}function It(e,t){1&e&&(d.Rb(0,"div",11),d.Mb(1,"i",12),d.Ec(2," File Created "),d.Qb())}function Et(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",13),d.Zb("click",(function(){return d.rc(e),d.dc().close(!0)})),d.Ec(2,"Close"),d.Qb(),d.Ob()}}function Pt(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"button",13),d.Zb("click",(function(){return d.rc(e),d.dc().close(!1)})),d.Ec(2,"Cancel"),d.Qb(),d.Rb(3,"button",14),d.Zb("click",(function(){return d.rc(e),d.dc().createFile()})),d.Ec(4,"Create"),d.Qb(),d.Ob()}if(2&e){const e=d.dc();d.Ab(3),d.jc("disabled",e.form.invalid||e.currentState!==e.actionState.IDLE)}}let yt=(()=>{class e{constructor(e,t,n,i){var r;this.fb=e,this.bluService=t,this.data=n,this.dialogRef=i,this.currentState=ze.a.IDLE,this.actionState=ze.a,this.form=this.fb.group({filename:[null!==(r=this.data.suggestedFileName)&&void 0!==r?r:"",[be.F.required,be.F.pattern(/^[^\\/:\*\?"<>\|]+$/)]]})}ngOnInit(){this.currentState=ze.a.IDLE,this.form.valueChanges.subscribe(e=>{this.currentState=ze.a.IDLE})}ngOnDestroy(){this.currentState=ze.a.IDLE,this.errorMessage=""}get f(){return this.form.controls}createFile(){const e=this.form.value.filename;this.currentState=ze.a.ACQUIRING,this.bluService.createFile(this.data.absolutePath,e.trim()).subscribe(e=>{this.currentState=ze.a.SUCCESS,this.close(!0)},e=>{var t,n;this.errorMessage=null!==(n=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.message)&&void 0!==n?n:"Operation failed.",this.currentState=ze.a.FAILED})}close(e){this.dialogRef.close({updated:e})}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(be.f),d.Lb(b.a),d.Lb(x.a),d.Lb(x.h))},e.\u0275cmp=d.Fb({type:e,selectors:[["new-file-dialog"]],decls:13,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"mat-form-field"],["placeholder","File Name","matInput","","formControlName","filename"],[4,"ngIf"],["class","pb-2 text-danger",4,"ngIf"],["class","pb-2 text-success",4,"ngIf"],["mat-dialog-actions","",3,"align"],[1,"pb-2","text-danger"],[1,"fa","fa-exclamation-triangle"],[1,"pb-2","text-success"],[1,"fa","fa-check"],["mat-button","",3,"click"],["mat-button","","type","submit",3,"disabled","click"]],template:function(e,t){1&e&&(d.Rb(0,"h1",0),d.Ec(1,"Create New File "),d.Qb(),d.Rb(2,"div",1),d.Rb(3,"form",2),d.Zb("ngSubmit",(function(){return t.currentState===t.actionState.IDLE?t.createFile():t.close(!0)})),d.Rb(4,"mat-form-field",3),d.Mb(5,"input",4),d.Cc(6,Mt,2,0,"mat-error",5),d.Cc(7,Rt,2,0,"mat-error",5),d.Qb(),d.Qb(),d.Cc(8,Ot,3,1,"div",6),d.Cc(9,It,3,0,"div",7),d.Qb(),d.Rb(10,"div",8),d.Cc(11,Et,3,0,"ng-container",5),d.Cc(12,Pt,5,1,"ng-container",5),d.Qb()),2&e&&(d.Ab(3),d.jc("formGroup",t.form),d.Ab(3),d.jc("ngIf",null==t.f.filename||null==t.f.filename.errors?null:t.f.filename.errors.required),d.Ab(1),d.jc("ngIf",null==t.f.filename||null==t.f.filename.errors?null:t.f.filename.errors.pattern),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.FAILED),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.SUCCESS),d.Ab(1),d.jc("align","end"),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.SUCCESS),d.Ab(1),d.jc("ngIf",t.currentState!==t.actionState.SUCCESS))},directives:[x.i,x.f,be.H,be.s,be.k,ue.c,He.a,be.c,be.r,be.i,i.t,x.c,ue.b,m.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();var Qt=n("Mzu6");function Ft(e,t){1&e&&d.Nb(0)}const wt=function(e){return{tree:e}};function At(e,t){if(1&e&&(d.Rb(0,"div",9),d.Rb(1,"div",10),d.Mb(2,"i",11),d.Rb(3,"span"),d.Ec(4),d.Qb(),d.Qb(),d.Rb(5,"div",12),d.Rb(6,"mat-icon",13),d.Ec(7,"more_vert"),d.Qb(),d.Qb(),d.Qb()),2&e){const e=d.dc(),t=e.dirIndex,n=e.tree,i=d.dc(),r=d.oc(7);d.jc("ngStyle",i.getLeftPadding(t)),d.Ab(4),d.Fc(n.folderName),d.Ab(2),d.jc("inline",!0)("matMenuTriggerFor",r)("matMenuTriggerData",d.lc(5,wt,n))}}function jt(e,t){1&e&&d.Nb(0)}const _t=function(e,t){return{tree:e,dirIndex:t}};function kt(e,t){if(1&e&&(d.Rb(0,"div"),d.Cc(1,jt,1,0,"ng-container",0),d.Qb()),2&e){const e=t.$implicit,n=d.dc().dirIndex;d.dc();const i=d.oc(2);d.Ab(1),d.jc("ngTemplateOutlet",i)("ngTemplateOutletContext",d.mc(2,_t,e,n+1))}}const Dt=function(e){return{file:e}};function Tt(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",9),d.Rb(1,"div",14),d.Zb("click",(function(){d.rc(e);const n=t.$implicit;return d.dc(2).selectFile(n)})),d.Mb(2,"i",15),d.Rb(3,"span"),d.Ec(4),d.Qb(),d.Qb(),d.Rb(5,"div",12),d.Rb(6,"mat-icon",13),d.Ec(7,"more_vert"),d.Qb(),d.Qb(),d.Qb()}if(2&e){const e=t.$implicit,n=d.dc().dirIndex,i=d.dc(),r=d.oc(4);d.jc("ngStyle",i.getLeftPadding(n+1)),d.Ab(1),d.Db("has-error",i.fileHasError(e))("text-primary",i.isSelectedFile(e)),d.jc("title",e.filename),d.Ab(3),d.Gc("",e.filename," "),d.Ab(2),d.jc("inline",!0)("matMenuTriggerFor",r)("matMenuTriggerData",d.lc(10,Dt,e))}}function Lt(e,t){if(1&e&&(d.Cc(0,At,8,7,"div",6),d.Cc(1,kt,2,5,"div",7),d.Cc(2,Tt,8,12,"div",8)),2&e){const e=t.tree;d.jc("ngIf",t.dirIndex>0),d.Ab(1),d.jc("ngForOf",e.subFolders),d.Ab(1),d.jc("ngForOf",e.files)}}function Nt(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",16),d.Mb(1,"i",17),d.Ec(2),d.Qb(),d.Rb(3,"button",18),d.Zb("click",(function(){d.rc(e);const n=t.file;return d.dc().renameFile(n)})),d.Ec(4,"Rename"),d.Qb(),d.Rb(5,"button",18),d.Zb("click",(function(){d.rc(e);const n=t.file;return d.dc().duplicateFile(n)})),d.Ec(6,"Duplicate"),d.Qb(),d.Rb(7,"button",18),d.Zb("click",(function(){d.rc(e);const n=t.file;return d.dc().deleteFile(n)})),d.Ec(8,"Delete"),d.Qb()}if(2&e){const e=t.file;d.Ab(2),d.Gc(" ",e.filename,"")}}function $t(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",16),d.Mb(1,"i",19),d.Ec(2),d.Qb(),d.Rb(3,"button",18),d.Zb("click",(function(){d.rc(e);const n=t.tree;return d.dc().createNewFile(n)})),d.Ec(4,"Add New File"),d.Qb(),d.Rb(5,"button",18),d.Zb("click",(function(){d.rc(e);const n=t.tree;return d.dc().uploadFiles(n)})),d.Ec(6,"Upload File(s)"),d.Qb(),d.Rb(7,"button",18),d.Zb("click",(function(){d.rc(e);const n=t.tree;return d.dc().createNewFolder(n)})),d.Ec(8,"Add New Folder"),d.Qb(),d.Rb(9,"button",18),d.Zb("click",(function(){d.rc(e);const n=t.tree;return d.dc().renameFolder(n)})),d.Ec(10,"Rename Folder"),d.Qb(),d.Rb(11,"button",18),d.Zb("click",(function(){d.rc(e);const n=t.tree;return d.dc().deleteFolder(n)})),d.Ec(12,"Delete Folder"),d.Qb()}if(2&e){const e=t.tree;d.Ab(2),d.Gc(" ",e.folderName,"")}}let Zt=(()=>{class e{constructor(e,t,n){this.dialog=e,this.bluService=t,this.editorService=n,this.hideParentFolder=!1,this.onFileSelect=new d.o,this.subs=new f.a}ngOnInit(){this.dirIndex=this.hideParentFolder?0:1}ngOnDestroy(){this.subs.unsubscribe()}getLeftPadding(e){return{"padding-left":10*e+"px"}}fileHasError(e){var t;return(null===(t=null==e?void 0:e.errors)||void 0===t?void 0:t.filter(e=>e.type!==c.a.Execute.ErrorType.fileExists).length)>0}selectFile(e){this.onFileSelect.emit(e)}isSelectedFile(e){var t;return e.absolutePath===(null===(t=this.selectedFile)||void 0===t?void 0:t.absolutePath)}createNewFolder(e){this.dialog.open(et,{data:{absolutePath:e.absolutePath},position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>{e.updated&&this.editorService.reRender()})}renameFile(e){this.renameFileOrFolder(e.filename,e.absolutePath,"file")}renameFolder(e){this.renameFileOrFolder(e.folderName,e.absolutePath,"folder")}renameFileOrFolder(e,t,n){const i=this.dialog.open(St,{data:{name:e,absolutePath:t,type:n},position:{top:"100px"},autoFocus:!0});this.subs.add(i.afterClosed().subscribe(e=>{e.updated&&this.editorService.reRender()}))}createNewFile(e){const t=this.dialog.open(yt,{data:{absolutePath:e.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(t.afterClosed().subscribe(e=>{e.updated&&this.editorService.reRender()}))}deleteFile(e){this.deleteFileOrFolder(e.filename,e.absolutePath,"file")}deleteFolder(e){this.deleteFileOrFolder(e.folderName,e.absolutePath,"folder")}deleteFileOrFolder(e,t,n){const i=this.dialog.open(Qt.a,{data:{title:`Delete ${n} '${e}'?`,text:`Deleting this ${n} is a permanent action and cannot be undone.`,button:{yes:"Delete",no:"Cancel"}},position:{top:"100px"},autoFocus:!0});this.subs.add(i.afterClosed().subscribe(e=>{!0===e&&this.bluService.deleteFileOrFolder(t).subscribe(e=>{this.editorService.reRender()})}))}uploadFiles(e){const t=this.dialog.open(pt,{data:{absolutePath:e.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(t.afterClosed().subscribe(e=>{e.updated&&this.editorService.reRender()}))}duplicateFile(e){this.bluService.duplicateFile(e.absolutePath).subscribe(e=>{this.editorService.reRender()})}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(x.b),d.Lb(b.a),d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["dir-tree"]],inputs:{tree:"tree",selectedFile:"selectedFile",hideParentFolder:"hideParentFolder"},outputs:{onFileSelect:"onFileSelect"},decls:9,vars:7,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],["treeFolder",""],[3,"overlapTrigger"],["fileMenu","matMenu"],["matMenuContent",""],["folderMenu","matMenu"],["class","folder-item",3,"ngStyle",4,"ngIf"],[4,"ngFor","ngForOf"],["class","folder-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"folder-item",3,"ngStyle"],[1,"folder-item-contents","isFolder","flex-shrink-1"],[1,"far","fa-folder-open","item-icon"],[1,"ml-auto","pr-1","flex-shrink-0"],[1,"item-menu",3,"inline","matMenuTriggerFor","matMenuTriggerData"],[1,"folder-item-contents","flex-grow-1",3,"title","click"],[1,"far","fa-file","item-icon"],[1,"p-2","text-center","border-bottom","text-bold"],[1,"far","fa-file"],["mat-menu-item","",3,"click"],[1,"far","fa-folder-open"]],template:function(e,t){if(1&e&&(d.Cc(0,Ft,1,0,"ng-container",0),d.Cc(1,Lt,3,3,"ng-template",null,1,d.Dc),d.Rb(3,"mat-menu",2,3),d.Cc(5,Nt,9,1,"ng-template",4),d.Qb(),d.Rb(6,"mat-menu",2,5),d.Cc(8,$t,13,1,"ng-template",4),d.Qb()),2&e){const e=d.oc(2);d.jc("ngTemplateOutlet",e)("ngTemplateOutletContext",d.mc(4,_t,t.tree,t.dirIndex)),d.Ab(3),d.jc("overlapTrigger",!0),d.Ab(3),d.jc("overlapTrigger",!0)}},directives:[i.A,O.e,O.a,i.t,i.s,i.w,I.a,O.d,O.b],styles:[".folder-item[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;border-radius:5px;font-size:14px;padding:4px}.folder-item[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{color:#6c757d}.folder-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.folder-item[_ngcontent-%COMP%]:hover   .item-menu[_ngcontent-%COMP%]{display:block!important}.folder-item[_ngcontent-%COMP%]   .item-menu[_ngcontent-%COMP%]{font-size:16px;display:none}.folder-item-contents[_ngcontent-%COMP%]{position:relative;padding:0 0 0 20px;overflow:hidden;text-overflow:ellipsis;display:inline-block}.folder-item-contents.isFolder[_ngcontent-%COMP%]{padding-left:22px!important}.folder-item-contents[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:5px;align-self:baseline;font-size:.7rem}.folder-item-contents[_ngcontent-%COMP%]   i.fa-folder-open[_ngcontent-%COMP%]{margin-top:5px}.folder-item-contents[_ngcontent-%COMP%]   i.fa-file[_ngcontent-%COMP%]{margin-top:4px;margin-left:1px}.has-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px dashed #f08080}.has-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f08080!important}"]}),e})();const Ut=function(e){return{context:e}};function Gt(e,t){if(1&e&&(d.Rb(0,"div",14),d.Rb(1,"mat-icon",15),d.Ec(2,"more_vert"),d.Qb(),d.Qb()),2&e){const e=d.dc(),t=d.oc(13);d.jc("matMenuTriggerFor",t)("matMenuTriggerData",d.lc(3,Ut,e.executeContext)),d.Ab(1),d.jc("inline",!0)}}function Jt(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",21),d.Zb("click",(function(){return d.rc(e),d.dc(2).createNewFile()})),d.Mb(1,"i",22),d.Ec(2," click to add a file "),d.Qb()}}function Vt(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",4),d.Rb(1,"div",16),d.Zb("click",(function(){return d.rc(e),d.dc().selectItem()})),d.Rb(2,"div",17),d.Mb(3,"i",18),d.Ec(4," .config"),d.Qb(),d.Qb(),d.Rb(5,"dir-tree",19),d.Zb("onFileSelect",(function(t){return d.rc(e),d.dc().selectFile(t)})),d.Qb(),d.Cc(6,Jt,3,0,"div",20),d.Qb()}if(2&e){const e=d.dc();d.Ab(1),d.Db("config-selected",e.isConfigSelected),d.Ab(4),d.jc("selectedFile",e.selectedFile)("tree",e.executeContext.tree)("hideParentFolder",!0),d.Ab(1),d.jc("ngIf",0===e.executeContext.tree.files.length)}}function zt(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"div",23),d.Mb(2,"item-folder-structure",24),d.Qb(),d.Ob()),2&e){const e=t.$implicit,n=t.index,i=d.dc();d.Ab(2),d.jc("executeContext",e)("id",i.id+"."+n)}}function Ht(e,t){if(1&e){const e=d.Sb();d.Rb(0,"button",25),d.Zb("click",(function(){return d.rc(e),d.dc().createNewFile()})),d.Ec(1,"Add New File"),d.Qb(),d.Rb(2,"button",25),d.Zb("click",(function(){d.rc(e);const n=t.context;return d.dc().createNewFolder(n)})),d.Ec(3,"Add New Folder"),d.Qb(),d.Rb(4,"button",25),d.Zb("click",(function(){d.rc(e);const n=t.context;return d.dc().uploadFile(n)})),d.Ec(5,"Upload File"),d.Qb()}}let qt=(()=>{class e{constructor(e,t){this.editorService=e,this.dialog=t,this.id="0",this.itemOpen=!0,this.itemTypes=c.a.Item.Type,this.subs=new f.a}ngOnInit(){this.itemId=this.executeContext.item.id,this.subs.add(this.editorService.state$.subscribe(e=>{var t,n,i,r,o;this.state=e,this.selectedFile=null===(t=e.selectedContext)||void 0===t?void 0:t.file;const c=null===(r=null===(i=null===(n=this.state)||void 0===n?void 0:n.selectedContext)||void 0===i?void 0:i.executeContext)||void 0===r?void 0:r.item.id;this.isConfigSelected=c===this.itemId&&"config"===(null===(o=this.state)||void 0===o?void 0:o.contentSection),this.setItemState(e.itemState)}))}setItemState(e){const t=`${this.executeContext.item.id}.${this.id}`;e[t]||(e[t]={configOpen:!1,filesOpen:!1,itemOpen:this.itemOpen}),this.itemState=e[t]}ngOnDestroy(){this.subs.unsubscribe()}toggleItem(){this.itemState.itemOpen=!this.itemState.itemOpen}selectFile(e){const t=this.executeContext.item;this.editorService.selectFile(t.id,e,`${t.parent.name}.${t.name}`)}selectItem(){this.editorService.selectContext(this.executeContext)}createNewFile(){this.editorService.selectAddFilesMenu()}createNewFolder(e){if(e.item.type===this.itemTypes.Template){const t=this.dialog.open(et,{data:{absolutePath:e.tree.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(t.afterClosed().subscribe(e=>{e.updated&&this.editorService.reRender()}))}}uploadFile(e){const t=this.dialog.open(pt,{data:{absolutePath:e.tree.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(t.afterClosed().subscribe(e=>{e.updated&&this.editorService.reRender()}))}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u),d.Lb(x.b))},e.\u0275cmp=d.Fb({type:e,selectors:[["item-folder-structure"]],inputs:{executeContext:"executeContext",id:"id",itemOpen:"itemOpen"},decls:15,vars:10,consts:[[1,"generator-holder"],[1,"generator-item","align-items-center"],[1,"cursor-pointer","text-muted","text-tiny","pl-1",3,"click"],[1,"fa"],[1,"pl-2"],[1,"fa","fa-folder","text-tiny","text-muted"],[1,"pl-1","ellipsis","item-name",3,"title","click"],["class","ml-auto pr-2 item-menu",3,"matMenuTriggerFor","matMenuTriggerData",4,"ngIf"],[1,"cursor-pointer","pl-2"],["class","pl-2",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"overlapTrigger"],["templateMenu","matMenu"],["matMenuContent",""],[1,"ml-auto","pr-2","item-menu",3,"matMenuTriggerFor","matMenuTriggerData"],[3,"inline"],[1,"config-item","d-flex","align-items-center",3,"click"],[1,"pl-3"],[1,"fa","fa-cog","text-muted","text-tiny","text-primary"],[3,"selectedFile","tree","hideParentFolder","onFileSelect"],["class","pl-3 cursor-pointer text-muted text-tiny",3,"click",4,"ngIf"],[1,"pl-3","cursor-pointer","text-muted","text-tiny",3,"click"],[1,"fa","fa-plus-circle","text-tiny"],[1,"pl-3","sub-items"],[3,"executeContext","id"],["mat-menu-item","",3,"click"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Zb("click",(function(){return t.toggleItem()})),d.Mb(3,"i",3),d.Qb(),d.Rb(4,"div",4),d.Mb(5,"i",5),d.Qb(),d.Rb(6,"div",6),d.Zb("click",(function(){return t.selectItem()})),d.Ec(7),d.Qb(),d.Cc(8,Gt,3,5,"div",7),d.Qb(),d.Rb(9,"div",8),d.Cc(10,Vt,7,6,"div",9),d.Cc(11,zt,3,2,"ng-container",10),d.Qb(),d.Qb(),d.Rb(12,"mat-menu",11,12),d.Cc(14,Ht,6,0,"ng-template",13),d.Qb()),2&e&&(d.Ab(3),d.Db("fa-chevron-down",t.itemState.itemOpen)("fa-chevron-right",!t.itemState.itemOpen),d.Ab(3),d.jc("title",(null==t.executeContext.item.parent?null:t.executeContext.item.parent.type)+": "+(null==t.executeContext.item.parent?null:t.executeContext.item.parent.name)),d.Ab(1),d.Gc(" ",t.executeContext.item.name," "),d.Ab(1),d.jc("ngIf",t.executeContext.item.type===t.itemTypes.Template),d.Ab(2),d.jc("ngIf",t.itemState.itemOpen),d.Ab(1),d.jc("ngForOf",t.executeContext.children),d.Ab(1),d.jc("overlapTrigger",!0))},directives:[i.t,i.s,O.e,O.a,O.d,I.a,Zt,e,O.b],styles:["[_nghost-%COMP%]{display:flex;flex:1}.generator-holder[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.generator-item[_ngcontent-%COMP%]{display:flex;flex:1;height:30px;border-radius:5px;cursor:pointer;max-width:230px}.generator-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.generator-item[_ngcontent-%COMP%]:hover   .item-menu[_ngcontent-%COMP%]{visibility:visible!important}.config-item[_ngcontent-%COMP%]{border-radius:5px;height:25px}.config-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.config-item.config-selected[_ngcontent-%COMP%], .config-item.config-selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6469ff!important}.item-menu[_ngcontent-%COMP%]{cursor:pointer;visibility:hidden}.item-name[_ngcontent-%COMP%]{max-width:60%}.has-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px dashed #f08080}.has-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f08080}"]}),e})();function Bt(e,t){if(1&e&&d.Mb(0,"item-folder-structure",1),2&e){const e=d.dc();d.jc("executeContext",e.executeContext)("itemOpen",!0)}}let Kt=(()=>{class e{constructor(e){this.editorService=e,this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>{var t;this.executeContext=null===(t=null==e?void 0:e.executeResult)||void 0===t?void 0:t.executeContext}))}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["editor-items"]],decls:1,vars:1,consts:[[3,"executeContext","itemOpen",4,"ngIf"],[3,"executeContext","itemOpen"]],template:function(e,t){1&e&&d.Cc(0,Bt,1,2,"item-folder-structure",0),2&e&&d.jc("ngIf",t.executeContext)},directives:[i.t,qt],styles:["[_nghost-%COMP%]{display:flex;flex:1}"]}),e})();var Wt=n("Qu3c");function Yt(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"div",2),d.Mb(2,"generated-folder-structure",3),d.Qb(),d.Ob()),2&e){const e=t.$implicit;d.Ab(2),d.jc("generatedTree",e)}}function Xt(e,t){if(1&e&&(d.Pb(0),d.Cc(1,Yt,3,1,"ng-container",1),d.Ob()),2&e){const e=d.dc();d.Ab(1),d.jc("ngForOf",e.generatedTree.subFolders)}}function en(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"div",2),d.Mb(2,"generated-folder-structure",3),d.Qb(),d.Ob()),2&e){const e=t.$implicit;d.Ab(2),d.jc("generatedTree",e)}}function tn(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",14),d.Zb("click",(function(){d.rc(e);const n=t.$implicit;return d.dc(2).selectItem(n)})),d.Mb(2,"i",15),d.Ec(3),d.Qb(),d.Ob()}if(2&e){const e=t.$implicit,n=d.dc(2);d.Ab(1),d.Db("text-primary",n.isSelected(e))("has-error",n.fileHasError(e)),d.jc("matTooltip",e.file.destination),d.Ab(2),d.Gc(" ",e.file.renderedFilename," ")}}function nn(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",4),d.Rb(2,"div",5),d.Rb(3,"div",6),d.Zb("click",(function(){return d.rc(e),d.dc().toggleItem()})),d.Mb(4,"i",7),d.Qb(),d.Rb(5,"div",8),d.Rb(6,"div",9),d.Rb(7,"div",10),d.Rb(8,"span",11),d.Ec(9),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(10,"div",12),d.Rb(11,"div",13),d.Cc(12,en,3,1,"ng-container",1),d.Cc(13,tn,4,6,"ng-container",1),d.Qb(),d.Qb(),d.Qb(),d.Ob()}if(2&e){const e=d.dc();d.Ab(8),d.jc("matTooltip",e.generatedTree.folderPath),d.Ab(1),d.Fc(e.generatedTree.folderName),d.Ab(3),d.jc("ngForOf",e.generatedTree.subFolders),d.Ab(1),d.jc("ngForOf",e.generatedTree.files)}}let rn=(()=>{class e{constructor(e){this.editorService=e,this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>this.state=e))}ngOnDestroy(){this.subs.unsubscribe()}toggleItem(){}selectItem(e){const t=e.executeContext.item;this.editorService.selectGeneratedFile(t.id,e.file,`${t.parent.name}.${t.name}`)}isSelected(e){var t,n;return e.destination===(null===(n=null===(t=this.state)||void 0===t?void 0:t.generatedFileState)||void 0===n?void 0:n.selectedFile)}fileHasError(e){var t;return(null===(t=e.file.errors)||void 0===t?void 0:t.length)>0}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["generated-folder-structure"]],inputs:{generatedTree:"generatedTree"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"sub-items"],[3,"generatedTree"],[1,""],[1,"item-header","d-flex"],[1,"cursor-pointer",2,"width","10px",3,"click"],[1,"far","fa-folder-open"],[1,"d-flex"],[1,"pl-1"],[1,"dir-overflow"],["matTooltipPosition","right",3,"matTooltip"],[1,"cursor-pointer","pl-2"],[1,"pl-2"],["matTooltipPosition","right",1,"sub-items","dir-overflow",3,"matTooltip","click"],[1,"far","fa-file"]],template:function(e,t){1&e&&(d.Cc(0,Xt,2,1,"ng-container",0),d.Cc(1,nn,14,4,"ng-container",0)),2&e&&(d.jc("ngIf",t.generatedTree.isRootNode),d.Ab(1),d.jc("ngIf",!t.generatedTree.isRootNode))},directives:[i.t,i.s,e,Wt.a],styles:[".item-header[_ngcontent-%COMP%]{cursor:pointer}.item-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .sub-items[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.has-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px dashed red}.has-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.dir-overflow[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;white-space:nowrap;width:170px;text-overflow:ellipsis}"]}),e})();function on(e,t){if(1&e&&d.Mb(0,"generated-folder-structure",2),2&e){const e=d.dc();d.jc("generatedTree",e.generatedTree)}}let cn=(()=>{class e{constructor(e){this.editorService=e,this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>{this.generatedTree=e.executeResult.generatedFileTree}))}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["generated-files"]],decls:2,vars:1,consts:[[1,"p-2"],[3,"generatedTree",4,"ngIf"],[3,"generatedTree"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Cc(1,on,1,1,"generated-folder-structure",1),d.Qb()),2&e&&(d.Ab(1),d.jc("ngIf",t.generatedTree))},directives:[i.t,rn],styles:[""]}),e})();var sn=n("XNiG"),an=n("Kj3r"),ln=n("+C0i"),dn=n("yvwu");const bn=function(e){return{height:e}};let un=(()=>{class e{constructor(e,t){this.bluEditorService=e,this.editorService=t,this.height="500px",this.editorOptions={theme:"bluTheme",language:"bluLanguage",renderLineHighlight:"none",suggest:{snippetsPreventQuickSuggestions:!1}},this.content$=new sn.a,this.properties={initialText:null,text:null,renderContext:null,errors:null},this.subs=new f.a}ngOnInit(){this.subs.add(this.content$.pipe(Object(an.a)(100)).subscribe(e=>{this.properties.initialText!==e&&this.editorService.saveFile(e)})),this.subs.add(this.editorService.templateProperties$.subscribe(e=>{var t,n,i,r,o;this.properties.initialText=null!==(n=null!==(t=e.initialText)&&void 0!==t?t:this.properties.initialText)&&void 0!==n?n:"",this.properties.text=null!==(i=e.text)&&void 0!==i?i:this.properties.text,this.properties.renderContext=null!==(r=e.renderContext)&&void 0!==r?r:this.properties.renderContext,this.properties.errors=null!==(o=e.errors)&&void 0!==o?o:this.properties.errors,this.updateProperties()}))}updateProperties(){this.setText(),this.setErrors(),this.setContext()}setContext(){this.editorModel&&this.properties.renderContext&&(this.bluEditorService.registerCompletionProvider(monaco,this.properties.renderContext),this.properties.renderContext=null)}setText(){this.editorModel&&![null,void 0].includes(this.properties.text)&&(this.editorModel.setValue(this.properties.text),this.properties.text=null)}setErrors(){if(this.editorModel&&this.properties.errors){const e=this.properties.errors.map(e=>{var t,n,i,r;const o=this.editorModel.getPositionAt(e.index);return{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:o.lineNumber+((null===(t=e.override)||void 0===t?void 0:t.marginalEndLineNumber)||0),endColumn:(null===(n=e.override)||void 0===n?void 0:n.endColumnNumber)||o.column+e.badText.length,message:null!==(r=null===(i=e.syntaxError)||void 0===i?void 0:i.error)&&void 0!==r?r:e.message,severity:monaco.MarkerSeverity.Error}});monaco.editor.setModelMarkers(this.editorModel,"test",e),this.properties.errors=null}}ngOnDestroy(){var e;null===(e=this.editorModel)||void 0===e||e.dispose(),this.subs.unsubscribe()}onEditorInit(e){this.editorModel=e.getModel(),this.updateProperties(),this.editorModel.onDidChangeContent(e=>{this.content$.next(this.editorModel.getValue())})}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(ln.a),d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["blu-editor"]],inputs:{height:"height"},decls:2,vars:7,consts:[[3,"ngStyle"],[3,"ngStyle","options","onInit"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"ngx-monaco-editor",1),d.Zb("onInit",(function(e){return t.onEditorInit(e)})),d.Qb(),d.Qb()),2&e&&(d.jc("ngStyle",d.lc(3,bn,t.height)),d.Ab(1),d.jc("ngStyle",d.lc(5,bn,t.height))("options",t.editorOptions))},directives:[i.w,dn.a],styles:[""]}),e})();const fn=function(e){return{height:e}};let pn=(()=>{class e{constructor(e){this.editorService=e,this.editorOptions={},this.height="500px",this.defaultOptions={theme:"bluTheme",language:"html",readOnly:!0,renderLineHighlight:"none",matchBrackets:"never"},this.properties={text:null,language:null},this.subs=new f.a}ngOnInit(){this.editorOptions=Object.assign({},this.defaultOptions,this.editorOptions),this.subs.add(this.editorService.previewProperties$.subscribe(e=>{var t,n,i;this.properties.text=null!==(n=null!==(t=e.text)&&void 0!==t?t:this.properties.text)&&void 0!==n?n:"",this.properties.language=null!==(i=e.language)&&void 0!==i?i:this.properties.language,this.updateProperties()}))}updateProperties(){this.setText(),this.setLanguage()}ngOnDestroy(){var e;null===(e=this.editorModel)||void 0===e||e.dispose(),this.subs.unsubscribe()}setText(){this.editorModel&&![null,void 0].includes(this.properties.text)&&(this.editorModel.setValue(this.properties.text),this.properties.text=null)}setLanguage(){this.editorModel&&this.properties.language&&(monaco.editor.setModelLanguage(this.editorModel,this.properties.language),this.properties.language=null)}onEditorInit(e){this.editorModel=e.getModel(),this.updateProperties()}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["preview-editor"]],inputs:{editorOptions:"editorOptions",height:"height"},decls:2,vars:7,consts:[[3,"ngStyle"],[3,"ngStyle","options","onInit"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"ngx-monaco-editor",1),d.Zb("onInit",(function(e){return t.onEditorInit(e)})),d.Qb(),d.Qb()),2&e&&(d.jc("ngStyle",d.lc(3,fn,t.height)),d.Ab(1),d.jc("ngStyle",d.lc(5,fn,t.height))("options",t.editorOptions))},directives:[i.w,dn.a],styles:[""]}),e})(),gn=(()=>{class e{constructor(e){this.editorService=e,this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>this.selectedContext=e.selectedContext))}ngAfterViewInit(){}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["blu-file-editor"]],decls:18,vars:4,consts:[[1,"page-container"],[1,"template-file"],[1,"file-name"],[1,"flex-shrink-1","ellipsis","truncate-name"],[1,"text-tiny","text-muted","ml-2","flex-shrink-0"],[1,"file-contents"],[3,"height"],[1,"resize-spacer"],[1,"generated-file"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Rb(3,"div",3),d.Ec(4),d.Qb(),d.Rb(5,"div",4),d.Ec(6," (Template File)"),d.Qb(),d.Qb(),d.Rb(7,"div",5),d.Mb(8,"blu-editor",6),d.Qb(),d.Qb(),d.Mb(9,"div",7),d.Rb(10,"div",8),d.Rb(11,"div",2),d.Rb(12,"div",3),d.Ec(13),d.Qb(),d.Rb(14,"div",4),d.Ec(15," (Generated File)"),d.Qb(),d.Qb(),d.Rb(16,"div",5),d.Mb(17,"preview-editor",6),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.Ab(4),d.Gc("",null==t.selectedContext||null==t.selectedContext.file?null:t.selectedContext.file.filename," "),d.Ab(4),d.jc("height","99.5%"),d.Ab(5),d.Gc("",null==t.selectedContext||null==t.selectedContext.file?null:t.selectedContext.file.renderedFilename," "),d.Ab(4),d.jc("height","99.5%"))},directives:[un,pn],styles:[".page-container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;flex:1}.generated-file[_ngcontent-%COMP%], .template-file[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;background-color:#fff;border-radius:5px}.resize-spacer[_ngcontent-%COMP%]{flex:0 0 8px}.file-name[_ngcontent-%COMP%]{display:flex;align-items:baseline;flex:0 0 40px;padding:10px 0 10px 15px;border-bottom:1px solid #f1f1f1}.truncate-name[_ngcontent-%COMP%]{max-width:70%}.file-contents[_ngcontent-%COMP%]{flex:1 1 auto;padding:4px}"]}),e})();var hn=n("3sFK"),mn=n("DuVo"),vn=n("m/dn"),xn=n("ty4e"),Cn=n("3EJP"),Sn=n("GiAs"),Mn=n("mjoc"),Rn=n("6uKQ"),On=n("h6DH");let In=(()=>{class e{constructor(e){this.editorService=e,this.editorOptions={language:"json",readOnly:!0,renderLineHighlight:"none",matchBrackets:"never",lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:"5px",folding:!1},this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>{var t,n,i;const r={},o=null!==(i=null===(n=null===(t=e.selectedContext)||void 0===t?void 0:t.executeContext)||void 0===n?void 0:n.itemContext.variables)&&void 0!==i?i:[];o.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0),o.forEach(e=>r[e.name]=e.value),this.text=JSON.stringify(r,null,2)}))}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["context-inputs"]],decls:7,vars:5,consts:[[1,"p-2","py-3"],[1,"fa","fa-chevron-right","text-muted","text-small"],[1,"text-small","as-link","ml-2",3,"matTooltip","routerLink"],[1,"fa","fa-info-circle"],[1,"p-2",2,"height","90%"],[3,"text","editorOptions","height"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Mb(1,"i",1),d.Ec(2," Context Inputs "),d.Rb(3,"span",2),d.Mb(4,"i",3),d.Qb(),d.Qb(),d.Rb(5,"div",4),d.Mb(6,"file-editor",5),d.Qb()),2&e&&(d.Ab(3),d.jc("matTooltip","More Info")("routerLink","/documentation/generator-config/context"),d.Ab(3),d.jc("text",t.text)("editorOptions",t.editorOptions)("height","100%"))},directives:[Wt.a,r.d,E.a],styles:[""]}),e})();function En(e,t){if(1&e&&(d.Rb(0,"span",10),d.Ec(1),d.Qb()),2&e){const e=d.dc().$implicit;d.Ab(1),d.Gc("",e.origin.type,": ")}}function Pn(e,t){if(1&e&&(d.Rb(0,"tr"),d.Rb(1,"td"),d.Rb(2,"div",6),d.Ec(3),d.Qb(),d.Rb(4,"div",7),d.Ec(5),d.Qb(),d.Qb(),d.Rb(6,"td"),d.Rb(7,"div",8),d.Cc(8,En,2,1,"span",9),d.Rb(9,"span"),d.Ec(10),d.Qb(),d.Qb(),d.Qb(),d.Mb(11,"td"),d.Qb()),2&e){const e=t.$implicit;d.Ab(3),d.Fc(e.name),d.Ab(2),d.Fc(e.description),d.Ab(3),d.jc("ngIf","api"!==e.origin.type),d.Ab(1),d.Db("text-capitalize","api"===e.origin.type),d.Ab(1),d.Fc(e.origin.name)}}let yn=(()=>{class e{constructor(e){this.editorService=e,this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>{var t,n;this.selectedContext=e.selectedContext,this.functions=null===(n=null===(t=e.selectedContext)||void 0===t?void 0:t.executeContext)||void 0===n?void 0:n.itemContext.functions}))}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["context-functions"]],decls:14,vars:3,consts:[[1,"p-2"],[1,"fa","fa-magic","text-muted","text-small"],[1,"text-small","as-link","ml-2",3,"matTooltip","routerLink"],[1,"fa","fa-info-circle"],[1,"table","table-borderless","tight-table"],[4,"ngFor","ngForOf"],[1,"text-bold"],[1,"small","text-muted"],[1,"badge","rounded-pill","bg-light"],["class","text-capitalize",4,"ngIf"],[1,"text-capitalize"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Mb(1,"i",1),d.Ec(2," Context Functions "),d.Rb(3,"span",2),d.Mb(4,"i",3),d.Qb(),d.Qb(),d.Rb(5,"div",0),d.Rb(6,"table",4),d.Rb(7,"tr"),d.Rb(8,"th"),d.Ec(9,"Name/Description"),d.Qb(),d.Rb(10,"th"),d.Ec(11,"Located in"),d.Qb(),d.Mb(12,"th"),d.Qb(),d.Cc(13,Pn,12,6,"tr",5),d.Qb(),d.Qb()),2&e&&(d.Ab(3),d.jc("matTooltip","More Info")("routerLink","/documentation/generator-config/context"),d.Ab(10),d.jc("ngForOf",t.functions))},directives:[Wt.a,r.d,i.s,i.t],styles:[".tight-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .tight-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.2rem}"]}),e})();function Qn(e,t){1&e&&d.Mb(0,"i",34)}function Fn(e,t){1&e&&d.Mb(0,"i",34)}function wn(e,t){1&e&&d.Mb(0,"i",34)}function An(e,t){1&e&&d.Mb(0,"i",34)}function jn(e,t){if(1&e&&(d.Rb(0,"span",35),d.Ec(1),d.Qb()),2&e){const e=d.dc();d.Ab(1),d.Gc("(",null==e.item.chainedTemplates?null:e.item.chainedTemplates.length,")")}}function _n(e,t){1&e&&d.Mb(0,"i",36)}function kn(e,t){if(1&e&&(d.Pb(0),d.Mb(1,"config-info",40),d.Ob()),2&e){const e=d.dc(2);d.Ab(1),d.jc("item",e.item)}}function Dn(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"config-description",41),d.Zb("onConfigUpdated",(function(){return d.rc(e),d.dc(2).configUpdated()})),d.Qb(),d.Ob()}if(2&e){const e=d.dc(2);d.Ab(1),d.jc("item",e.item)}}function Tn(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"config-on-success",42),d.Zb("onConfigUpdated",(function(){return d.rc(e),d.dc(2).configUpdated()})),d.Qb(),d.Ob()}if(2&e){const e=d.dc(2);d.Ab(1),d.jc("item",e.item)("renderedOnSuccess",e.renderedOnSuccess)("renderContext",e.renderContext)("errors",e.errors)}}function Ln(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"config-filenames",43),d.Zb("onConfigUpdated",(function(){return d.rc(e),d.dc(2).configUpdated()})),d.Qb(),d.Ob()}if(2&e){const e=d.dc(2);d.Ab(1),d.jc("item",e.item)("renderContext",e.renderContext)("errors",e.errors)}}function Nn(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"config-commands",43),d.Zb("onConfigUpdated",(function(){return d.rc(e),d.dc(2).configUpdated()})),d.Qb(),d.Ob()}if(2&e){const e=d.dc(2);d.Ab(1),d.jc("item",e.item)("renderContext",e.renderContext)("errors",e.errors)}}function $n(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"config-functions",44),d.Zb("onConfigUpdated",(function(){return d.rc(e),d.dc(2).configUpdated()})),d.Qb(),d.Ob()}if(2&e){const e=d.dc(2);d.Ab(1),d.jc("item",e.item)("errors",e.errors)}}function Zn(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"config-variables",43),d.Zb("onConfigUpdated",(function(){return d.rc(e),d.dc(2).configUpdated()})),d.Qb(),d.Ob()}if(2&e){const e=d.dc(2);d.Ab(1),d.jc("item",e.item)("renderContext",e.renderContext)("errors",e.errors)}}function Un(e,t){1&e&&(d.Pb(0),d.Mb(1,"config-links"),d.Ob())}function Gn(e,t){1&e&&(d.Pb(0),d.Mb(1,"context-inputs"),d.Ob())}function Jn(e,t){1&e&&(d.Pb(0),d.Mb(1,"context-functions"),d.Ob())}function Vn(e,t){if(1&e&&(d.Rb(0,"div",37),d.Pb(1,38),d.Cc(2,kn,2,1,"ng-container",39),d.Cc(3,Dn,2,1,"ng-container",39),d.Cc(4,Tn,2,4,"ng-container",39),d.Cc(5,Ln,2,3,"ng-container",39),d.Cc(6,Nn,2,3,"ng-container",39),d.Cc(7,$n,2,2,"ng-container",39),d.Cc(8,Zn,2,3,"ng-container",39),d.Cc(9,Un,2,0,"ng-container",39),d.Cc(10,Gn,2,0,"ng-container",39),d.Cc(11,Jn,2,0,"ng-container",39),d.Ob(),d.Qb()),2&e){const e=d.dc();d.Ab(1),d.jc("ngSwitch",e.selected),d.Ab(1),d.jc("ngSwitchCase","info"),d.Ab(1),d.jc("ngSwitchCase","description"),d.Ab(1),d.jc("ngSwitchCase","onSuccess"),d.Ab(1),d.jc("ngSwitchCase","filenames"),d.Ab(1),d.jc("ngSwitchCase","chainedTemplates"),d.Ab(1),d.jc("ngSwitchCase","functions"),d.Ab(1),d.jc("ngSwitchCase","variables"),d.Ab(1),d.jc("ngSwitchCase","links"),d.Ab(1),d.jc("ngSwitchCase","ctxInputs"),d.Ab(1),d.jc("ngSwitchCase","ctxFunctions")}}function zn(e,t){if(1&e){const e=d.Sb();d.Rb(0,"button",45),d.Zb("click",(function(){return d.rc(e),d.dc().createNewFile()})),d.Ec(1,"Add File"),d.Qb(),d.Rb(2,"button",45),d.Zb("click",(function(){return d.rc(e),d.dc().createNewFolder()})),d.Ec(3,"Add Folder"),d.Qb(),d.Rb(4,"button",45),d.Zb("click",(function(){return d.rc(e),d.dc().uploadFiles()})),d.Ec(5,"Upload File"),d.Qb()}}const Hn=function(e){return{item:e}};let qn=(()=>{class e{constructor(e,t,n,i){this.appEnvironmentService=e,this.cdr=t,this.dialog=n,this.editorService=i,this.selected="info",this.errors=[],this.configErrors={},this.configSections=["info","description","filenames","onSuccess","functions","variables"],this.subs=new f.a,this.storeKey="templateConfigSelections"}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>{var t,n,i;(null===(t=this.item)||void 0===t?void 0:t.id)!==(null===(i=null===(n=e.selectedContext)||void 0===n?void 0:n.executeContext)||void 0===i?void 0:i.item.id)&&(this.selected=null),setTimeout(()=>{var t,n,i,r,o,c,s,a,l,d,b,u,f;this.item=null===(n=null===(t=e.selectedContext)||void 0===t?void 0:t.executeContext)||void 0===n?void 0:n.item,this.renderContext=null===(r=null===(i=e.selectedContext)||void 0===i?void 0:i.executeContext)||void 0===r?void 0:r.renderContext,this.executeContext=null===(o=e.selectedContext)||void 0===o?void 0:o.executeContext,this.renderedOnSuccess=null===(s=null===(c=e.selectedContext)||void 0===c?void 0:c.executeContext)||void 0===s?void 0:s.onSuccess,this.itemId=null===(a=e.selectedContext)||void 0===a?void 0:a.itemId,this.itemType=null===(d=null===(l=e.selectedContext)||void 0===l?void 0:l.executeContext)||void 0===d?void 0:d.item.type,this.errors=e.errors.syntaxErrors,this.storedSelections=null!==(b=this.appEnvironmentService.currentEnvironmentState[this.storeKey])&&void 0!==b?b:{},this.selectSection(null!==(f=null!==(u=e.configSection)&&void 0!==u?u:this.storedSelections[this.itemId])&&void 0!==f?f:this.selected),e.configSection=null,this.cdr.detectChanges(),this.setErrors()},0)}))}ngOnDestroy(){this.subs.unsubscribe()}selectSection(e){this.selected=e,this.storedSelections[this.itemId]=this.selected,this.appEnvironmentService.setEnvironmentState(this.storeKey,this.storedSelections)}configUpdated(){this.editorService.reRender()}setErrors(){const e={};this.errors.forEach(t=>{var n;(null===(n=t.executeContext)||void 0===n?void 0:n.item.id)===this.item.id&&t.error.origin.section&&(e[t.error.origin.section]=!0)}),e.functions=this.errors.filter(e=>{var t,n,i;return(null===(t=e.executeContext)||void 0===t?void 0:t.item.id)===this.item.id&&"functionError"===(null===(i=null===(n=e.error.data)||void 0===n?void 0:n.syntaxError)||void 0===i?void 0:i.type)}).length>0,this.configErrors=e}createNewFolder(){this.dialog.open(et,{data:{absolutePath:this.executeContext.tree.absolutePath},position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>{e.updated&&this.configUpdated()})}uploadFiles(){const e=this.dialog.open(pt,{data:{absolutePath:this.executeContext.tree.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(e.afterClosed().subscribe(e=>{e.updated&&this.configUpdated()}))}createNewFile(){const e=this.dialog.open(yt,{data:{absolutePath:this.executeContext.tree.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(e.afterClosed().subscribe(e=>{e.updated&&this.configUpdated()}))}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(hn.a),d.Lb(d.h),d.Lb(x.b),d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["template-config"]],decls:59,vars:32,consts:[[1,"page-container"],[1,"border-bottom","item-header"],[1,"d-flex","align-items-center"],[1,"pl-3","py-2"],[2,"font-size","1rem"],[1,"fa","fa-cog","text-muted","text-small"],[1,"as-link",3,"routerLink"],[1,"ml-auto","cursor-pointer",3,"matMenuTriggerFor","matMenuTriggerData"],["mat-button","","mat-icon-button",""],[1,"item-menu",3,"inline"],[1,"d-flex","flex-grow-1"],[2,"padding-top","8px"],[1,"list-unstyled","pb-0","pt-1","px-3","config-list","cursor-pointer"],[3,"click"],[1,"fab","fa-readme","config-icon"],[1,"fa","fa-info-circle","config-icon"],[1,"fa","fa-file","config-icon"],["class","fa fa-exclamation-circle text-danger text-tiny",4,"ngIf"],[1,"fa","fa-check","config-icon"],[1,"fa","fa-magic","config-icon"],[1,"fa","fa-equals","config-icon"],[1,"fa","fa-list","config-icon"],["class","text-tiny",4,"ngIf"],["class","fa fa-exclamation-circle text-danger text-tiny ml-1",4,"ngIf"],[1,"pt-2","config-list","py-1"],[1,"config-title"],[1,"fab","fa-connectdevelop","config-icon"],[1,"inline-block"],[1,"list-unstyled","pb-0","px-3","config-list","cursor-pointer"],[1,"fa","fa-chevron-right","config-icon"],["class","pl-2 w-100 h-100 config-contents",4,"ngIf"],["yPosition","below"],["itemMenu","matMenu"],["matMenuContent",""],[1,"fa","fa-exclamation-circle","text-danger","text-tiny"],[1,"text-tiny"],[1,"fa","fa-exclamation-circle","text-danger","text-tiny","ml-1"],[1,"pl-2","w-100","h-100","config-contents"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"item"],[3,"item","onConfigUpdated"],[3,"item","renderedOnSuccess","renderContext","errors","onConfigUpdated"],[3,"item","renderContext","errors","onConfigUpdated"],[3,"item","errors","onConfigUpdated"],["mat-menu-item","",3,"click"]],template:function(e,t){if(1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Rb(3,"div",3),d.Rb(4,"div",4),d.Mb(5,"i",5),d.Ec(6),d.Rb(7,"span",6),d.Ec(8,".config"),d.Qb(),d.Qb(),d.Qb(),d.Rb(9,"div",7),d.Rb(10,"button",8),d.Rb(11,"mat-icon",9),d.Ec(12,"more_vert"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(13,"div",10),d.Rb(14,"div",11),d.Rb(15,"ul",12),d.Rb(16,"li",13),d.Zb("click",(function(){return t.selectSection("info")})),d.Mb(17,"i",14),d.Ec(18," Readme"),d.Qb(),d.Rb(19,"li",13),d.Zb("click",(function(){return t.selectSection("description")})),d.Mb(20,"i",15),d.Ec(21," Description"),d.Qb(),d.Rb(22,"li",13),d.Zb("click",(function(){return t.selectSection("filenames")})),d.Mb(23,"i",16),d.Ec(24," Filenames "),d.Cc(25,Qn,1,0,"i",17),d.Qb(),d.Rb(26,"li",13),d.Zb("click",(function(){return t.selectSection("onSuccess")})),d.Mb(27,"i",18),d.Ec(28," On Success "),d.Cc(29,Fn,1,0,"i",17),d.Qb(),d.Rb(30,"li",13),d.Zb("click",(function(){return t.selectSection("functions")})),d.Mb(31,"i",19),d.Ec(32," Functions "),d.Cc(33,wn,1,0,"i",17),d.Qb(),d.Rb(34,"li",13),d.Zb("click",(function(){return t.selectSection("variables")})),d.Mb(35,"i",20),d.Ec(36," Variables "),d.Cc(37,An,1,0,"i",17),d.Qb(),d.Rb(38,"li",13),d.Zb("click",(function(){return t.selectSection("chainedTemplates")})),d.Mb(39,"i",21),d.Ec(40," Chain "),d.Cc(41,jn,2,1,"span",22),d.Cc(42,_n,1,0,"i",23),d.Qb(),d.Qb(),d.Rb(43,"div",24),d.Rb(44,"div",25),d.Mb(45,"i",26),d.Rb(46,"div",27),d.Ec(47,"Context"),d.Qb(),d.Qb(),d.Qb(),d.Rb(48,"ul",28),d.Rb(49,"li",13),d.Zb("click",(function(){return t.selectSection("ctxInputs")})),d.Mb(50,"i",29),d.Ec(51," Inputs"),d.Qb(),d.Rb(52,"li",13),d.Zb("click",(function(){return t.selectSection("ctxFunctions")})),d.Mb(53,"i",19),d.Ec(54," Functions"),d.Qb(),d.Qb(),d.Qb(),d.Cc(55,Vn,12,11,"div",30),d.Qb(),d.Rb(56,"mat-menu",31,32),d.Cc(58,zn,6,0,"ng-template",33),d.Qb(),d.Qb()),2&e){const e=d.oc(57);d.Ab(6),d.Gc(" ",null==t.item?null:t.item.name," "),d.Ab(1),d.jc("routerLink","/documentation/generator-config/introduction"),d.Ab(2),d.jc("matMenuTriggerFor",e)("matMenuTriggerData",d.lc(30,Hn,t.item)),d.Ab(2),d.jc("inline",!0),d.Ab(5),d.Db("text-primary","info"===t.selected),d.Ab(3),d.Db("text-primary","description"===t.selected),d.Ab(3),d.Db("text-primary","filenames"===t.selected),d.Ab(3),d.jc("ngIf",t.configErrors.filenames),d.Ab(1),d.Db("text-primary","onSuccess"===t.selected),d.Ab(3),d.jc("ngIf",t.configErrors.onSuccess),d.Ab(1),d.Db("text-primary","functions"===t.selected),d.Ab(3),d.jc("ngIf",t.configErrors.functions),d.Ab(1),d.Db("text-primary","variables"===t.selected),d.Ab(3),d.jc("ngIf",t.configErrors.variables),d.Ab(1),d.Db("text-primary","chainedTemplates"===t.selected),d.Ab(3),d.jc("ngIf",(null==t.item||null==t.item.chainedTemplates?null:t.item.chainedTemplates.length)>0),d.Ab(1),d.jc("ngIf",t.configErrors.chainedTemplates),d.Ab(7),d.Db("text-primary","ctxInputs"===t.selected),d.Ab(3),d.Db("text-primary","ctxFunctions"===t.selected),d.Ab(3),d.jc("ngIf",t.selected)}},directives:[r.d,O.d,m.b,I.a,i.t,O.e,O.a,i.x,i.y,mn.a,vn.a,xn.a,Cn.a,Sn.a,Mn.a,Rn.a,On.a,In,yn,O.b],styles:["[_nghost-%COMP%]{display:flex;flex:1}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;background-color:#fff;border-radius:5px}.config-list[_ngcontent-%COMP%]{position:relative;width:150px}.config-list[_ngcontent-%COMP%]   .config-title[_ngcontent-%COMP%], .config-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding:3px 0 3px 26px;border-radius:5px}.config-list[_ngcontent-%COMP%]   .config-title[_ngcontent-%COMP%]:hover, .config-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.config-list[_ngcontent-%COMP%]   .config-icon[_ngcontent-%COMP%]{left:10px;top:10px;position:absolute;font-size:.6rem;opacity:.8}.config-contents[_ngcontent-%COMP%]{border-left:1px solid #f1f1f1;flex:1}"]}),e})();function Bn(e,t){1&e&&(d.Rb(0,"mat-error"),d.Ec(1,"File cannot be blank"),d.Qb())}function Kn(e,t){1&e&&(d.Rb(0,"mat-error"),d.Ec(1,'Characters not allowed: \\ / : * ? " < > |'),d.Qb())}function Wn(e,t){if(1&e&&(d.Rb(0,"div",8),d.Mb(1,"i",9),d.Ec(2),d.Qb()),2&e){const e=d.dc();d.Ab(2),d.Gc(" Error: ",e.errorMessage," ")}}function Yn(e,t){1&e&&(d.Rb(0,"div",10),d.Mb(1,"i",11),d.Ec(2," File Created "),d.Qb())}let Xn=(()=>{class e{constructor(e,t,n){this.fb=e,this.editorService=t,this.bluService=n,this.currentState=ze.a.IDLE,this.actionState=ze.a,this.subs=new f.a,this.form=this.fb.group({filename:["",[be.F.required,be.F.pattern(/^[^\\/:\*\?"<>\|]+$/)]]})}ngOnInit(){this.currentState=ze.a.IDLE,this.form.valueChanges.subscribe(e=>{this.currentState=ze.a.IDLE})}ngOnDestroy(){this.currentState=ze.a.IDLE,this.errorMessage="",this.subs.unsubscribe()}get f(){return this.form.controls}createFile(){const e=this.form.value.filename.trim();this.currentState=ze.a.ACQUIRING,this.bluService.createFile(this.absolutePath,e).subscribe(e=>{this.currentState=ze.a.SUCCESS,this.subs.add(this.editorService.reRender$().subscribe(t=>{this.editorService.selectFileByPath(e.absolutePath)}))},e=>{var t,n;this.errorMessage=null!==(n=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.message)&&void 0!==n?n:"Operation failed.",this.currentState=ze.a.FAILED})}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(be.f),d.Lb(u),d.Lb(b.a))},e.\u0275cmp=d.Fb({type:e,selectors:[["create-new-file"]],inputs:{absolutePath:"absolutePath"},decls:10,vars:6,consts:[[1,"p-4",2,"max-width","400px"],[3,"formGroup","ngSubmit"],[1,"mat-form-field"],["placeholder","File Name","matInput","","formControlName","filename"],[4,"ngIf"],["class","pb-2 text-danger",4,"ngIf"],["class","pb-2 text-success",4,"ngIf"],["mat-raised-button","","type","submit",3,"disabled","click"],[1,"pb-2","text-danger"],[1,"fa","fa-exclamation-triangle"],[1,"pb-2","text-success"],[1,"fa","fa-check"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"form",1),d.Zb("ngSubmit",(function(){return t.createFile()})),d.Rb(2,"mat-form-field",2),d.Mb(3,"input",3),d.Cc(4,Bn,2,0,"mat-error",4),d.Cc(5,Kn,2,0,"mat-error",4),d.Qb(),d.Qb(),d.Cc(6,Wn,3,1,"div",5),d.Cc(7,Yn,3,0,"div",6),d.Rb(8,"button",7),d.Zb("click",(function(){return t.createFile()})),d.Ec(9,"Create File"),d.Qb(),d.Qb()),2&e&&(d.Ab(1),d.jc("formGroup",t.form),d.Ab(3),d.jc("ngIf",null==t.f.filename||null==t.f.filename.errors?null:t.f.filename.errors.required),d.Ab(1),d.jc("ngIf",null==t.f.filename||null==t.f.filename.errors?null:t.f.filename.errors.pattern),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.FAILED),d.Ab(1),d.jc("ngIf",t.currentState===t.actionState.SUCCESS),d.Ab(1),d.jc("disabled",t.form.invalid||t.currentState!==t.actionState.IDLE))},directives:[be.H,be.s,be.k,ue.c,He.a,be.c,be.r,be.i,i.t,m.b,ue.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();var ei=n("OnT9"),ti=n("oFHb"),ni=n("QArD");function ii(e,t){if(1&e&&(d.Rb(0,"div",8),d.Mb(1,"i",9),d.Ec(2),d.Qb()),2&e){const e=d.dc(2);d.Ab(2),d.Hc(" ",e.selectedItems.length>0?e.selectedItems.length:""," ",e.selectedItems.length>1?"Files":"File"," Copied")}}function ri(e,t){if(1&e&&(d.Rb(0,"div",16),d.Ec(1),d.Qb()),2&e){const e=t.$implicit;d.Ab(1),d.Fc(e)}}function oi(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"div",1),d.Rb(2,"div",13),d.Mb(3,"i",14),d.Ec(4," Following files would be overwritten. Please delete them from your generator first"),d.Qb(),d.Rb(5,"div",0),d.Cc(6,ri,2,1,"div",15),d.Qb(),d.Qb(),d.Ob()),2&e){const e=d.dc(3);d.Ab(6),d.jc("ngForOf",null==e.error.error||null==e.error.error.data?null:e.error.error.data.overwriteFiles)}}function ci(e,t){1&e&&(d.Pb(0),d.Rb(1,"div",17),d.Mb(2,"i",18),d.Ec(3," Could not copy files."),d.Qb(),d.Ob())}function si(e,t){if(1&e&&(d.Pb(0),d.Pb(1,10),d.Cc(2,oi,7,1,"ng-container",11),d.Cc(3,ci,4,0,"ng-container",12),d.Ob(),d.Ob()),2&e){const e=d.dc(2);d.Ab(1),d.jc("ngSwitch",e.error.error.code),d.Ab(1),d.jc("ngSwitchCase","overwrite-error")}}function ai(e,t){if(1&e&&(d.Rb(0,"div",0),d.Cc(1,ii,3,2,"div",6),d.Cc(2,si,4,2,"ng-container",7),d.Qb()),2&e){const e=d.dc();d.Ab(1),d.jc("ngIf",e.currentState===e.actionState.SUCCESS),d.Ab(1),d.jc("ngIf",e.currentState===e.actionState.ERROR)}}function li(e,t){if(1&e&&d.Mb(0,"blu-dir-tree",19),2&e){const e=d.dc();d.jc("multiSelect",!0)("state",e.treeState)}}let di=(()=>{class e{constructor(e,t,n,i,r,o){this.treeService=e,this.editorService=t,this.appEnvironmentService=n,this.appStateService=i,this.templateService=r,this.dialog=o,this.selectedItems=[],this.searchTerm="",this.currentState=ze.a.IDLE,this.actionState=ze.a,this.subs=new f.a}ngOnInit(){var e;this.treeState=null!==(e=this.appEnvironmentService.currentEnvironmentState["last-codebase-state"])&&void 0!==e?e:{},this.subs.add(this.treeService.multiSelectedItems$.subscribe(e=>{this.selectedItems=e.filter(e=>e.isFile)})),this.subs.add(this.treeService.selectedItem$.subscribe(e=>{e.userSelected&&this.treeService.toggleCheckDir(e.item)})),this.subs.add(this.editorService.state$.subscribe(e=>this.state=e)),this.subs.add(this.treeService.currentState$.subscribe(e=>{e.activeItemIndex=[0],this.appEnvironmentService.setEnvironmentState("last-codebase-state",e)})),this.subs.add(this.appStateService.bluConsoleState$.subscribe(e=>e.open?this.treeService.disallowKeyboardInput():this.treeService.allowKeyboardInput())),this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(e=>this.environment=e))}ngOnDestroy(){this.treeService.clearState(),this.subs.unsubscribe()}copyFiles(){var e,t,n;const i=null===(n=null===(t=null===(e=this.state)||void 0===e?void 0:e.executeResult)||void 0===t?void 0:t.executeContext.item)||void 0===n?void 0:n.id;this.templateService.copyCodebaseFiles(i,this.selectedItems.map(e=>e.path),this.toAbsolutePath).subscribe(e=>{this.editorService.reRender(),this.currentState=ze.a.SUCCESS},e=>{this.currentState=ze.a.ERROR,this.error=e})}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(ei.a),d.Lb(u),d.Lb(hn.a),d.Lb(p.a),d.Lb(ti.a),d.Lb(x.b))},e.\u0275cmp=d.Fb({type:e,selectors:[["copy-files-from-codebase"]],inputs:{toAbsolutePath:"toAbsolutePath"},decls:8,vars:5,consts:[[1,"p-2"],[1,""],["mat-raised-button","",3,"disabled","click"],[1,"fa","fa-plus-circle","text-muted","text-small"],["class","p-2",4,"ngIf"],[3,"multiSelect","state",4,"ngIf"],["class","text-success",4,"ngIf"],[4,"ngIf"],[1,"text-success"],[1,"fa","fa-check-circle"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"text-small"],[1,"fa","fa-exclamation-triangle","text-danger"],["class","text-tiny text-muted",4,"ngFor","ngForOf"],[1,"text-tiny","text-muted"],[1,"text-danger"],[1,"fa","fa-exclamation-triangle"],[3,"multiSelect","state"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"button",2),d.Zb("click",(function(){return t.copyFiles()})),d.Mb(3,"i",3),d.Ec(4),d.Qb(),d.Qb(),d.Cc(5,ai,3,2,"div",4),d.Qb(),d.Rb(6,"div",0),d.Cc(7,li,1,2,"blu-dir-tree",5),d.Qb()),2&e&&(d.Ab(2),d.jc("disabled",0===t.selectedItems.length),d.Ab(2),d.Hc(" Add ",t.selectedItems.length>0?t.selectedItems.length:""," ",t.selectedItems.length>1?"Files":"File"," "),d.Ab(1),d.jc("ngIf",t.currentState!==t.actionState.IDLE),d.Ab(2),d.jc("ngIf",t.treeState))},directives:[m.b,i.t,i.x,i.y,i.z,i.s,ni.a],styles:["[_nghost-%COMP%]{display:flex;flex:1;flex-direction:column}"]}),e})(),bi=(()=>{class e{constructor(){}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Fb({type:e,selectors:[["upload-files"]],decls:2,vars:0,consts:[[1,"p-4"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Ec(1," Coming Soon\n"),d.Qb())},styles:[""]}),e})();function ui(e,t){1&e&&(d.Rb(0,"div",15),d.Rb(1,"div",16),d.Mb(2,"i",17),d.Qb(),d.Rb(3,"div",18),d.Ec(4,"This generator does not have any template files. You can create or add files here."),d.Qb(),d.Qb())}function fi(e,t){if(1&e&&(d.Pb(0),d.Mb(1,"create-new-file",19),d.Ob()),2&e){const e=d.dc();d.Ab(1),d.jc("absolutePath",e.state.executeResult.executeContext.tree.absolutePath)}}function pi(e,t){if(1&e&&(d.Pb(0),d.Mb(1,"copy-files-from-codebase",20),d.Ob()),2&e){const e=d.dc();d.Ab(1),d.jc("toAbsolutePath",e.state.executeResult.executeContext.tree.absolutePath)}}function gi(e,t){1&e&&(d.Pb(0),d.Mb(1,"upload-files"),d.Ob())}let hi=(()=>{class e{constructor(e){this.editorService=e,this.selected="newFile",this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>{this.state=e,this.hasFiles=this.editorService.hasFiles()}))}ngOnDestroy(){this.subs.unsubscribe()}selectSection(e){this.selected=e}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["add-files-menu"]],decls:24,vars:10,consts:[[1,"page-container"],[1,"border-bottom","item-header"],[1,"d-flex","align-items-center"],[1,"pl-3","py-2"],[1,"fa","fa-plus-circle","text-muted","text-small"],["class","no-files d-flex align-items-center m-2",4,"ngIf"],[1,"d-flex","flex-grow-1"],[1,"config-list"],[1,"list-unstyled","pb-0","pt-1","px-3","config-list","cursor-pointer"],[3,"click"],[1,"fa","fa-plus","config-icon"],[1,"fa","fa-plus-circle","config-icon"],[1,"fa","fa-upload","config-icon"],[1,"config-contents"],[4,"ngIf"],[1,"no-files","d-flex","align-items-center","m-2"],[1,"text-green"],[1,"fa","fa-exclamation-circle","fa-2x"],[1,"pl-2"],[3,"absolutePath"],[3,"toAbsolutePath"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Rb(3,"div",3),d.Rb(4,"div"),d.Mb(5,"i",4),d.Ec(6," Add Files to Generator"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Cc(7,ui,5,0,"div",5),d.Rb(8,"div",6),d.Rb(9,"div",7),d.Rb(10,"ul",8),d.Rb(11,"li",9),d.Zb("click",(function(){return t.selectSection("newFile")})),d.Mb(12,"i",10),d.Ec(13," Create New File"),d.Qb(),d.Rb(14,"li",9),d.Zb("click",(function(){return t.selectSection("fromCodebase")})),d.Mb(15,"i",11),d.Ec(16," From My Codebase"),d.Qb(),d.Rb(17,"li",9),d.Zb("click",(function(){return t.selectSection("uploadFile")})),d.Mb(18,"i",12),d.Ec(19," Upload File"),d.Qb(),d.Qb(),d.Qb(),d.Rb(20,"div",13),d.Cc(21,fi,2,1,"ng-container",14),d.Cc(22,pi,2,1,"ng-container",14),d.Cc(23,gi,2,0,"ng-container",14),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.Ab(7),d.jc("ngIf",!t.hasFiles),d.Ab(4),d.Db("selected","newFile"===t.selected),d.Ab(3),d.Db("selected","fromCodebase"===t.selected),d.Ab(3),d.Db("selected","uploadFile"===t.selected),d.Ab(4),d.jc("ngIf","newFile"===t.selected),d.Ab(1),d.jc("ngIf","fromCodebase"===t.selected),d.Ab(1),d.jc("ngIf","uploadFile"===t.selected))},directives:[i.t,Xn,di,bi],styles:["[_nghost-%COMP%]{display:flex;flex:1}.page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;background-color:#fff;border-radius:0 0 5px 5px}.no-files[_ngcontent-%COMP%]{padding:20px;border-radius:5px;border:1px solid #3db058;max-width:600px}.color-success[_ngcontent-%COMP%], .text-green[_ngcontent-%COMP%]{color:#3db058!important}.config-list[_ngcontent-%COMP%]{position:relative;width:200px}.config-list[_ngcontent-%COMP%]   .config-title[_ngcontent-%COMP%], .config-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding:3px 0 3px 26px;border-radius:5px}.config-list[_ngcontent-%COMP%]   .config-title[_ngcontent-%COMP%]:hover, .config-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.config-list[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%], .config-list[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6469ff!important}.config-list[_ngcontent-%COMP%]   .config-icon[_ngcontent-%COMP%]{left:10px;top:10px;position:absolute;font-size:.6rem;opacity:.8;color:#6c757d}.config-contents[_ngcontent-%COMP%]{border-left:1px solid #f1f1f1;flex:1}"]}),e})();function mi(e,t){1&e&&(d.Pb(0),d.Mb(1,"editor-items"),d.Ob())}function vi(e,t){1&e&&(d.Pb(0),d.Mb(1,"generated-files"),d.Ob())}function xi(e,t){1&e&&(d.Pb(0),d.Mb(1,"blu-file-editor"),d.Ob())}function Ci(e,t){1&e&&(d.Pb(0),d.Mb(1,"template-config"),d.Ob())}function Si(e,t){1&e&&(d.Pb(0),d.Mb(1,"add-files-menu"),d.Ob())}let Mi=(()=>{class e{constructor(e,t){this.editorService=e,this.tooltipService=t,this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>{this.state=e})),this.showTip=!this.tooltipService.hasSeenTooltip("generator-files-main-tooltip")}ngOnDestroy(){this.subs.unsubscribe()}selectItemSection(e){this.editorService.selectItemSection(e)}dismissTooltip(e){this.showTip=!1,this.tooltipService.markTooltipAsSeen(e)}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u),d.Lb(h.a))},e.\u0275cmp=d.Fb({type:e,selectors:[["editor-files"]],decls:31,vars:13,consts:[[1,"section-tip"],[1,"d-flex","align-items-center","section-tip-holder"],[1,"text-green"],[1,"fa","fa-exclamation-circle","fa-2x"],[1,"pl-3","tip-message"],[1,"as-link",3,"routerLink"],[1,"ml-auto","mr-3"],["mat-button","",3,"click"],[1,"d-flex","flex-grow-1"],[1,"file-menu"],[1,"file-options-nav","justify-content-around"],[1,"file-option","text-small",3,"click"],[1,"divider"],[1,"d-flex","p-1"],[4,"ngIf"],[1,"resize-spacer"],[1,"file-contents"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Mb(3,"i",3),d.Qb(),d.Rb(4,"div",4),d.Ec(5," This is the generator. This is where the "),d.Rb(6,"span",5),d.Ec(7,"template files"),d.Qb(),d.Ec(8," reside. You can edit the files here. The generator\u2019s "),d.Rb(9,"span",5),d.Ec(10,".config file"),d.Qb(),d.Ec(11," is also found here. "),d.Qb(),d.Rb(12,"div",6),d.Rb(13,"button",7),d.Zb("click",(function(){return t.dismissTooltip("generator-files-main-tooltip")})),d.Ec(14,"Dismiss"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(15,"div",8),d.Rb(16,"div",9),d.Rb(17,"div",10),d.Rb(18,"div",11),d.Zb("click",(function(){return t.selectItemSection("templates")})),d.Ec(19,"Template Files"),d.Qb(),d.Mb(20,"div",12),d.Rb(21,"div",11),d.Zb("click",(function(){return t.selectItemSection("generated-files")})),d.Ec(22,"Generated Files"),d.Qb(),d.Qb(),d.Rb(23,"div",13),d.Cc(24,mi,2,0,"ng-container",14),d.Cc(25,vi,2,0,"ng-container",14),d.Qb(),d.Qb(),d.Mb(26,"div",15),d.Rb(27,"div",16),d.Cc(28,xi,2,0,"ng-container",14),d.Cc(29,Ci,2,0,"ng-container",14),d.Cc(30,Si,2,0,"ng-container",14),d.Qb(),d.Qb()),2&e&&(d.Db("show-tip",t.showTip),d.Ab(6),d.jc("routerLink","/documentation/generator/template-files"),d.Ab(3),d.jc("routerLink","/documentation/generator-config/introduction"),d.Ab(9),d.Db("selected","templates"===t.state.itemSection),d.Ab(3),d.Db("selected","generated-files"===t.state.itemSection),d.Ab(3),d.jc("ngIf","templates"===t.state.itemSection),d.Ab(1),d.jc("ngIf","generated-files"===t.state.itemSection),d.Ab(3),d.jc("ngIf","template"===(null==t.state?null:t.state.contentSection)),d.Ab(1),d.jc("ngIf","config"===(null==t.state?null:t.state.contentSection)),d.Ab(1),d.jc("ngIf","addFilesMenu"===(null==t.state?null:t.state.contentSection)))},directives:[r.d,m.b,i.t,Kt,cn,gn,qn,hi],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}.resize-spacer[_ngcontent-%COMP%]{flex:0 0 8px}.file-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 0 240px;background-color:#fff;border-radius:5px}.file-menu[_ngcontent-%COMP%]   .file-options-nav[_ngcontent-%COMP%]{display:flex;flex:0 0 40px;border-bottom:1px solid #f1f1f1}.file-menu[_ngcontent-%COMP%]   .file-options-nav[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:2px;height:100%;border-right:1px solid #f1f1f1}.file-menu[_ngcontent-%COMP%]   .file-options-nav[_ngcontent-%COMP%]   .file-option[_ngcontent-%COMP%]{cursor:pointer;padding-top:12px}.file-menu[_ngcontent-%COMP%]   .file-options-nav[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:#7378ff;font-weight:700}.file-contents[_ngcontent-%COMP%]{display:flex;flex:1}"]}),e})();function Ri(e,t){if(1&e&&d.Mb(0,"error-list",2),2&e){const e=d.dc();d.jc("errors",e.errors)}}let Oi=(()=>{class e{constructor(e){this.editorService=e,this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>{this.errors=e.errors.syntaxErrors,console.log("ERRORS:",this.errors)}))}ngOnDestroy(){this.subs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u))},e.\u0275cmp=d.Fb({type:e,selectors:[["editor-errors"]],decls:2,vars:1,consts:[[1,"page-container","p-2"],[3,"errors",4,"ngIf"],[3,"errors"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Cc(1,Ri,1,1,"error-list",1),d.Qb()),2&e&&(d.Ab(1),d.jc("ngIf",t.errors))},directives:[i.t,le],styles:[".page-container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;flex:1}.page-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}"]}),e})();function Ii(e,t){if(1&e&&d.Mb(0,"blu-dir-tree",14),2&e){const e=d.dc();d.jc("foldersOnly",!0)("selectedPath",e.selectedPath)("activePath",e.activePath)}}let Ei=(()=>{class e{constructor(e,t,n,i){this.bluDirTreeService=e,this.editorService=t,this.appEnvironmentService=n,this.tooltipService=i,this.searchTerm="",this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.pipe(Object(v.a)(1)).subscribe(e=>{this.hasPath=!!e.rootDestination&&"./"!==e.rootDestination,this.pathString=this.hasPath?e.rootDestination:"[ destination not selected ]";const t=this.appEnvironmentService.currentEnvironmentState["last-console-path"];this.selectedPath=this.hasPath?e.rootDestination:null,this.activePath=this.hasPath?e.rootDestination:t,this.isReady=!0})),this.subs.add(this.bluDirTreeService.selectedItem$.subscribe(e=>{e.item.isDir&&(this.selectedItem=e.item,e.userSelected&&(this.pathString=e.item.path,this.appEnvironmentService.setEnvironmentState("last-console-path",e.item.path),this.editorService.setRootDestination(e.item.path),this.hasPath=!0,this.editorService.reRender()))})),this.showTip=!this.tooltipService.hasSeenTooltip("generator-destination-main-tooltip")}ngOnDestroy(){this.subs.unsubscribe()}dismissTooltip(e){this.showTip=!1,this.tooltipService.markTooltipAsSeen(e)}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(ei.a),d.Lb(u),d.Lb(hn.a),d.Lb(h.a))},e.\u0275cmp=d.Fb({type:e,selectors:[["editor-destination"]],decls:20,vars:7,consts:[[1,"section-tip"],[1,"d-flex","align-items-center","section-tip-holder"],[1,"text-green"],[1,"fa","fa-exclamation-circle","fa-2x"],[1,"pl-3","tip-message"],[1,"as-link",3,"routerLink"],[1,"ml-auto","mr-3"],["mat-button","",3,"click"],[1,"page-container"],[1,"page-header","align-items-center"],[1,"pl-3","text-small","text-muted","flex-shrink-0"],[1,"flex-shrink-1","ellipsis","pl-3"],[1,"p-4","d-flex","flex-grow-1"],[3,"foldersOnly","selectedPath","activePath",4,"ngIf"],[3,"foldersOnly","selectedPath","activePath"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Mb(3,"i",3),d.Qb(),d.Rb(4,"div",4),d.Ec(5," This is where you select "),d.Rb(6,"span",5),d.Ec(7,"where the generated files will go"),d.Qb(),d.Ec(8," in your codebase. "),d.Qb(),d.Rb(9,"div",6),d.Rb(10,"button",7),d.Zb("click",(function(){return t.dismissTooltip("generator-destination-main-tooltip")})),d.Ec(11,"Dismiss"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(12,"div",8),d.Rb(13,"div",9),d.Rb(14,"div",10),d.Ec(15," Select where the generated files will go: "),d.Qb(),d.Rb(16,"div",11),d.Ec(17),d.Qb(),d.Qb(),d.Rb(18,"div",12),d.Cc(19,Ii,1,3,"blu-dir-tree",13),d.Qb(),d.Qb()),2&e&&(d.Db("show-tip",t.showTip),d.Ab(6),d.jc("routerLink","/documentation/generator/destination"),d.Ab(10),d.Db("color-red",!t.hasPath),d.Ab(1),d.Fc(t.pathString),d.Ab(2),d.jc("ngIf",t.isReady))},directives:[r.d,m.b,i.t,ni.a],styles:[".page-container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}.page-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.page-header[_ngcontent-%COMP%]{display:flex;flex:0 0 40px;border-bottom:1px solid #f1f1f1}.color-red[_ngcontent-%COMP%]{color:#f08080}"]}),e})();var Pi=n("3E0/"),yi=n("9F52"),Qi=n("Xa2L"),Fi=n("vazy");function wi(e,t){1&e&&(d.Rb(0,"div",20),d.Ec(1,"(And Overwrite Files)"),d.Qb())}function Ai(e,t){if(1&e&&(d.Pb(0),d.Cc(1,wi,2,0,"div",19),d.Ob()),2&e){const e=d.dc();d.Ab(1),d.jc("ngIf",e.hasOverwriteFiles)}}function ji(e,t){if(1&e){const e=d.Sb();d.Pb(0),d.Rb(1,"div",21),d.Zb("click",(function(){return d.rc(e),d.dc().reset()})),d.Ec(2,"run again"),d.Qb(),d.Ob()}}function _i(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",24),d.Zb("click",(function(){return d.rc(e),d.dc(2).selectAddFiles()})),d.Mb(1,"i",25),d.Ec(2," The generator must have at least one "),d.Rb(3,"span",26),d.Ec(4,"template file"),d.Qb(),d.Ec(5,". "),d.Mb(6,"i",27),d.Qb()}}function ki(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",24),d.Zb("click",(function(){return d.rc(e),d.dc(2).selectInputs()})),d.Mb(1,"i",25),d.Ec(2," You must provide all required "),d.Rb(3,"span",26),d.Ec(4,"inputs"),d.Qb(),d.Ec(5," before proceeding. "),d.Mb(6,"i",27),d.Qb()}}function Di(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",24),d.Zb("click",(function(){return d.rc(e),d.dc(2).selectDestination()})),d.Mb(1,"i",25),d.Ec(2," You must select a "),d.Rb(3,"span",26),d.Ec(4,"destination"),d.Qb(),d.Ec(5," before proceeding. "),d.Mb(6,"i",27),d.Qb()}}function Ti(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",24),d.Zb("click",(function(){return d.rc(e),d.dc(2).selectErrors()})),d.Mb(1,"i",25),d.Ec(2," You must fix all template "),d.Rb(3,"span",26),d.Ec(4,"errors"),d.Qb(),d.Ec(5," before proceeding. "),d.Mb(6,"i",27),d.Qb()}}function Li(e,t){1&e&&d.Mb(0,"i",34)}function Ni(e,t){1&e&&d.Mb(0,"i",35)}function $i(e,t){if(1&e&&(d.Rb(0,"div",28),d.Rb(1,"div",29),d.Cc(2,Li,1,0,"i",30),d.Cc(3,Ni,1,0,"i",31),d.Qb(),d.Rb(4,"div",17),d.Rb(5,"div",17),d.Ec(6),d.Qb(),d.Rb(7,"div",32),d.Mb(8,"file-list",33),d.Qb(),d.Qb(),d.Qb()),2&e){const e=d.dc(2);d.Ab(2),d.jc("ngIf",!e.hasOverwriteFiles),d.Ab(1),d.jc("ngIf",e.hasOverwriteFiles),d.Ab(3),d.Fc(e.generateMessage),d.Ab(2),d.jc("files",e.generatedFiles)("showPathAsRelative",!0)("highlightFiles",!0)}}function Zi(e,t){if(1&e&&(d.Pb(0),d.Cc(1,_i,7,0,"div",22),d.Cc(2,ki,7,0,"div",22),d.Cc(3,Di,7,0,"div",22),d.Cc(4,Ti,7,0,"div",22),d.Cc(5,$i,9,6,"div",23),d.Ob()),2&e){const e=d.dc();d.Ab(1),d.jc("ngIf",!e.hasFiles),d.Ab(1),d.jc("ngIf",e.hasInputErrors),d.Ab(1),d.jc("ngIf",!e.hasRootDestination),d.Ab(1),d.jc("ngIf",e.hasSyntaxErrors),d.Ab(1),d.jc("ngIf",e.canGenerate)}}function Ui(e,t){1&e&&(d.Pb(0),d.Rb(1,"div",36),d.Rb(2,"div"),d.Mb(3,"mat-spinner",37),d.Qb(),d.Rb(4,"div",38),d.Ec(5,"generating..."),d.Qb(),d.Qb(),d.Ob()),2&e&&(d.Ab(3),d.jc("diameter",20))}function Gi(e,t){if(1&e&&(d.Pb(0),d.Rb(1,"div",36),d.Rb(2,"div",29),d.Mb(3,"i",39),d.Qb(),d.Rb(4,"div",17),d.Rb(5,"div",17),d.Ec(6,"Following files have been generated:"),d.Qb(),d.Rb(7,"div",32),d.Mb(8,"file-list",40),d.Qb(),d.Qb(),d.Qb(),d.Ob()),2&e){const e=d.dc();d.Ab(8),d.jc("files",e.executeResult.generatedFiles)("showPathAsRelative",!0)("highlightFiles",!0)("visibleFiles",4)}}function Ji(e,t){if(1&e&&(d.Rb(0,"div",41),d.Rb(1,"div",42),d.Rb(2,"div",17),d.Mb(3,"i",43),d.Qb(),d.Rb(4,"div",44),d.Ec(5,"Further Instructions:"),d.Qb(),d.Qb(),d.Rb(6,"div",45),d.Mb(7,"editor-run-success",46),d.Qb(),d.Qb()),2&e){const e=d.dc();d.Ab(7),d.jc("onSuccess",null==e.executeResult?null:e.executeResult.onSuccess)}}let Vi=(()=>{class e{constructor(e,t){this.editorService=e,this.tooltipService=t,this.inputs={},this.generatingState=ze.a.IDLE,this.actionState=ze.a,this.subs=new f.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(e=>{this.state=e,this.hasRootDestination=this.editorService.hasRootDestination(),this.hasInputErrors=(null==e?void 0:e.errors.inputErrors.length)>0,this.hasSyntaxErrors=(null==e?void 0:e.errors.syntaxErrors.length)>0,this.hasFiles=this.editorService.hasFiles(),this.canGenerate=this.editorService.canGenerate(),this.hasOverwriteFiles=this.state.executeResult.overwriteFiles.length>0,this.generatedFiles=this.mergeFiles(e.executeResult.allFiles.map(e=>e.relativeDestination),e.executeResult.overwriteFiles)})),this.showTip=!this.tooltipService.hasSeenTooltip("generator-run-main-tooltip")}mergeFiles(e,t){const n=[];let i=0,r=0;return e.forEach(e=>r=Math.max(r,e.length)),e.forEach(e=>{let o="";t.includes(e)&&(o=" ".repeat(r-e.length+5)+"(will be overwritten)",i++),n.push(e+o)}),0===i?this.generateMessage="The following files will be generated:":i&&(this.generateMessage=(i===e.length?"Generated":"Some generated")+" files will overwrite the existing files in your codebase:"),n}ngOnDestroy(){this.subs.unsubscribe()}reset(){this.generatingState=ze.a.IDLE,this.editorService.deleteUserInput("f"),this.editorService.reRender()}generate(){this.canGenerate&&this.generatingState===ze.a.IDLE&&(this.generatingState=ze.a.PENDING,this.subs.add(this.editorService.generate(this.hasOverwriteFiles).pipe(Object(Pi.a)(250)).subscribe(e=>{this.executeResult=e,this.generatingState=ze.a.SUCCESS},e=>this.generatingState=ze.a.ERROR)))}selectDestination(){this.editorService.selectDestination()}selectInputs(){this.editorService.selectInputs()}selectErrors(){this.editorService.selectErrors()}selectFiles(){this.editorService.selectFiles()}dismissTooltip(e){this.showTip=!1,this.tooltipService.markTooltipAsSeen(e)}selectAddFiles(){this.editorService.selectAddFilesMenu()}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u),d.Lb(h.a))},e.\u0275cmp=d.Fb({type:e,selectors:[["editor-run"]],decls:29,vars:11,consts:[[1,"section-tip"],[1,"d-flex","align-items-center","section-tip-holder"],[1,"text-green"],[1,"fa","fa-exclamation-circle","fa-2x"],[1,"pl-3","tip-message"],[1,"as-link",3,"routerLink"],[1,"ml-auto","mr-3"],["mat-button","",3,"click"],[1,"page-container"],[1,"page-header","align-items-center"],[1,"pl-3","text-small","text-muted","flex-shrink-0"],[1,"p-4","d-flex","flex-grow-1","flex-column"],[1,"d-flex","align-items-start"],[1,"run-button-holder","text-center","pt-2"],["mat-button","","mat-raised-button","",1,"run-button",3,"click"],[1,"fa","fa-terminal"],[4,"ngIf"],[1,""],["class","p-2 on-success-holder",4,"ngIf"],["class","text-muted text-small pt-2",4,"ngIf"],[1,"text-muted","text-small","pt-2"],[1,"as-link","text-small","pt-2",3,"click"],["class","cursor-pointer p-1",3,"click",4,"ngIf"],["class","cursor-pointer p-1 d-flex align-items-center",4,"ngIf"],[1,"cursor-pointer","p-1",3,"click"],[1,"fa","fa-exclamation-triangle","color-error"],[1,"as-link"],[1,"far","fa-arrow-alt-circle-right","text-muted"],[1,"cursor-pointer","p-1","d-flex","align-items-center"],[1,"px-3","align-self-start"],["class","fa fa-play color-success text-small",4,"ngIf"],["class","fa fa-exclamation-triangle color-warning text-small",4,"ngIf"],[1,"pl-3","text-muted"],[3,"files","showPathAsRelative","highlightFiles"],[1,"fa","fa-play","color-success","text-small"],[1,"fa","fa-exclamation-triangle","color-warning","text-small"],[1,"p-1","d-flex","align-items-center"],[3,"diameter"],[1,"pl-2","align-self-start"],[1,"fa","fa-check","color-success","text-small"],[3,"files","showPathAsRelative","highlightFiles","visibleFiles"],[1,"p-2","on-success-holder"],[1,"pl-1","d-flex","align-items-start",2,"border-bottom","1px solid #F1F1F1"],[1,"far","fa-clipboard","text-small","text-muted"],[1,"ml-2"],[1,"pt-2","on-success-message"],[3,"onSuccess"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Mb(3,"i",3),d.Qb(),d.Rb(4,"div",4),d.Ec(5," Finally, you can "),d.Rb(6,"span",5),d.Ec(7,"run the generator"),d.Qb(),d.Ec(8," here once everything required has been provided. If any requirements are missing you\u2019ll see them listed here. "),d.Qb(),d.Rb(9,"div",6),d.Rb(10,"button",7),d.Zb("click",(function(){return t.dismissTooltip("generator-run-main-tooltip")})),d.Ec(11,"Dismiss"),d.Qb(),d.Qb(),d.Qb(),d.Qb(),d.Rb(12,"div",8),d.Rb(13,"div",9),d.Rb(14,"div",10),d.Ec(15," Run the generator: "),d.Qb(),d.Qb(),d.Rb(16,"div",11),d.Rb(17,"div",12),d.Rb(18,"div",13),d.Rb(19,"button",14),d.Zb("click",(function(){return t.generate()})),d.Mb(20,"i",15),d.Ec(21," Run "),d.Qb(),d.Cc(22,Ai,2,1,"ng-container",16),d.Cc(23,ji,3,0,"ng-container",16),d.Qb(),d.Rb(24,"div",17),d.Cc(25,Zi,6,5,"ng-container",16),d.Cc(26,Ui,6,1,"ng-container",16),d.Cc(27,Gi,9,4,"ng-container",16),d.Qb(),d.Qb(),d.Cc(28,Ji,8,1,"div",18),d.Qb(),d.Qb()),2&e&&(d.Db("show-tip",t.showTip),d.Ab(6),d.jc("routerLink","/documentation/generator/run"),d.Ab(13),d.Db("run-disabled",!t.canGenerate||t.generatingState!==t.actionState.IDLE),d.Ab(3),d.jc("ngIf",t.generatingState===t.actionState.IDLE),d.Ab(1),d.jc("ngIf",t.generatingState!==t.actionState.IDLE),d.Ab(2),d.jc("ngIf",t.generatingState===t.actionState.IDLE),d.Ab(1),d.jc("ngIf",t.generatingState===t.actionState.PENDING),d.Ab(1),d.jc("ngIf",t.generatingState===t.actionState.SUCCESS),d.Ab(1),d.jc("ngIf",t.generatingState===t.actionState.SUCCESS&&!(null==t.executeResult||!t.executeResult.onSuccess)))},directives:[r.d,m.b,i.t,yi.a,Qi.b,Fi.a],styles:[".page-container[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}.page-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.page-header[_ngcontent-%COMP%]{display:flex;flex:0 0 40px;border-bottom:1px solid #f1f1f1}.color-error[_ngcontent-%COMP%]{color:#f08080}.color-success[_ngcontent-%COMP%], .text-green[_ngcontent-%COMP%]{color:#3db058!important}.color-warning[_ngcontent-%COMP%]{color:#fc874b}[_nghost-%COMP%]     .toggle-files-text{color:#6c757d!important}.mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], [_nghost-%COMP%]     .mat-progress-spinner circle{stroke:#3db058!important}.on-success-holder[_ngcontent-%COMP%]{max-width:1000px}.on-success-message[_ngcontent-%COMP%]{line-height:1.8}.run-button-holder[_ngcontent-%COMP%]{padding:0 40px;text-align:right}.run-button[_ngcontent-%COMP%]{background-color:#3db058;color:#fff}.run-button.run-disabled[_ngcontent-%COMP%]{opacity:.3;background-color:#333;cursor:not-allowed}"]}),e})();function zi(e,t){if(1&e){const e=d.Sb();d.Rb(0,"div",17),d.Zb("click",(function(){return d.rc(e),d.dc().selectErrors()})),d.Ec(1," Errors "),d.Qb()}if(2&e){const e=d.dc();d.Db("nav-selected","errors"===(null==e.state?null:e.state.navSection))}}function Hi(e,t){1&e&&(d.Pb(0),d.Mb(1,"editor-inputs"),d.Ob())}function qi(e,t){1&e&&(d.Pb(0),d.Mb(1,"editor-files"),d.Ob())}function Bi(e,t){1&e&&(d.Pb(0),d.Mb(1,"editor-errors"),d.Ob())}function Ki(e,t){1&e&&(d.Pb(0),d.Mb(1,"editor-destination"),d.Ob())}function Wi(e,t){1&e&&(d.Pb(0),d.Mb(1,"editor-run"),d.Ob())}const Yi=r.f.forChild([{path:"",component:(()=>{class e{constructor(e,t,n,i,r){this.editorService=e,this.activatedRoute=t,this.appStateService=n,this.appMenuService=i,this.router=r,this.inputs={},this.subs=new f.a,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngOnInit(){var e;const t=this.activatedRoute.snapshot.queryParams;if("header"===t.ref&&this.appMenuService.hasCurrentGenerator()){const e=this.appMenuService.currentGeneratorState;this.itemId=e.executeResult.executeContext.item.id,this.inputs=e.inputs,this.editorService.setState(e),this.preview()}else this.itemId=t.itemId,this.setInputs(t.inputs),this.editorService.setRootDestination(null!==(e=t.rootDestination)&&void 0!==e?e:"./"),this.itemId?this.preview():this.appStateService.openBluConsole();this.subs.add(this.editorService.state$.subscribe(e=>this.setState(e)))}setState(e){this.state=e,this.hasRootDestination=this.editorService.hasRootDestination(),this.hasInputErrors=(null==e?void 0:e.errors.inputErrors.length)>0,this.canGenerate=this.editorService.canGenerate(),this.appMenuService.storeCurrentGeneratorState(e)}setInputs(e){try{const t=JSON.parse(e);this.inputs=Object.assign({},this.inputs,t)}catch(t){this.inputs={}}}ngOnDestroy(){this.subs.unsubscribe()}selectInputs(){this.editorService.selectInputs()}preview(){this.editorService.preview(this.itemId,this.inputs)}selectErrors(){this.editorService.selectErrors()}selectFiles(){this.editorService.selectFiles()}selectDestination(){this.editorService.selectDestination()}selectRun(){this.editorService.selectRun()}}return e.\u0275fac=function(t){return new(t||e)(d.Lb(u),d.Lb(r.a),d.Lb(p.a),d.Lb(g.a),d.Lb(r.c))},e.\u0275cmp=d.Fb({type:e,selectors:[["editor"]],features:[d.zb([u])],decls:37,vars:28,consts:[[1,"editor"],[1,"editor-body"],[1,"editor-sections"],[1,"sections-nav","align-items-end"],[1,"section-nav-item","d-flex","align-items-center","justify-content-center","left-corner",3,"click"],[1,"text-small","nav-counter"],[1,"arrow_box"],[1,"section-nav-item","d-flex","align-items-center","justify-content-center","padded",3,"click"],[1,"error-icon","fa","fa-exclamation-triangle","ml-2"],[1,"success-icon","fa","fa-check","ml-2","text-success","text-small"],[1,"section-nav-item","d-flex","align-items-center","justify-content-center","right-corner",3,"click"],[1,"fa","fa-play","ml-2","text-tiny","run-icon"],["class","section-nav-item error-nav d-flex align-items-center justify-content-center tab-corners",3,"nav-selected","click",4,"ngIf"],[1,"section-nav-border"],[1,"horizontal-spacer"],[1,"editor-contents"],[4,"ngIf"],[1,"section-nav-item","error-nav","d-flex","align-items-center","justify-content-center","tab-corners",3,"click"]],template:function(e,t){1&e&&(d.Rb(0,"div",0),d.Rb(1,"div",1),d.Rb(2,"div",2),d.Rb(3,"div",3),d.Rb(4,"div",4),d.Zb("click",(function(){return t.selectFiles()})),d.Rb(5,"span",5),d.Ec(6,"1.\xa0"),d.Qb(),d.Ec(7," Generator "),d.Mb(8,"div",6),d.Qb(),d.Rb(9,"div",7),d.Zb("click",(function(){return t.selectInputs()})),d.Rb(10,"span",5),d.Ec(11,"2.\xa0"),d.Qb(),d.Ec(12," Inputs "),d.Mb(13,"i",8),d.Mb(14,"i",9),d.Mb(15,"div",6),d.Qb(),d.Rb(16,"div",7),d.Zb("click",(function(){return t.selectDestination()})),d.Rb(17,"span",5),d.Ec(18,"3.\xa0"),d.Qb(),d.Ec(19," Destination "),d.Mb(20,"i",8),d.Mb(21,"i",9),d.Mb(22,"div",6),d.Qb(),d.Rb(23,"div",10),d.Zb("click",(function(){return t.selectRun()})),d.Rb(24,"span",5),d.Ec(25,"4.\xa0"),d.Qb(),d.Ec(26," Run "),d.Mb(27,"i",11),d.Qb(),d.Cc(28,zi,2,2,"div",12),d.Qb(),d.Qb(),d.Mb(29,"div",13),d.Mb(30,"div",14),d.Rb(31,"div",15),d.Cc(32,Hi,2,0,"ng-container",16),d.Cc(33,qi,2,0,"ng-container",16),d.Cc(34,Bi,2,0,"ng-container",16),d.Cc(35,Ki,2,0,"ng-container",16),d.Cc(36,Wi,2,0,"ng-container",16),d.Qb(),d.Qb(),d.Qb()),2&e&&(d.Ab(4),d.Db("nav-selected","file"===(null==t.state?null:t.state.navSection)),d.Ab(5),d.Db("has-errors",t.hasInputErrors)("has-no-errors",!t.hasInputErrors)("nav-selected","inputs"===(null==t.state?null:t.state.navSection)),d.Ab(7),d.Db("has-errors",!t.hasRootDestination)("has-no-errors",t.hasRootDestination)("nav-selected","destination"===(null==t.state?null:t.state.navSection)),d.Ab(7),d.Db("nav-selected","run"===(null==t.state?null:t.state.navSection)),d.Ab(4),d.Db("run-disabled",!t.canGenerate),d.Ab(1),d.jc("ngIf",(null==t.state?null:t.state.errors.syntaxErrors.length)>0),d.Ab(1),d.Db("has-error",(null==t.state?null:t.state.errors.syntaxErrors.length)>0)("nav-selected","errors"===(null==t.state?null:t.state.navSection)),d.Ab(3),d.jc("ngIf","inputs"===(null==t.state?null:t.state.navSection)),d.Ab(1),d.jc("ngIf","file"===(null==t.state?null:t.state.navSection)),d.Ab(1),d.jc("ngIf","errors"===(null==t.state?null:t.state.navSection)),d.Ab(1),d.jc("ngIf","destination"===(null==t.state?null:t.state.navSection)),d.Ab(1),d.jc("ngIf","run"===(null==t.state?null:t.state.navSection)))},directives:[i.t,Ve,Mi,Oi,Ei,Vi],styles:['[_nghost-%COMP%]{display:flex;flex:1}.editor[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.editor[_ngcontent-%COMP%]   .editor-header[_ngcontent-%COMP%]{height:20px;background-color:#fff;border-radius:5px}.editor[_ngcontent-%COMP%]   .horizontal-spacer[_ngcontent-%COMP%]{height:4px;flex:0 4px}.editor[_ngcontent-%COMP%]   .section-nav-border[_ngcontent-%COMP%]{height:2px;border-radius:1px;opacity:.5}.editor[_ngcontent-%COMP%]   .section-nav-border.nav-selected[_ngcontent-%COMP%]{background-color:#7378ff!important}.editor[_ngcontent-%COMP%]   .section-nav-border.has-error[_ngcontent-%COMP%]{background-color:#f08080}.editor[_ngcontent-%COMP%]   .run-icon[_ngcontent-%COMP%]{color:#3db058}.editor[_ngcontent-%COMP%]   .run-icon.run-disabled[_ngcontent-%COMP%]{opacity:.6;color:#f08080}.editor[_ngcontent-%COMP%]   .editor-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.editor[_ngcontent-%COMP%]   .editor-body[_ngcontent-%COMP%]   .editor-contents[_ngcontent-%COMP%]{display:flex;flex:1}.tab-corners[_ngcontent-%COMP%]{border-radius:5px 5px 0 0}.editor-sections[_ngcontent-%COMP%]{display:flex;flex:0 0 40px}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]{display:flex;flex:0 0 100%;border-radius:5px 5px 0 0;padding-right:5px}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item[_ngcontent-%COMP%]{min-width:160px;background-color:#fff;text-align:center;height:100%;cursor:pointer;position:relative}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item[_ngcontent-%COMP%]   .nav-counter[_ngcontent-%COMP%]{color:#6c757d;display:none}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.left-corner[_ngcontent-%COMP%]{border-radius:5px 0 0 5px}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.right-corner[_ngcontent-%COMP%]{border-radius:0 5px 5px 0}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.padded[_ngcontent-%COMP%]{padding-left:20px}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.error-nav[_ngcontent-%COMP%]{margin-left:60px;background-color:#f08080;color:#fff}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{display:none}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.has-errors[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%], .editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.has-no-errors[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{display:block;color:#f08080}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.nav-selected[_ngcontent-%COMP%]{background-color:#7378ff!important;color:#fff!important}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.nav-selected[_ngcontent-%COMP%]   .nav-counter[_ngcontent-%COMP%], .editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.nav-selected[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#fff!important}.editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.nav-selected[_ngcontent-%COMP%]   .arrow_box[_ngcontent-%COMP%]:after, .editor-sections[_ngcontent-%COMP%]   .sections-nav[_ngcontent-%COMP%]   .section-nav-item.nav-selected[_ngcontent-%COMP%]   .arrow_box[_ngcontent-%COMP%]:before{border-left-color:#7378ff!important}.destination[_ngcontent-%COMP%]:hover{color:#5b8adc!important;cursor:pointer}.command[_ngcontent-%COMP%]{font-size:1.1rem}.text-bold[_ngcontent-%COMP%]{font-weight:700}.has-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px dashed red}.has-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.item-selector[_ngcontent-%COMP%]{font-size:.8rem;border-bottom:1px solid #f1f1f1}.item-selector[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border-top:1px solid #f1f1f1!important;border-left:1px solid #f1f1f1!important;border-right:1px solid #f1f1f1!important;background-color:#f1f1f1}.item-selector[_ngcontent-%COMP%]   .selector-section[_ngcontent-%COMP%]{border-top:1px solid #fff;border-left:1px solid #fff;border-right:1px solid #fff;padding:3px 5px;cursor:pointer}.arrow_box[_ngcontent-%COMP%]{position:absolute;right:0;height:100%;width:20px;z-index:5}.arrow_box.arrow_box[_ngcontent-%COMP%]:after{border-left-color:#fff;border-width:16px;margin-top:-16px}.arrow_box.arrow_box[_ngcontent-%COMP%]:before{border-left-color:#eaeded;border-width:20px;margin-top:-20px}.arrow_box[_ngcontent-%COMP%]:after, .arrow_box[_ngcontent-%COMP%]:before{left:100%;top:50%;border:solid transparent;content:"";height:0;width:0;position:absolute;pointer-events:none}']}),e})()}]);var Xi=n("xyCH"),er=n("QibW");let tr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,x.g,He.b,be.m,m.c,er.c,be.B,fe.b]]}),e})(),nr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,Xi.a,m.c,tr,O.c,I.b]]}),e})(),ir=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,be.m,fe.b,O.c,I.b]]}),e})(),rr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,nr,m.c,ir,r.f]]}),e})(),or=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,O.c,I.b,m.c]]}),e})(),cr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,x.g,He.b,be.m,m.c,er.c,be.B,fe.b]]}),e})(),sr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,x.g,He.b,be.m,m.c,er.c,be.B,fe.b]]}),e})(),ar=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,x.g,He.b,be.m,m.c,er.c,be.B,fe.b,rt.b,I.b]]}),e})(),lr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,or,Wt.b,O.c,cr,sr,ar,I.b]]}),e})(),dr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,lr]]}),e})(),br=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,Wt.b]]}),e})(),ur=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,br]]}),e})(),fr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,dn.b]]}),e})(),pr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,dn.b,be.m]]}),e})(),gr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,pr,fr]]}),e})();var hr=n("3V0h"),mr=n("y2UV"),vr=n("CaBZ"),xr=n("f4ua");let Cr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,Xi.a,r.f,Wt.b]]}),e})(),Sr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,r.f,Wt.b]]}),e})(),Mr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c]]}),e})();var Rr=n("9R0s"),Or=n("SWd6"),Ir=n("95yg"),Er=n("aH/c");let Pr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,hr.a,mr.a,vr.a,xr.a,Cr,Sr,Mr,Rr.a,Or.a,Ir.a,Er.a,O.c,I.b,m.c,r.f]]}),e})(),yr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,be.B,ue.e,He.b,m.c]]}),e})();var Qr=n("0ymr");let Fr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,Qr.a,m.c]]}),e})(),wr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c]]}),e})(),Ar=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,yr,Fr,wr,m.c]]}),e})(),jr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,dr,ur,gr,Pr,Ar,m.c,r.f]]}),e})(),_r=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,Mr]]}),e})();var kr=n("Wp6s"),Dr=n("zkoq"),Tr=n("0MNC");n("0EQZ"),n("7+OI"),n("2Vo4"),n("LRne"),n("pLZG"),n("1G5W"),n("8LU1"),n("cH1L");let Lr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)}}),e})();n("VRyK"),n("lJxs");let Nr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},imports:[[Lr,pe.h],pe.h]}),e})();var $r=n("+0xr");let Zr=(()=>{class e{constructor(){this.changes=new sn.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,n)=>{if(0==n||0==t)return"0 of "+n;const i=e*t;return`${i+1} \u2013 ${i<(n=Math.max(n,0))?Math.min(i+t,n):i+t} of ${n}`}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(d.Hb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Ur={provide:Zr,deps:[[new d.B,new d.K,Zr]],useFactory:function(e){return e||new Zr}};let Gr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[Ur],imports:[[i.c,m.c,fe.b,Wt.b]]}),e})();n("FtGj"),n("R0Ic"),n("u47x");let Jr=(()=>{class e{constructor(){this.changes=new sn.a,this.sortButtonLabel=e=>"Change sorting for "+e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(d.Hb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Vr={provide:Jr,deps:[[new d.B,new d.K,Jr]],useFactory:function(e){return e||new Jr}};let zr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[Vr],imports:[[i.c]]}),e})();var Hr=n("nLfN");let qr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},imports:[[pe.h],pe.h]}),e})();var Br=n("vxfF");n("xgIS"),n("7o/Q"),n("/uUt"),n("JX91"),n("R1ws");let Kr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},imports:[[i.c,pe.h,Hr.b,Br.b],Br.b,pe.h]}),e})();var Wr=n("MutI");let Yr=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,He.b,m.c,fe.b,er.c,kr.d,be.B,Dr.b,O.c,I.b,Tr.c,Nr,$r.a,Gr,zr,qr,Kr,Wr.d,Qr.a,r.f]]}),e})();var Xr=n("jAiH"),eo=n("R7WQ");let to=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,m.c,Qi.a,Xr.a,eo.a,r.f]]}),e})(),no=(()=>{class e{}return e.\u0275mod=d.Jb({type:e}),e.\u0275inj=d.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,Yi,m.c,rr,jr,_r,Wt.b,Yr,to]]}),e})()}}]);