(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{iGsW:function(t,e,n){"use strict";n.r(e),n.d(e,"AppEnvironmentModule",(function(){return k}));var i=n("ofXK"),c=n("tyNb"),o=n("quSY"),b=n("HdQx"),a=n("0IaG"),s=n("fXoL"),r=n("MrDi"),d=n("bTqV");let l=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e}ngOnInit(){this.selectedPath=this.data.rootPath}ngOnDestroy(){}close(){this.dialogRef.close(null)}setCodebasePath(t){this.selectedPath=t}select(){this.dialogRef.close(this.selectedPath)}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(a.a),s.Mb(a.h))},t.\u0275cmp=s.Gb({type:t,selectors:[["file-path-dialog"]],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"rootPath","foldersOnly","onSelectedPath"],["mat-dialog-actions","",3,"align"],["tabindex","-1","mat-button","","mat-dialog-close",""],["tabindex","-1","mat-button","",3,"click"]],template:function(t,e){1&t&&(s.Sb(0,"h1",0),s.Ec(1,"Select Path"),s.Rb(),s.Sb(2,"div",1),s.Sb(3,"file-path",2),s.ac("onSelectedPath",(function(t){return e.setCodebasePath(t)})),s.Rb(),s.Rb(),s.Sb(4,"div",3),s.Sb(5,"button",4),s.Ec(6,"Cancel"),s.Rb(),s.Sb(7,"button",5),s.ac("click",(function(){return e.select()})),s.Ec(8,"Select"),s.Rb(),s.Rb()),2&t&&(s.Bb(3),s.kc("rootPath",e.data.rootPath)("foldersOnly",!0),s.Bb(1),s.kc("align","end"))},directives:[a.i,a.f,r.a,a.c,d.b,a.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var u=n("3sFK"),p=n("oCqB"),m=n("3Pt+");function v(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Sb(1,"div",9),s.Ec(2),s.Sb(3,"button",10),s.ac("click",(function(){return s.sc(t),s.ec(3).editSeed=!0})),s.Ec(4,"Edit"),s.Rb(),s.Sb(5,"button",10),s.ac("click",(function(){s.sc(t);const e=s.ec(3);return e.test(e.environment.seed)})),s.Ec(6,"test"),s.Rb(),s.Rb(),s.Pb()}if(2&t){const t=s.ec(3);s.Bb(2),s.Gc("",t.environment.seed?t.environment.seed:"none"," ")}}function h(t,e){if(1&t){const t=s.Tb();s.Qb(0),s.Sb(1,"div",12),s.Sb(2,"div",13),s.Sb(3,"input",14),s.ac("ngModelChange",(function(e){return s.sc(t),s.ec(3).environment.seed=e})),s.Rb(),s.Rb(),s.Sb(4,"button",15),s.ac("click",(function(){return s.sc(t),s.ec(3).editSeed=!1})),s.Ec(5,"Cancel"),s.Rb(),s.Sb(6,"button",16),s.ac("click",(function(){return s.sc(t),s.ec(3).updateSeed()})),s.Ec(7,"Save"),s.Rb(),s.Rb(),s.Pb()}if(2&t){const t=s.ec(3);s.Bb(3),s.kc("ngModel",t.environment.seed),s.Bb(3),s.kc("disabled",!t.environment.seed)}}function S(t,e){if(1&t&&(s.Sb(0,"tr"),s.Sb(1,"td"),s.Sb(2,"div",9),s.Ec(3,"Seed:"),s.Rb(),s.Rb(),s.Sb(4,"td"),s.Cc(5,v,7,1,"ng-container",11),s.Cc(6,h,8,2,"ng-container",11),s.Rb(),s.Rb()),2&t){const t=s.ec(2);s.Bb(5),s.kc("ngIf",!t.editSeed),s.Bb(1),s.kc("ngIf",t.editSeed)}}function f(t,e){if(1&t){const t=s.Tb();s.Sb(0,"div",1),s.Sb(1,"h2",2),s.Sb(2,"span"),s.Nb(3,"i",3),s.Nb(4,"i",4),s.Rb(),s.Ec(5),s.Rb(),s.Sb(6,"table",5),s.Sb(7,"tr",6),s.Sb(8,"td",7),s.Ec(9," Name: "),s.Rb(),s.Sb(10,"td",6),s.Sb(11,"div",8),s.Ec(12),s.Rb(),s.Rb(),s.Rb(),s.Sb(13,"tr"),s.Sb(14,"td"),s.Ec(15,"Type:"),s.Rb(),s.Sb(16,"td"),s.Sb(17,"span",8),s.Ec(18),s.Rb(),s.Rb(),s.Rb(),s.Sb(19,"tr"),s.Sb(20,"td"),s.Sb(21,"div",9),s.Ec(22,"Codebase:"),s.Rb(),s.Rb(),s.Sb(23,"td"),s.Sb(24,"div",8),s.Ec(25),s.Sb(26,"button",10),s.ac("click",(function(){return s.sc(t),s.ec().addNewCodebase()})),s.Ec(27,"Change"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Cc(28,S,7,2,"tr",11),s.Rb(),s.Rb()}if(2&t){const t=s.ec();s.Bb(3),s.Eb("fa-dice-d6",t.isWorkspace()),s.Bb(1),s.Eb("fa-layer-group",!t.isWorkspace()),s.Bb(1),s.Gc(" Current ",null==t.environment?null:t.environment.type," "),s.Bb(7),s.Gc(" ",t.environment.name,""),s.Bb(6),s.Fc(t.environment.type),s.Bb(7),s.Gc("",t.environment.codebasePath," "),s.Bb(3),s.kc("ngIf",!t.isWorkSpace())}}const R=c.f.forChild([{path:"",component:(()=>{class t{constructor(t,e,n){this.appEnvironmentService=t,this.stackService=e,this.dialog=n,this.subs=new o.a}ngOnInit(){this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>this.environment=t))}isWorkSpace(){var t;return(null===(t=this.environment)||void 0===t?void 0:t.type)===b.a.Environment.Type.Workspace}ngOnDestroy(){}isWorkspace(){var t;return(null===(t=this.environment)||void 0===t?void 0:t.type)===b.a.Environment.Type.Workspace}addNewCodebase(){this.dialog.open(l,{data:{rootPath:this.environment.codebasePath},minWidth:"600px",minHeight:"210px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>{t&&this.switchCodebase(t)})}switchCodebase(t){this.appEnvironmentService.switchCodebase(this.environment.id,t)}updateSeed(){this.appEnvironmentService.updateSeed(this.environment.id,this.environment.seed).subscribe(t=>null),this.editSeed=!1}test(t){this.stackService.installSeedIntoCurrentEnvironment(t).subscribe(t=>{},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(u.a),s.Mb(p.a),s.Mb(a.b))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-environment"]],decls:1,vars:1,consts:[["class","p-2",4,"ngIf"],[1,"p-2"],[1,"text-capitalize"],[1,"fa","mt-1","mr-1"],[1,"fas","mt-1","mr-1"],[1,"table"],[1,"border-top-0"],[1,"border-top-0",2,"width","150px"],[1,"text-bold"],[1,""],["mat-button","","mat-raised-button","",1,"ml-2",3,"click"],[4,"ngIf"],[1,"d-flex"],[1,"pr-4","w-100"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["mat-button","","mat-raised-button","",1,"ml-auto",3,"click"],["mat-button","","mat-raised-button","",1,"ml-2",3,"disabled","click"]],template:function(t,e){1&t&&s.Cc(0,f,29,9,"div",0),2&t&&s.kc("ngIf",e.environment)},directives:[i.t,d.b,m.c,m.q,m.t],styles:[""]}),t})()}]);var g=n("lR5k");let k=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,R,d.c,m.l,g.b.forChild()]]}),t})()}}]);