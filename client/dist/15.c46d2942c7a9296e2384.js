(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{GWlk:function(t,i,n){"use strict";n.r(i),n.d(i,"CommunityModule",(function(){return A}));var c=n("ofXK"),e=n("tyNb"),s=n("quSY"),a=n("fXoL"),o=n("oCqB"),b=n("IYfF"),l=n("3sFK"),r=n("k1Ex"),d=n("nZ6g"),p=n("a8/g");let u=(()=>{class t{constructor(){}ngOnInit(){}ngOnDestroy(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=a.Fb({type:t,selectors:[["sj-logo"]],decls:9,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 51.72 59.29",2,"width","1.2rem"],["id","f1bb2710-77d4-487b-b3d6-66a264c303f0","data-name","Layer 2"],["id","bcd33a99-29c3-45c2-9a67-7af26df60dc6","data-name","Layer 1"],["d","M43.51,33.15,23.6,47.59a3.73,3.73,0,0,1-4.08,0L.84,34a1.72,1.72,0,0,1,0-3L8.11,25.8s7.36,5.43,9.69,7c.77.53,3.47-.4,4.19-.66a3.51,3.51,0,0,0,2.19-.61l10.61-7.7.08.06,8.64,6.26A1.72,1.72,0,0,1,43.51,33.15Z",2,"fill","#b3b4b3"],["d","M42.63,45.51,24,58.65a4.06,4.06,0,0,1-4.37,0L.9,45.51a1.77,1.77,0,0,1,0-3.08L4.43,40,19.58,50.62a4.06,4.06,0,0,0,4.37,0L39.11,40l3.52,2.48A1.77,1.77,0,0,1,42.63,45.51Z",2,"fill","#b3b4b3"],["d","M45.59,41.25l-4-2.72,5.67-4.83,4,2.59c.79.47.68,1.89-.41,2.74l-2.21,1.83A2.6,2.6,0,0,1,45.59,41.25Z",2,"fill","#b3b4b3"],["d","M44.09,17.13,36.83,22.4s-7.12-5.31-10.44-7.58c-1.09-.74-3.52,1-3.72,1.2a3.56,3.56,0,0,1,2.15.61l10,7.24-10.61,7.7a3.51,3.51,0,0,1-2.19.61,3.41,3.41,0,0,1-1.86-.61l-10-7.23h0L10,24.2,1.43,18a1.72,1.72,0,0,1,0-2.95L21.34.61a3.71,3.71,0,0,1,4.07,0L44.09,14.17A1.72,1.72,0,0,1,44.09,17.13Z",2,"fill","#b3b4b3"]],template:function(t,i){1&t&&(a.cc(),a.Rb(0,"svg",0),a.Rb(1,"title"),a.Ec(2,"sj-logo-icon-v1"),a.Qb(),a.Rb(3,"g",1),a.Rb(4,"g",2),a.Mb(5,"path",3),a.Mb(6,"path",4),a.Mb(7,"path",5),a.Mb(8,"path",6),a.Qb(),a.Qb(),a.Qb())},styles:[""]}),t})();var m=n("bTqV"),f=n("bv9b");function g(t,i){1&t&&(a.Rb(0,"div",8),a.Ec(1,"No public stacks available."),a.Qb())}function v(t,i){if(1&t&&(a.Rb(0,"p",19),a.Ec(1),a.Qb()),2&t){const t=a.dc(2).$implicit;a.Ab(1),a.Gc("Version: ",t.version,"")}}function h(t,i){if(1&t&&(a.Rb(0,"p",19),a.Ec(1),a.Qb()),2&t){const t=a.dc(2).$implicit,i=a.dc(2);a.Ab(1),a.Gc("Installs: ",i.formatInstallCount(t.metadata.installCount),"")}}function I(t,i){if(1&t&&(a.Rb(0,"p",19),a.Ec(1),a.Qb()),2&t){const t=a.dc(2).$implicit,i=a.dc(2);a.Ab(1),a.Gc("Updated: ",i.formatDate(t.lastUpdated),"")}}function k(t,i){if(1&t){const t=a.Sb();a.Rb(0,"div",18),a.Rb(1,"div",1),a.Rb(2,"p",19),a.Ec(3),a.Qb(),a.Cc(4,v,2,1,"p",20),a.Cc(5,h,2,1,"p",20),a.Cc(6,I,2,1,"p",20),a.Qb(),a.Rb(7,"div",21),a.Rb(8,"button",22),a.Zb("click",(function(){a.rc(t);const i=a.dc().$implicit;return a.dc(2).installStack(i)})),a.Ec(9,"Install Into Current "),a.Rb(10,"span",2),a.Ec(11),a.Qb(),a.Qb(),a.Rb(12,"button",22),a.Zb("click",(function(){a.rc(t);const i=a.dc().$implicit;return a.dc(2).installIntoNewWorkspace(i)})),a.Ec(13,"Install Into New Workspace"),a.Qb(),a.Qb(),a.Qb()}if(2&t){const t=a.dc().$implicit,i=a.dc(2);a.Ab(3),a.Fc(t.description||"No description"),a.Ab(1),a.jc("ngIf",t.version),a.Ab(1),a.jc("ngIf",null==t.metadata?null:t.metadata.installCount),a.Ab(1),a.jc("ngIf",t.lastUpdated),a.Ab(5),a.Fc(i.currentEnvironment.type)}}function Q(t,i){if(1&t){const t=a.Sb();a.Rb(0,"div",9),a.Rb(1,"div",10),a.Rb(2,"div",11),a.Rb(3,"div",0),a.Mb(4,"sj-logo"),a.Qb(),a.Rb(5,"div",0),a.Ec(6),a.Qb(),a.Rb(7,"div",12),a.Rb(8,"button",13),a.Zb("click",(function(){a.rc(t);const n=i.$implicit;return a.dc(2).installStack(n)})),a.Ec(9,"Install"),a.Qb(),a.Qb(),a.Rb(10,"div",14),a.Rb(11,"button",15),a.Zb("click",(function(){a.rc(t);const n=i.$implicit;return a.dc(2).toggleItemList(n)})),a.Mb(12,"i",16),a.Qb(),a.Qb(),a.Qb(),a.Cc(13,k,14,5,"div",17),a.Qb(),a.Qb()}if(2&t){const t=i.$implicit,n=a.dc(2);a.Ab(6),a.Fc(t.displayName),a.Ab(6),a.Db("fa-chevron-up",n.isItemOpen(t))("fa-chevron-down",!n.isItemOpen(t)),a.Ab(1),a.jc("ngIf",n.isItemOpen(t))}}function R(t,i){if(1&t&&(a.Pb(0),a.Cc(1,g,2,0,"div",5),a.Rb(2,"div",6),a.Cc(3,Q,14,6,"div",7),a.Qb(),a.Ob()),2&t){const t=a.dc();a.Ab(1),a.jc("ngIf",0===t.stacks.length),a.Ab(2),a.jc("ngForOf",t.stacks)}}function L(t,i){1&t&&(a.Rb(0,"div",1),a.Mb(1,"mat-progress-bar",23),a.Qb())}const w=e.f.forChild([{path:"",component:(()=>{class t{constructor(t,i,n,c,e,a){this.stackService=t,this.authService=i,this.appEnvironmentService=n,this.myItemsService=c,this.dialogService=e,this.appConsoleService=a,this.itemList={},this.subs=new s.a}ngOnInit(){this.subs.add(this.stackService.getPublicStacks().subscribe(t=>{this.stacks=t},t=>this.stacks=[])),this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>this.currentEnvironment=t)),this.subs.add(this.authService.isLoggedIn.subscribe(t=>this.isLoggedIn=t))}ngOnDestroy(){this.subs.unsubscribe()}installStack(t){this.appConsoleService.openBluConsole({command:"install "+t.displayName,extraInfo:{stack:t,source:"remote"}})}toggleItemList(t){const i=t.eid;this.itemList[i]=!this.itemList[i]}isItemOpen(t){return this.itemList[t.eid]}installIntoNewWorkspace(t){this.isLoggedIn?this.myItemsService.createNewWorkspace(t):this.dialogService.openMustLoginDialog()}formatDate(t){return new Date(t).toLocaleDateString()}formatInstallCount(t){return t<1e3?t:t<1e5?t-t%1e3:t<1e6?t-t%1e4:void 0}}return t.\u0275fac=function(i){return new(i||t)(a.Lb(o.a),a.Lb(b.a),a.Lb(l.a),a.Lb(r.a),a.Lb(d.a),a.Lb(p.a))},t.\u0275cmp=a.Fb({type:t,selectors:[["community"]],decls:7,vars:2,consts:[[1,"pl-2"],[1,"p-2"],[1,"text-capitalize"],[4,"ngIf","ngIfElse"],["loading",""],["class","text-small text-muted p-2",4,"ngIf"],[1,""],["class","p-2 align-top","style","width: 600px;",4,"ngFor","ngForOf"],[1,"text-small","text-muted","p-2"],[1,"p-2","align-top",2,"width","600px"],[1,"shadow","p-2","border","rounded"],[1,"d-flex","align-items-center"],[1,"ml-auto"],["mat-button","",3,"click"],[1,"ml-1"],["mat-button","","mat-icon-button","",3,"click"],[1,"fa"],["class","border-top p-2 d-flex align-items-start",4,"ngIf"],[1,"border-top","p-2","d-flex","align-items-start"],[1,"my-2"],["class","my-2",4,"ngIf"],[1,"ml-auto","p-2","border-left"],["mat-button","",1,"d-block",3,"click"],["mode","indeterminate"]],template:function(t,i){if(1&t&&(a.Rb(0,"div",0),a.Rb(1,"div",1),a.Rb(2,"h2",2),a.Ec(3,"Public Stacks"),a.Qb(),a.Qb(),a.Cc(4,R,4,2,"ng-container",3),a.Cc(5,L,2,0,"ng-template",null,4,a.Dc),a.Qb()),2&t){const t=a.oc(6);a.Ab(4),a.jc("ngIf",i.stacks)("ngIfElse",t)}},directives:[c.t,c.s,u,m.b,f.a],styles:[""]}),t})(),children:[]}]);var y=n("3Pt+"),S=n("qFsG"),E=n("+0xr");let C=(()=>{class t{}return t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({factory:function(i){return new(i||t)},providers:[],imports:[[c.c]]}),t})(),A=(()=>{class t{}return t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({factory:function(i){return new(i||t)},providers:[],imports:[[c.c,w,m.c,y.l,S.b,E.k,f.b,C]]}),t})()}}]);