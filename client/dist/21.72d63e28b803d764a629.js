(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"8kpP":function(t,e,n){"use strict";n.r(e),n.d(e,"StarterCodeModule",(function(){return I}));var r=n("ofXK"),o=n("tyNb"),i=n("quSY"),s=n("fXoL"),c=n("3sFK"),b=n("xm+p"),a=n("n2Wo"),d=n("0IaG"),l=n("bTqV"),u=n("3Pt+"),m=n("kmnG"),p=n("qFsG");function f(t,e){1&t&&(s.Rb(0,"mat-error"),s.Ec(1,"Input is required"),s.Qb())}let h=(()=>{class t{constructor(t){this.fb=t,this.onChange=new s.o}ngOnInit(){this.initForm(),this.formGroup.valueChanges.subscribe(t=>{this.onChange.emit(this.formGroup)})}initForm(){this.formGroup=this.fb.group({url:[this.model.url,[u.F.required]],postInstall:[this.model.postInstall,[]],preInstall:["",[]],script:["",[]]})}get f(){return this.formGroup.controls}addItem(t){this.f[t].push(this.fb.control(""))}deleteItem(t,e){this.f[t].removeAt(e)}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(u.f))},t.\u0275cmp=s.Fb({type:t,selectors:[["starter-code-form"]],inputs:{model:"model"},outputs:{onChange:"onChange"},decls:10,vars:2,consts:[[1,"mat-form",3,"formGroup"],[1,""],["placeholder","Web URL to a Public Git Repository","type","string","matInput","","formControlName","url","required",""],[4,"ngIf"],[1,"pt-2"],[1,"text-muted"],["rows","15","formControlName","postInstall",1,"post-install-input"]],template:function(t,e){1&t&&(s.Rb(0,"form",0),s.Rb(1,"div",1),s.Rb(2,"mat-form-field"),s.Mb(3,"input",2),s.Cc(4,f,2,0,"mat-error",3),s.Qb(),s.Rb(5,"div",4),s.Rb(6,"div",5),s.Ec(7,"Post Install Instructions:"),s.Qb(),s.Rb(8,"div",1),s.Mb(9,"textarea",6),s.Qb(),s.Qb(),s.Qb(),s.Qb()),2&t&&(s.jc("formGroup",e.formGroup),s.Ab(4),s.jc("ngIf",null==e.f.url||null==e.f.url.errors?null:e.f.url.errors.required))},directives:[u.H,u.s,u.k,m.c,p.a,u.c,u.r,u.i,u.C,r.t,m.b],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.post-install-input[_ngcontent-%COMP%]{width:100%;border:1px solid #b8b8b8;border-radius:5px;padding:8px}.post-install-input[_ngcontent-%COMP%]:focus{border:1px solid #b8b8b8!important}"]}),t})();function v(t,e){if(1&t){const t=s.Sb();s.Pb(0),s.Rb(1,"div",11),s.Zb("click",(function(){return s.rc(t),s.dc().goToStacks()})),s.Ec(2," Your stack must be published to assign starter code "),s.Mb(3,"i",12),s.Qb(),s.Ob()}}function g(t,e){if(1&t){const t=s.Sb();s.Rb(0,"starter-code-form",19),s.Zb("onChange",(function(e){return s.rc(t),s.dc(2).setForm(e)})),s.Qb()}if(2&t){const t=s.dc(2);s.jc("model",t.environment.seed)}}function R(t,e){if(1&t){const t=s.Sb();s.Pb(0),s.Rb(1,"div",13),s.Rb(2,"div",14),s.Rb(3,"div",15),s.Cc(4,g,1,1,"starter-code-form",16),s.Qb(),s.Rb(5,"div",17),s.Rb(6,"button",18),s.Zb("click",(function(){return s.rc(t),s.dc().saveGitRepo()})),s.Ec(7,"Save"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Ob()}if(2&t){const t=s.dc();s.Ab(4),s.jc("ngIf",t.environment),s.Ab(2),s.jc("disabled",!(null!=t.form&&t.form.valid))}}const x=o.f.forChild([{path:"",component:(()=>{class t{constructor(t,e,n,r){this.appEnvironmentService=t,this.navigationService=e,this.stackApiService=n,this.dialog=r,this.subs=new i.a}ngOnInit(){this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>{this.environment=t}))}ngOnDestroy(){this.subs.unsubscribe()}setForm(t){this.form=t}saveGitRepo(){this.stackApiService.saveStarterCode(this.environment.remote.id,this.form.value).subscribe(t=>console.log)}goToStacks(){this.navigationService.navigateTo(["my-items","stacks"])}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(c.a),s.Lb(b.a),s.Lb(a.a),s.Lb(d.b))},t.\u0275cmp=s.Fb({type:t,selectors:[["starter-code"]],decls:19,vars:2,consts:[[1,"p-2"],[1,"p-4","text-muted","rounded","border",2,"max-width","600px"],[1,"d-flex","align-items-start","pb-4"],[1,"text-center","text-muted",2,"width","25px"],[1,"fa","fa-code-branch"],[1,"pl-2"],[1,"text-center","text-muted",2,"width","30px"],[1,"fa","fa-download"],[1,"d-flex","align-items-start"],[1,"fa","fa-plus-circle"],[4,"ngIf"],[1,"text-center","p-4","border","rounded","mt-4","cursor-pointer",3,"click"],[1,"fa","fa-arrow-circle-right"],[1,"d-flex","flex-column","flex-grow-1","p-2","pt-5"],[1,""],[1,"",2,"max-width","600px"],[3,"model","onChange",4,"ngIf"],[1,"pt-2"],["mat-raised-button","",3,"disabled","click"],[3,"model","onChange"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Rb(2,"div",2),s.Rb(3,"div",3),s.Mb(4,"i",4),s.Qb(),s.Rb(5,"div",5),s.Ec(6,"You can add a public git repository to your stack."),s.Qb(),s.Qb(),s.Rb(7,"div",2),s.Rb(8,"div",6),s.Mb(9,"i",7),s.Qb(),s.Rb(10,"div",5),s.Ec(11,"When a user installs the stack, the git repository will be copied into the folder where the stack is being installed in. "),s.Qb(),s.Qb(),s.Rb(12,"div",8),s.Rb(13,"div",3),s.Mb(14,"i",9),s.Qb(),s.Rb(15,"div",5),s.Ec(16,"This way you can bundle your starter project code and generators together"),s.Qb(),s.Qb(),s.Qb(),s.Cc(17,v,4,0,"ng-container",10),s.Cc(18,R,8,2,"ng-container",10),s.Qb()),2&t&&(s.Ab(17),s.jc("ngIf",!(null!=e.environment.remote&&e.environment.remote.id)),s.Ab(1),s.jc("ngIf",null==e.environment.remote?null:e.environment.remote.id))},directives:[r.t,l.b,h],styles:["[_nghost-%COMP%]{display:flex;flex:1}"]}),t})(),children:[]}]);var Q=n("d3UM"),w=n("QibW");let C=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[r.c,m.e,u.B,Q.b,w.c,p.b]]}),t})(),I=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[r.c,x,C,l.c]]}),t})()}}]);