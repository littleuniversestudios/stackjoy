(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{X5JY:function(c,i,t){"use strict";t.r(i),t.d(i,"StackEditModule",(function(){return y}));var n=t("ofXK"),s=t("3Pt+"),e=t("bv9b"),a=t("tyNb"),r=t("quSY"),o=t("fXoL"),d=t("LvdB"),u=t("aECQ"),h=t("sCd9");function f(c,i){if(1&c){const c=o.jc();o.ic(0,"stack-form",8),o.uc("form",(function(i){return o.Rc(c),o.yc(2).setForm(i)})),o.hc()}if(2&c){const c=o.yc(2);o.Ec("model",c.stack)}}function l(c,i){1&c&&(o.ic(0,"span"),o.bd(1," Permission denied."),o.hc())}function b(c,i){if(1&c&&(o.ic(0,"span"),o.bd(1),o.hc()),2&c){const c=o.yc(3);o.Ob(1),o.cd(c.error)}}function g(c,i){if(1&c&&(o.ic(0,"div"),o.ic(1,"div",9),o.dc(2,"i",10),o.ic(3,"span",11),o.Zc(4,l,2,0,"span",12),o.Zc(5,b,2,1,"span",13),o.hc(),o.hc(),o.hc()),2&c){const c=o.yc(2);o.Ob(3),o.Ec("ngSwitch",c.error),o.Ob(1),o.Ec("ngSwitchCase","permission-denied")}}function m(c,i){if(1&c){const c=o.jc();o.ic(0,"div"),o.Zc(1,f,1,1,"stack-form",3),o.Zc(2,g,6,2,"div",4),o.ic(3,"div",5),o.ic(4,"button",6),o.uc("click",(function(){return o.Rc(c),o.yc().cancel()})),o.bd(5,"Cancel"),o.hc(),o.ic(6,"button",7),o.uc("click",(function(){return o.Rc(c),o.yc().save()})),o.bd(7,"Save"),o.hc(),o.hc(),o.hc()}if(2&c){const c=o.yc();o.Ob(1),o.Ec("ngIf",c.stack),o.Ob(1),o.Ec("ngIf",c.error),o.Ob(4),o.Ec("disabled",c.isInvalid)}}function v(c,i){1&c&&(o.ic(0,"div",0),o.dc(1,"mat-progress-bar",14),o.hc())}const p=a.e.forChild([{path:"",component:(()=>{class c{constructor(c,i,t,n){this.stackService=c,this.route=i,this.location=t,this.afAuth=n,this.isInvalid=!0,this.subs=new r.a}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.subs.add(this.afAuth.user.subscribe(c=>{this.user=c})),this.getItem()}ngOnDestroy(){this.subs.unsubscribe()}getItem(){this.acquiring=!0,this.stackService.getById(this.id).subscribe(c=>{this.stack=c,this.acquiring=!1})}cancel(){this.goBack()}save(){this.error=null,this.stack.update(this.form.value),this.stackService.update(this.stack).subscribe(c=>{this.goBack()},c=>{this.error=c.code})}setForm(c){this.form=c,this.form.valueChanges.subscribe(c=>this.isInvalid=this.form.invalid),setTimeout(()=>{var c;return this.isInvalid=null===(c=this.form)||void 0===c?void 0:c.invalid},0)}goBack(){this.location.back()}}return c.\u0275fac=function(i){return new(i||c)(o.cc(d.a),o.cc(a.a),o.cc(n.o),o.cc(u.a))},c.\u0275cmp=o.Wb({type:c,selectors:[["stack-edit"]],decls:6,vars:2,consts:[[1,"p-2"],[4,"ngIf","ngIfElse"],["loading",""],[3,"model","form",4,"ngIf"],[4,"ngIf"],[1,"pt-2"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-outline-primary",3,"disabled","click"],[3,"model","form"],[1,"py-2","text-warning"],[1,"fa","fa-exclamation-triangle","text-warning"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mode","indeterminate"]],template:function(c,i){if(1&c&&(o.ic(0,"h5"),o.bd(1,"Edit Stack"),o.hc(),o.ic(2,"div",0),o.Zc(3,m,8,3,"div",1),o.hc(),o.Zc(4,v,2,0,"ng-template",null,2,o.ad)),2&c){const c=o.Nc(5);o.Ob(3),o.Ec("ngIf",!i.acquiring)("ngIfElse",c)}},directives:[n.u,h.a,n.y,n.z,n.A,e.a],styles:[""]}),c})()}]);var k=t("W7NP");let y=(()=>{class c{}return c.\u0275mod=o.ac({type:c}),c.\u0275inj=o.Zb({factory:function(i){return new(i||c)},providers:[],imports:[[n.c,p,s.l,k.a,e.b]]}),c})()}}]);