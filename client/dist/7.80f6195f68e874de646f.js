(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{A4A1:function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.HttpError=void 0,(i=e.HttpError||(e.HttpError={})).UNKNOWN="unknown",i.UNAUTHORIZED="unauthorized",i.PARAMS_MISSING="parameters-missing",i.INVALID_ENVIRONMENT="invalid-environment",i.INVALID_PARAMETERS="invalid-parameters",i.BAD_REQUEST="bad-request",i.INVALID_PATH="invalid-path",i.USER_NOT_FOUND="user-not-found",i.STACK_CREATION_NAME_IN_USE="stack/creation/name-in-use",i.ORG_CREATION_NAME_IN_USE="org/creation/name-in-use",i.ORG_CREATION_PREFIX_IN_USE="org/creation/prefix-in-use",i.ORG_DELETION_STILL_IN_USE="org/deletion/still-in-use"},OAzE:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n("EICP"),e),r(n("OEZC"),e),r(n("Qk56"),e),r(n("h/V3"),e)},OEZC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tags=void 0,e.Tags={languages:{JAVASCRIPT:"javascript",TYPESCRIPT:"typescript",JAVA:"java",PYTHON:"python",C:"C"},frameworks:{EXPRESSJS:"expressjs",ANGULARJS:"angularjs",NODEJS:"nodejs",REACTJS:"reactjs"}}},Qk56:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n("A4A1"),e)},Qrwm:function(t,e,n){"use strict";n.r(e),n.d(e,"AccountModule",(function(){return F}));var i=n("ofXK"),r=n("tyNb"),o=n("quSY"),s=n("fXoL"),a=n("biaL"),c=n("xm+p");let b=(()=>{class t{constructor(t){this.navigationService=t}ngOnInit(){}ngOnDestroy(){}goToLogin(){this.navigationService.navigateTo(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(c.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["not-logged-in"]],decls:7,vars:0,consts:[[1,"d-flex","align-items-center"],[1,"fa","fa-2x","fa-exclamation-circle","text","text-muted"],[1,"ml-2"],["href","javascript:",1,"",3,"click"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Mb(1,"i",1),s.Rb(2,"div",2),s.Ec(3,"You are not logged in. Please "),s.Rb(4,"a",3),s.Zb("click",(function(){return e.goToLogin()})),s.Ec(5,"login"),s.Qb(),s.Ec(6," to proceed"),s.Qb(),s.Qb())},styles:[""]}),t})();var u=n("bTqV"),l=n("IzEk"),d=n("0IaG"),g=n("3Pt+"),f=n("EICP");class p extends f.SharedOrganizationModel{members(){return Promise.resolve([])}owner(){return Promise.resolve(void 0)}}var v=n("lJxs"),m=n("ZJV+");let h=(()=>{class t{constructor(t,e){this.httpService=t,this.userService=e,this.ServiceAPIEndpoint="/sj-proxy/organizations",this.userService.user$.subscribe(t=>{this.user=t})}getOrganizationsForUser(t){return this.httpService.get(`${this.ServiceAPIEndpoint}/forUser/${t}`).pipe(Object(v.a)(t=>t.map(t=>new p(t))))}createOrganization(t,e){return this.httpService.post(this.ServiceAPIEndpoint+"/claim",{displayName:t,prefix:e})}deleteOrganization(t){return this.httpService.delete(`${this.ServiceAPIEndpoint}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(s.Vb(m.a),s.Vb(a.a))},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var O=n("kmnG"),R=n("qFsG");let E=(()=>{class t{constructor(t,e,n){this.data=t,this.organizationApi=e,this.dialogRef=n,this.formGroup=new g.j({displayName:new g.g("",[g.F.required,g.F.minLength(2)]),prefix:new g.g("",[g.F.required,g.F.pattern(p.NAMING_REGEX)])})}ngOnInit(){}ngOnDestroy(){}submit(){this.formGroup.valid&&this.organizationApi.createOrganization(this.formGroup.get("displayName").value,this.formGroup.get("prefix").value).pipe(Object(l.a)(1)).subscribe(()=>{console.log("asd"),this.dialogRef.close(!0)},t=>{console.log(t),this.dialogRef.close(!1)})}close(){this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(d.a),s.Lb(h),s.Lb(d.h))},t.\u0275cmp=s.Fb({type:t,selectors:[["create-org-dialog"]],decls:18,vars:2,consts:[[3,"formGroup","submit"],[1,"w-100"],["formControlName","displayName","matNativeControl","","type","text"],["matPrefix",""],["formControlName","prefix","matNativeControl","","type","text"],["align","start"],[1,"my-2"],["mat-button","","mat-raised-button","","type","submit",3,"disabled"]],template:function(t,e){1&t&&(s.Rb(0,"form",0),s.Zb("submit",(function(){return e.submit()})),s.Rb(1,"div"),s.Rb(2,"mat-form-field",1),s.Rb(3,"mat-label"),s.Ec(4,"Organization Name"),s.Qb(),s.Mb(5,"input",2),s.Qb(),s.Qb(),s.Rb(6,"div"),s.Rb(7,"mat-form-field",1),s.Rb(8,"mat-label"),s.Ec(9,"Organization Prefix"),s.Qb(),s.Rb(10,"span",3),s.Ec(11,"@"),s.Qb(),s.Mb(12,"input",4),s.Rb(13,"mat-hint",5),s.Ec(14,"Can only contain alpha-numeric, dashes, underscores, or periods."),s.Qb(),s.Qb(),s.Qb(),s.Rb(15,"div",6),s.Rb(16,"button",7),s.Ec(17,"Create"),s.Qb(),s.Qb(),s.Qb()),2&t&&(s.jc("formGroup",e.formGroup),s.Ab(16),s.jc("disabled",!e.formGroup.valid))},directives:[g.H,g.s,g.k,O.c,O.g,g.c,R.a,g.r,g.i,O.i,O.f,u.b],styles:[".w-100[_ngcontent-%COMP%]{width:100%}"]}),t})();var I=n("w++c"),y=n("Mzu6"),A=n("OAzE");function _(t,e){1&t&&(s.Rb(0,"div"),s.Ec(1,"You are not currently part of any organizations"),s.Qb())}function S(t,e){if(1&t){const t=s.Sb();s.Rb(0,"tr"),s.Rb(1,"td",7),s.Ec(2),s.ec(3,"titlecase"),s.Qb(),s.Rb(4,"td"),s.Rb(5,"button",8),s.Zb("click",(function(){s.rc(t);const n=e.$implicit;return s.dc(2).manageOrg(n)})),s.Ec(6,"Manage"),s.Qb(),s.Rb(7,"button",9),s.Zb("click",(function(){s.rc(t);const n=e.$implicit;return s.dc(2).deleteOrg(n)})),s.Ec(8,"Delete"),s.Qb(),s.Qb(),s.Qb()}if(2&t){const t=e.$implicit;s.Ab(2),s.Fc(s.fc(3,1,t.name))}}function Q(t,e){if(1&t&&(s.Rb(0,"div",4),s.Rb(1,"table",5),s.Cc(2,S,9,3,"tr",6),s.Qb(),s.Qb()),2&t){const t=s.dc();s.Ab(2),s.jc("ngForOf",t.orgs)}}let j=(()=>{class t{constructor(t,e,n){this.userService=t,this.organizationsApi=e,this.dialog=n,this.subs=new o.a,this.orgs=[]}getOrgsForUser(){this.subs.add(this.organizationsApi.getOrganizationsForUser(this.user.uid).pipe(Object(l.a)(1)).subscribe(t=>this.orgs=t))}ngOnInit(){var t;(null===(t=this.user)||void 0===t?void 0:t.isLoggedIn)&&this.getOrgsForUser()}ngOnDestroy(){this.subs.unsubscribe()}createOrg(){this.dialog.open(E,{data:{},disableClose:!0,minWidth:"600px",minHeight:"210px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>{t?this.getOrgsForUser():this.dialog.open(I.a,{data:{title:"Failed to create organization.",text:"Something went wrong, please try again in a few minutes"}})})}manageOrg(t){}deleteOrg(t){this.dialog.open(y.a,{data:{title:"Delete this organization?",text:"Are you sure?"}}).afterClosed().subscribe(e=>{e&&this.organizationsApi.deleteOrganization(t.oid).pipe(Object(l.a)(1)).subscribe(()=>{this.getOrgsForUser()},e=>{e.error&&e.error.code===A.HttpError.ORG_DELETION_STILL_IN_USE&&this.dialog.open(I.a,{data:{title:"Cannot Delete Organization",text:`An organization must not have any stacks before deleting. There is at least 1 stack still under the '${t.name}' organization!`}}),this.getOrgsForUser()})})}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(a.a),s.Lb(h),s.Lb(d.b))},t.\u0275cmp=s.Fb({type:t,selectors:[["organizations"]],inputs:{user:"user"},decls:5,vars:2,consts:[[1,"p-lg-3"],[4,"ngIf"],["mat-button","","mat-raised-button","",3,"click"],["class","my-3",4,"ngIf"],[1,"my-3"],[1,"table"],[4,"ngFor","ngForOf"],[1,"align-middle"],["mat-button","","mat-raised-button","",1,"my-2",3,"click"],["mat-button","","mat-raised-button","","color","warn",1,"my-2",3,"click"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Cc(1,_,2,0,"div",1),s.Rb(2,"button",2),s.Zb("click",(function(){return e.createOrg()})),s.Ec(3,"Create New Organization"),s.Qb(),s.Cc(4,Q,3,1,"div",3),s.Qb()),2&t&&(s.Ab(1),s.jc("ngIf",0==e.orgs.length),s.Ab(3),s.jc("ngIf",e.orgs.length>0))},directives:[i.t,u.b,i.s],pipes:[i.F],styles:[""]}),t})();function w(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div",8),s.Mb(1,"not-logged-in"),s.Rb(2,"div",9),s.Rb(3,"button",10),s.Zb("click",(function(){return s.rc(t),s.dc().createAccount()})),s.Ec(4," Create an account and receive an additional workspace. "),s.Mb(5,"i",11),s.Qb(),s.Qb(),s.Qb()}}function P(t,e){if(1&t&&(s.Rb(0,"tr"),s.Rb(1,"td"),s.Ec(2,"Email:"),s.Qb(),s.Rb(3,"td"),s.Ec(4),s.Qb(),s.Mb(5,"td"),s.Qb()),2&t){const t=s.dc();s.Ab(4),s.Fc(t.user.email)}}function N(t,e){if(1&t&&(s.Rb(0,"tr"),s.Rb(1,"td"),s.Ec(2,"Username:"),s.Qb(),s.Rb(3,"td"),s.Ec(4),s.Qb(),s.Mb(5,"td"),s.Qb()),2&t){const t=s.dc();s.Ab(4),s.Fc(t.user.username)}}function C(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div",12),s.Rb(1,"button",13),s.Zb("click",(function(){return s.rc(t),s.dc().changePlan()})),s.Ec(2,"Change Plan"),s.Qb(),s.Qb()}}function x(t,e){if(1&t){const t=s.Sb();s.Rb(0,"div",12),s.Rb(1,"button",10),s.Zb("click",(function(){return s.rc(t),s.dc().signIn()})),s.Ec(2,"Sign In"),s.Qb(),s.Qb()}}function T(t,e){if(1&t&&(s.Pb(0),s.Rb(1,"div",1),s.Ec(2," Organizations "),s.Qb(),s.Mb(3,"organizations",14),s.Ob()),2&t){const t=s.dc();s.Ab(3),s.jc("user",t.user)}}const z=r.g.forChild([{path:"",component:(()=>{class t{constructor(t,e){this.userService=t,this.navigationService=e,this.subs=new o.a}ngOnInit(){this.subs.add(this.userService.user$.subscribe(t=>this.user=t))}ngOnDestroy(){this.subs.unsubscribe()}changePlan(){this.navigationService.navigateTo(["plans"])}signIn(){this.navigationService.navigateTo(["login"])}createAccount(){this.navigationService.navigateTo(["create-account"])}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(a.a),s.Lb(c.a))},t.\u0275cmp=s.Fb({type:t,selectors:[["account"]],decls:23,vars:8,consts:[[1,"basic-page","flex-column"],[1,"basic-page-title"],[2,"width","600px","padding","40px"],["class","d-flex flex-column align-items-center justify-content-center",4,"ngIf"],[1,"table","w-100"],[4,"ngIf"],[1,"align-middle"],["class","",4,"ngIf"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"py-4","cursor-pointer"],["mat-raised-button","",3,"click"],[1,"fa","fa-arrow-circle-right"],[1,""],["mat-button","",3,"click"],[3,"user"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Ec(2," Account "),s.Qb(),s.Rb(3,"div",2),s.Cc(4,w,6,0,"div",3),s.Rb(5,"table",4),s.Cc(6,P,6,1,"tr",5),s.Cc(7,N,6,1,"tr",5),s.Rb(8,"tr"),s.Rb(9,"td",6),s.Ec(10,"Current Plan:"),s.Qb(),s.Rb(11,"td",6),s.Ec(12),s.Qb(),s.Rb(13,"td"),s.Cc(14,C,3,0,"div",7),s.Cc(15,x,3,0,"div",7),s.Qb(),s.Qb(),s.Rb(16,"tr"),s.Rb(17,"td"),s.Ec(18,"Total Workspaces:"),s.Qb(),s.Rb(19,"td"),s.Ec(20),s.Qb(),s.Mb(21,"td"),s.Qb(),s.Qb(),s.Qb(),s.Cc(22,T,4,1,"ng-container",5),s.Qb()),2&t&&(s.Ab(4),s.jc("ngIf",!e.user.isLoggedIn),s.Ab(2),s.jc("ngIf",e.user.isLoggedIn),s.Ab(1),s.jc("ngIf",e.user.isLoggedIn),s.Ab(5),s.Fc(e.user.isLoggedIn?e.user.accountTypeAsString():"Free Workspace"),s.Ab(2),s.jc("ngIf",e.user.isLoggedIn),s.Ab(1),s.jc("ngIf",!e.user.isLoggedIn),s.Ab(5),s.Fc(e.user.maxWorkspaces),s.Ab(2),s.jc("ngIf",e.user.isLoggedIn))},directives:[i.t,b,u.b,j],styles:["[_nghost-%COMP%]{display:flex;flex:1}"]}),t})(),children:[]}]);let L=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c]]}),t})();var M=n("Wp6s");let k=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,L,u.c,M.d]]}),t})(),F=(()=>{class t{}return t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,z,u.c,L,k]]}),t})()},"h/V3":function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n("zXtJ"),e)},zXtJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringToDate=e.dateToString=void 0,e.dateToString=function(t){return t.toISOString()},e.stringToDate=function(t){return new Date(t)}}}]);