(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{uiGw:function(t,e,i){"use strict";i.r(e),i.d(e,"LoginModule",(function(){return F}));var n=i("ofXK"),r=i("tyNb"),o=i("quSY"),c=i("aSHc"),a=i("fXoL"),s=i("IYfF"),b=i("xm+p"),l=i("Wp6s"),u=i("bTqV"),d=i("3Pt+"),g=i("kmnG"),m=i("qFsG");function f(t,e){if(1&t){const t=a.Tb();a.Sb(0,"mat-card"),a.Sb(1,"div",2),a.Fc(2,"You are logged in as: "),a.Sb(3,"b"),a.Fc(4),a.Rb(),a.Rb(),a.Sb(5,"div",3),a.Sb(6,"button",4),a.ac("click",(function(){return a.sc(t),a.ec().logout()})),a.Fc(7,"Log Out"),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=a.ec();a.Bb(4),a.Gc(t.user.email)}}function S(t,e){if(1&t&&(a.Sb(0,"div",16),a.Fc(1),a.Rb()),2&t){const t=a.ec(2);a.Bb(1),a.Gc(t.loginForm.error)}}function h(t,e){if(1&t&&(a.Sb(0,"div",17),a.Nb(1,"i",18),a.Fc(2),a.Rb()),2&t){const t=a.ec(2);a.Bb(2),a.Hc(" ",t.error.message||"Unknown error occurred. Please try again."," ")}}function p(t,e){if(1&t){const t=a.Tb();a.Sb(0,"mat-card"),a.Sb(1,"div",2),a.Sb(2,"div",5),a.Sb(3,"div",6),a.Fc(4,"Sign In:"),a.Rb(),a.Sb(5,"div",2),a.Sb(6,"form",7),a.ac("ngSubmit",(function(){return a.sc(t),a.ec().login()})),a.Sb(7,"div",5),a.Sb(8,"mat-form-field"),a.Sb(9,"mat-label"),a.Fc(10,"Email"),a.Rb(),a.Sb(11,"input",8),a.ac("ngModelChange",(function(e){return a.sc(t),a.ec().loginForm.email=e})),a.Rb(),a.Rb(),a.Rb(),a.Sb(12,"div",5),a.Sb(13,"mat-form-field"),a.Sb(14,"mat-label"),a.Fc(15,"Password"),a.Rb(),a.Sb(16,"input",9),a.ac("ngModelChange",(function(e){return a.sc(t),a.ec().loginForm.password=e})),a.Rb(),a.Rb(),a.Rb(),a.Dc(17,S,2,1,"div",10),a.Sb(18,"button",11),a.Fc(19,"Sign In"),a.Rb(),a.Rb(),a.Dc(20,h,3,1,"div",12),a.Rb(),a.Rb(),a.Sb(21,"div",13),a.Sb(22,"div",14),a.ac("click",(function(){return a.sc(t),a.ec().forgotPassword()})),a.Fc(23,"Forgot Password"),a.Rb(),a.Sb(24,"div",15),a.ac("click",(function(){return a.sc(t),a.ec().createAccount()})),a.Fc(25,"Create Account"),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&t){const t=a.ec();a.Bb(11),a.kc("ngModel",t.loginForm.email)("disabled",t.loginForm.disabled),a.Bb(5),a.kc("ngModel",t.loginForm.password)("disabled",t.loginForm.disabled),a.Bb(1),a.kc("ngIf",""!==t.loginForm.error),a.Bb(3),a.kc("ngIf",t.currentState===t.actionState.FAILED)}}const v=r.f.forChild([{path:"",component:(()=>{class t{constructor(t,e,i,n){this.authService=t,this.route=e,this.navigationService=i,this.ngZone=n,this.loginForm={email:"",password:"",error:"",disabled:!1},this.subs=new o.a,this.currentState=c.a.IDLE,this.actionState=c.a}ngOnInit(){var t;this.loginForm.email=null!==(t=this.route.snapshot.queryParams.email)&&void 0!==t?t:"",this.subs.add(this.authService.user$.subscribe(t=>this.user=t))}ngOnDestroy(){this.subs.unsubscribe()}createAccount(){const t={};this.loginForm.email&&(t.email=this.loginForm.email),this.navigationService.navigateTo(["create-account"],{queryParams:t})}forgotPassword(){const t={};this.loginForm.email&&(t.email=this.loginForm.email),this.navigationService.navigateTo(["forgot-password"],{queryParams:t})}login(){this.authService.login(this.loginForm.email,this.loginForm.password).toPromise().then(()=>{this.currentState=c.a.SUCCESS,this.ngZone.run(()=>{})}).catch(t=>{this.currentState=c.a.FAILED,this.error=t.error})}logout(){this.authService.logout()}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(s.a),a.Mb(r.a),a.Mb(b.a),a.Mb(a.A))},t.\u0275cmp=a.Gb({type:t,selectors:[["login"]],decls:3,vars:2,consts:[[1,"d-flex","justify-content-center","pt-4"],[4,"ngIf"],[1,"p-2"],[1,"p-2","text-center"],["mat-raised-button","",3,"click"],[1,""],[1,"text-bold"],[1,"form",3,"ngSubmit"],["matInput","","placeholder","Email","type","email","name","email","required","",3,"ngModel","disabled","ngModelChange"],["matInput","","placeholder","Password","type","password","name","password","required","",3,"ngModel","disabled","ngModelChange"],["class","error",4,"ngIf"],["mat-raised-button","","type","submit"],["class","pt-4 text-break","style","width: 250px;",4,"ngIf"],[1,"d-flex","p-2","pt-4"],[1,"cursor-pointer",3,"click"],[1,"cursor-pointer","ml-auto","pl-4",3,"click"],[1,"error"],[1,"pt-4","text-break",2,"width","250px"],[1,"fa","fa-exclamation-triangle","text-warning"]],template:function(t,e){1&t&&(a.Sb(0,"div",0),a.Dc(1,f,8,1,"mat-card",1),a.Dc(2,p,26,6,"mat-card",1),a.Rb()),2&t&&(a.Bb(1),a.kc("ngIf",e.user),a.Bb(1),a.kc("ngIf",!e.user))},directives:[n.t,l.a,u.b,d.G,d.r,d.s,g.c,g.g,m.a,d.c,d.B,d.q,d.t],styles:[""]}),t})(),children:[]}]);let F=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,v,u.c,d.l,m.b,l.b]]}),t})()}}]);