(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"8kpP":function(t,e,n){"use strict";n.r(e),n.d(e,"StarterCodeModule",(function(){return w}));var r=n("ofXK"),o=n("tyNb"),i=n("quSY"),s=n("aSHc"),c=n("fXoL"),a=n("3sFK"),b=n("xm+p"),u=n("n2Wo"),l=n("0IaG"),d=n("bTqV"),m=n("3Pt+"),p=n("kmnG"),f=n("qFsG");function h(t,e){1&t&&(c.Rb(0,"mat-error"),c.Ec(1,"Input is required"),c.Qb())}let v=(()=>{class t{constructor(t){this.fb=t,this.onChange=new c.o}ngOnInit(){var t;this.model=null!==(t=this.model)&&void 0!==t?t:this.defaultSeed(),this.initForm(),this.formGroup.valueChanges.subscribe(t=>{this.onChange.emit(this.formGroup)})}defaultSeed(){return{url:"",postInstall:"",preInstall:"",script:""}}initForm(){this.formGroup=this.fb.group({url:[this.model.url,[m.F.required]],postInstall:[this.model.postInstall,[]],preInstall:["",[]],script:["",[]]})}get f(){return this.formGroup.controls}addItem(t){this.f[t].push(this.fb.control(""))}deleteItem(t,e){this.f[t].removeAt(e)}ngOnDestroy(){}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.f))},t.\u0275cmp=c.Fb({type:t,selectors:[["starter-code-form"]],inputs:{model:"model"},outputs:{onChange:"onChange"},decls:10,vars:2,consts:[[1,"mat-form",3,"formGroup"],[1,""],["placeholder","Web URL to a Public Git Repository","type","string","matInput","","formControlName","url","required",""],[4,"ngIf"],[1,"pt-2"],[1,"text-muted"],["rows","15","formControlName","postInstall",1,"post-install-input"]],template:function(t,e){1&t&&(c.Rb(0,"form",0),c.Rb(1,"div",1),c.Rb(2,"mat-form-field"),c.Mb(3,"input",2),c.Cc(4,h,2,0,"mat-error",3),c.Qb(),c.Rb(5,"div",4),c.Rb(6,"div",5),c.Ec(7,"Post Install Instructions:"),c.Qb(),c.Rb(8,"div",1),c.Mb(9,"textarea",6),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.jc("formGroup",e.formGroup),c.Ab(4),c.jc("ngIf",null==e.f.url||null==e.f.url.errors?null:e.f.url.errors.required))},directives:[m.H,m.s,m.k,p.c,f.a,m.c,m.r,m.i,m.C,r.t,p.b],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.post-install-input[_ngcontent-%COMP%]{width:100%;border:1px solid #b8b8b8;border-radius:5px;padding:8px}.post-install-input[_ngcontent-%COMP%]:focus{border:1px solid #b8b8b8!important}"]}),t})();function g(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",8),c.Zb("click",(function(){return c.rc(t),c.dc().goToStacks()})),c.Ec(2," Your stack must be published to assign starter code "),c.Mb(3,"i",9),c.Qb(),c.Ob()}}function S(t,e){if(1&t){const t=c.Sb();c.Rb(0,"starter-code-form",17),c.Zb("onChange",(function(e){return c.rc(t),c.dc(2).setForm(e)})),c.Qb()}if(2&t){const t=c.dc(2);c.jc("model",t.environment.seed)}}function C(t,e){1&t&&(c.Rb(0,"span",18),c.Mb(1,"i",19),c.Ec(2," Saved"),c.Qb())}function I(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",10),c.Rb(2,"div",11),c.Rb(3,"div",12),c.Cc(4,S,1,1,"starter-code-form",13),c.Qb(),c.Rb(5,"div",14),c.Rb(6,"button",15),c.Zb("click",(function(){return c.rc(t),c.dc().saveGitRepo()})),c.Ec(7,"Save"),c.Qb(),c.Cc(8,C,3,0,"span",16),c.Qb(),c.Qb(),c.Qb(),c.Ob()}if(2&t){const t=c.dc();c.Ab(4),c.jc("ngIf",t.environment),c.Ab(2),c.jc("disabled",!(null!=t.form&&t.form.valid&&t.currentState===t.actionState.ACTIVE)),c.Ab(2),c.jc("ngIf",t.currentState===t.actionState.SUCCESS)}}const R=o.f.forChild([{path:"",component:(()=>{class t{constructor(t,e,n,r){this.appEnvironmentService=t,this.navigationService=e,this.stackApiService=n,this.dialog=r,this.currentState=s.a.IDLE,this.actionState=s.a,this.subs=new i.a}ngOnInit(){this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>{this.environment=t}))}ngOnDestroy(){this.subs.unsubscribe()}setForm(t){this.form=t,this.currentState=s.a.ACTIVE}saveGitRepo(){this.stackApiService.saveStarterCode(this.environment.remote.id,this.form.value).subscribe(t=>{this.appEnvironmentService.refreshCurrentEnvironment(),this.currentState=s.a.SUCCESS})}goToStacks(){this.navigationService.navigateTo(["my-items","stacks"])}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(a.a),c.Lb(b.a),c.Lb(u.a),c.Lb(l.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["starter-code"]],decls:11,vars:3,consts:[[1,"workspace-page"],[1,"pb-2"],[1,"pb-2",2,"border-bottom","1px solid #F1F1F1"],[1,"text-bold"],[1,"description","text-muted","text-small","as-link-hover",3,"routerLink"],[1,"fa","fa-info-circle","text-tiny","text-muted"],[1,"p-2",2,"min-width","800px"],[4,"ngIf"],[1,"text-center","p-4","border","rounded","mt-4","cursor-pointer",3,"click"],[1,"fa","fa-arrow-circle-right"],[1,"d-flex","flex-column","flex-grow-1","p-2","pt-5"],[1,""],[1,"",2,"max-width","600px"],[3,"model","onChange",4,"ngIf"],[1,"pt-2"],["mat-raised-button","",3,"disabled","click"],["class","ml-2 text-success",4,"ngIf"],[3,"model","onChange"],[1,"ml-2","text-success"],[1,"fa","fa-check"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Ec(4,"Stack Starter Code"),c.Qb(),c.Rb(5,"div",4),c.Ec(6,"Add a public git repository to the stack "),c.Mb(7,"i",5),c.Qb(),c.Qb(),c.Qb(),c.Rb(8,"div",6),c.Cc(9,g,4,0,"ng-container",7),c.Cc(10,I,9,3,"ng-container",7),c.Qb(),c.Qb()),2&t&&(c.Ab(5),c.jc("routerLink","/documentation/community/starter-code"),c.Ab(4),c.jc("ngIf",!(null!=e.environment.remote&&e.environment.remote.id)),c.Ab(1),c.jc("ngIf",null==e.environment.remote?null:e.environment.remote.id))},directives:[o.d,r.t,d.b,v],styles:["[_nghost-%COMP%]{display:flex;flex:1}"]}),t})(),children:[]}]);var x=n("d3UM"),k=n("QibW");let Q=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[r.c,p.e,m.B,x.b,k.c,f.b]]}),t})(),w=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[r.c,R,Q,d.c]]}),t})()}}]);