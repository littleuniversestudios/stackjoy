(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{Chfi:function(t,e,i){"use strict";i.r(e),i.d(e,"MyStacksModule",(function(){return Bt}));var n=i("ofXK"),c=i("tyNb"),a=i("mrSG"),s=i("HdQx"),o=i("quSY"),r=i("cp0P"),b=i("b5vT"),l=i("IzEk"),d=i("vkgz"),u=i("40nA"),g=i("0IaG"),m=i("3Pt+"),f=i("aSHc"),p=i("OAzE"),h=i("fXoL"),v=i("n2Wo"),k=i("1TnD"),S=i("f0Cb"),R=i("kmnG"),I=i("d3UM"),A=i("FKr1"),Q=i("bv9b"),C=i("bTqV");function E(t,e){if(1&t&&(h.Rb(0,"mat-option",17),h.Ec(1),h.Rb(2,"span",8),h.Ec(3),h.Qb(),h.Qb()),2&t){const t=e.$implicit;h.jc("value",t.oid),h.Ab(1),h.Gc(" ",t.name," "),h.Ab(2),h.Gc("(@",t.prefix,")")}}function x(t,e){if(1&t&&(h.Pb(0),h.Rb(1,"mat-form-field"),h.Mb(2,"mat-label"),h.Rb(3,"mat-label"),h.Ec(4,"Organization (optional)"),h.Qb(),h.Rb(5,"mat-select",14),h.Rb(6,"mat-option",15),h.Ec(7,"None"),h.Qb(),h.Cc(8,E,4,3,"mat-option",16),h.Qb(),h.Qb(),h.Ob()),2&t){const t=h.dc(3);h.Ab(8),h.jc("ngForOf",t.data.organizations)}}function w(t,e){if(1&t&&(h.Rb(0,"div",11),h.Mb(1,"mat-divider"),h.Rb(2,"div",11),h.Rb(3,"div",8),h.Ec(4,"You can also publish a stack under a namespace by selecting your organization."),h.Qb(),h.Rb(5,"div",6),h.Rb(6,"span",8),h.Ec(7,"Once published it would look like:"),h.Qb(),h.Rb(8,"span",12),h.Ec(9,"@your-organization/your-stack"),h.Qb(),h.Qb(),h.Qb(),h.Rb(10,"form",13),h.Cc(11,x,9,1,"ng-container",3),h.Qb(),h.Qb()),2&t){const t=h.dc(2);h.Ab(10),h.jc("formGroup",t.form),h.Ab(1),h.jc("ngIf",t.data.organizations.length>0)}}function j(t,e){if(1&t&&(h.Pb(0),h.Rb(1,"div",6),h.Rb(2,"div",6),h.Ec(3,"Do you want to publish "),h.Rb(4,"span",7),h.Rb(5,"span",8),h.Ec(6),h.Qb(),h.Ec(7),h.Qb(),h.Ec(8,"?"),h.Qb(),h.Rb(9,"div",9),h.Ec(10,"Published stacks will appear in the Stackjoy Community for anyone to use."),h.Qb(),h.Qb(),h.Cc(11,w,12,2,"div",10),h.Ob()),2&t){const t=h.dc();h.Ab(6),h.Fc(t.getOrgPrefix(t.form.get("organization").value)),h.Ab(1),h.Fc(t.data.stack.name),h.Ab(4),h.jc("ngIf",t.data.organizations.length>0)}}function y(t,e){1&t&&(h.Rb(0,"div",18),h.Rb(1,"div"),h.Ec(2,"Publishing Stack..."),h.Qb(),h.Mb(3,"mat-progress-bar",19),h.Qb())}function O(t,e){if(1&t&&(h.Pb(0),h.Rb(1,"div",20),h.Mb(2,"i",21),h.Ec(3),h.Qb(),h.Ob()),2&t){const t=h.dc();h.Ab(3),h.Gc(" Stack: ",t.data.stack.name," has been published! ")}}function L(t,e){if(1&t&&(h.Rb(0,"div",25),h.Ec(1),h.Qb()),2&t){const t=h.dc(2);h.Ab(1),h.Fc(t.errorMessage)}}function T(t,e){if(1&t&&(h.Pb(0),h.Rb(1,"div",22),h.Mb(2,"i",23),h.Ec(3," Failed to publish stack: "),h.Rb(4,"span",7),h.Ec(5),h.Qb(),h.Qb(),h.Cc(6,L,2,1,"div",24),h.Ob()),2&t){const t=h.dc();h.Ab(5),h.Fc(t.data.stack.name),h.Ab(1),h.jc("ngIf",t.errorMessage)}}function M(t,e){if(1&t){const t=h.Sb();h.Pb(0),h.Rb(1,"button",26),h.Zb("click",(function(){return h.rc(t),h.dc().close(!1)})),h.Ec(2,"Cancel"),h.Qb(),h.Rb(3,"button",27),h.Zb("click",(function(){return h.rc(t),h.dc().publish()})),h.Ec(4,"Publish"),h.Qb(),h.Ob()}if(2&t){const t=h.dc();h.Ab(3),h.jc("disabled",t.form.invalid)}}function F(t,e){if(1&t){const t=h.Sb();h.Pb(0),h.Rb(1,"button",26),h.Zb("click",(function(){return h.rc(t),h.dc().close(!1)})),h.Ec(2,"Close"),h.Qb(),h.Ob()}}let P=(()=>{class t{constructor(t,e,i,n,c){this.fb=t,this.stackAPIService=e,this.organizationsApiService=i,this.data=n,this.dialogRef=c,this.actionState=f.a,this.currentState=f.a.IDLE,this.form=this.fb.group({organization:[""]})}getOrgPrefix(t){var e;return""===t?"":`@${null===(e=this.data.organizations.find(e=>e.oid===t))||void 0===e?void 0:e.prefix}/`||""}ngOnInit(){this.errorMessage=null}ngOnDestroy(){}close(t){this.dialogRef.close(t)}publish(){this.currentState=f.a.ACQUIRING,this.stackAPIService.publishStack(this.data.stack.id,this.form.get("organization").value).subscribe(()=>{this.currentState=f.a.SUCCESS},t=>{var e,i;this.currentState=f.a.FAILED,this.errorMessage=(null===(e=t.error)||void 0===e?void 0:e.code)===p.HttpError.ENVIRONMENT_NAME_IN_USE?`Stack name '${this.data.stack.name}' is in use. Please rename the stack and try publishing again.`:(null===(i=t.error)||void 0===i?void 0:i.message)||"Unknown error occurred while trying to publish stack."})}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(m.f),h.Lb(v.a),h.Lb(k.a),h.Lb(g.a),h.Lb(g.h))},t.\u0275cmp=h.Fb({type:t,selectors:[["publish-stack-dialog"]],decls:11,vars:7,consts:[["mat-dialog-title",""],[1,"fa","fa-globe","text-muted"],["mat-dialog-content",""],[4,"ngIf"],["class","text-center p-2",4,"ngIf"],["mat-dialog-actions","",3,"align"],[1,""],[1,"text-bold"],[1,"text-muted"],[1,"pt-1","text-muted"],["class","pt-4",4,"ngIf"],[1,"pt-4"],[1,"text-bold","ml-2"],[3,"formGroup"],["formControlName","organization"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-center","p-2"],["mode","indeterminate"],[1,"text-center","p-2","text-success"],[1,"fa","fa-check","mr-2"],[1,"text-center","p-2","text-red"],[1,"fa","fa-exclamation-triangle","mr-2"],["class","text-muted pl-5",4,"ngIf"],[1,"text-muted","pl-5"],["mat-button","",3,"click"],["mat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(h.Rb(0,"h2",0),h.Mb(1,"i",1),h.Ec(2," Publish Stack "),h.Qb(),h.Rb(3,"div",2),h.Cc(4,j,12,3,"ng-container",3),h.Cc(5,y,4,0,"div",4),h.Cc(6,O,4,1,"ng-container",3),h.Cc(7,T,7,2,"ng-container",3),h.Qb(),h.Rb(8,"div",5),h.Cc(9,M,5,1,"ng-container",3),h.Cc(10,F,3,0,"ng-container",3),h.Qb()),2&t&&(h.Ab(4),h.jc("ngIf",e.currentState===e.actionState.IDLE),h.Ab(1),h.jc("ngIf",e.currentState===e.actionState.ACQUIRING),h.Ab(1),h.jc("ngIf",e.currentState===e.actionState.SUCCESS),h.Ab(1),h.jc("ngIf",e.currentState===e.actionState.FAILED),h.Ab(1),h.jc("align","end"),h.Ab(1),h.jc("ngIf",e.currentState===e.actionState.IDLE),h.Ab(1),h.jc("ngIf",e.currentState===e.actionState.SUCCESS||e.currentState===e.actionState.FAILED))},directives:[g.i,g.f,n.t,g.c,S.a,m.H,m.s,m.k,R.c,R.g,I.a,m.r,m.i,A.l,n.s,Q.a,C.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var D=i("XNiG"),$=i("Kj3r"),N=i("/uUt"),z=i("qFsG");function Z(t,e){if(1&t){const t=h.Sb();h.Rb(0,"button",5),h.Zb("click",(function(){h.rc(t);const i=e.$implicit;return h.dc().addTag(i)})),h.Ec(1),h.ec(2,"titlecase"),h.Qb()}if(2&t){const t=e.$implicit,i=h.dc();h.jc("disabled",i.currentTags.has(t)||i.newTags.has(t)),h.Ab(1),h.Fc(h.fc(2,2,t))}}let U=(()=>{class t{constructor(e,i,n){this.data=e,this.ngZone=i,this.stackService=n,this.availableTags=Array.from(t.allTags),this.searchChanged=new D.a,this.newTags=new Set,this.currentTags=new Set(e.tags),this.stack=e.stack}static generateTagList(t){let e=new Set;for(const i in t)"string"==typeof t[i]?e.add(t[i]):"object"==typeof t[i]&&(e=new Set([...e,...this.generateTagList(t[i])]));return e}ngOnInit(){this.searchChanged.pipe(Object($.a)(300),Object(N.a)()).subscribe(t=>{this.updateSearch(t)})}ngOnDestroy(){}updateSearch(e){this.availableTags=Array.from(t.allTags).filter(t=>t.includes(e))}addTag(t){var e;this.stackService.addTag(null===(e=this.stack.remote)||void 0===e?void 0:e.id,t).pipe(Object(l.a)(1)).subscribe(()=>{this.newTags.add(t)})}}return t.allTags=t.generateTagList(p.Tags),t.\u0275fac=function(e){return new(e||t)(h.Lb(g.a),h.Lb(h.A),h.Lb(v.a))},t.\u0275cmp=h.Fb({type:t,selectors:[["add-tag-dialog"]],decls:9,vars:1,consts:[["appearance","fill"],["matInput","","placeholder","Search",3,"input"],["mat-button","","mat-raised-button","","class","ml-2 mr-2 my-2",3,"disabled","click",4,"ngFor","ngForOf"],[1,"mt-3"],["mat-button","","mat-raised-button","","mat-dialog-close","","color","accent"],["mat-button","","mat-raised-button","",1,"ml-2","mr-2","my-2",3,"disabled","click"]],template:function(t,e){1&t&&(h.Rb(0,"mat-form-field",0),h.Rb(1,"mat-label"),h.Ec(2,"Search Tags"),h.Qb(),h.Rb(3,"input",1),h.Zb("input",(function(t){return e.searchChanged.next(t.target.value)})),h.Qb(),h.Qb(),h.Rb(4,"div"),h.Cc(5,Z,3,4,"button",2),h.Qb(),h.Rb(6,"div",3),h.Rb(7,"button",4),h.Ec(8,"Close"),h.Qb(),h.Qb()),2&t&&(h.Ab(5),h.jc("ngForOf",e.availableTags))},directives:[R.c,R.g,z.a,n.s,C.b,g.d],pipes:[n.F],styles:[""]}),t})();var G=i("Mzu6"),_=i("3sFK"),H=i("biaL"),W=i("nZ6g"),V=i("cvgN"),q=i("wZkO"),J=i("s/2f");function K(t,e){if(1&t){const t=h.Sb();h.Rb(0,"div",12),h.Rb(1,"div",13),h.Ec(2," Publishing a stack will let you invite collaborators to help build you stack. You will also have the option to allow other users to use your stack. "),h.Qb(),h.Rb(3,"button",14),h.Zb("click",(function(){return h.rc(t),h.dc().publishStack()})),h.Ec(4,"Publish Stack"),h.Qb(),h.Qb()}}function X(t,e){if(1&t&&h.Nb(0,4),2&t){h.dc();const t=h.oc(13);h.jc("ngTemplateOutlet",t)}}function Y(t,e){1&t&&(h.Rb(0,"span",28),h.Ec(1,"None"),h.Qb())}function B(t,e){if(1&t){const t=h.Sb();h.Rb(0,"span",29),h.Zb("mouseenter",(function(){h.rc(t);const i=e.$implicit;return h.dc(3).tagHover=i}))("mouseleave",(function(){return h.rc(t),h.dc(3).tagHover=null}))("click",(function(){h.rc(t);const i=e.$implicit;return h.dc(3).removeTag(i)})),h.Ec(1),h.ec(2,"titlecase"),h.Qb()}if(2&t){const t=e.$implicit,i=h.dc(3);h.jc("ngClass",i.tagHover==t?"badge-danger":"badge-primary"),h.Ab(1),h.Hc("",h.fc(2,3,t)," ",i.tagHover==t?"X":"","")}}function tt(t,e){if(1&t){const t=h.Sb();h.Pb(0),h.Rb(1,"div",15),h.Rb(2,"mat-form-field",20),h.Rb(3,"mat-label"),h.Ec(4,"Description"),h.Qb(),h.Mb(5,"textarea",21),h.Qb(),h.Rb(6,"button",18),h.Zb("click",(function(){return h.rc(t),h.dc(2).updateDescription()})),h.Ec(7,"Save "),h.Qb(),h.Qb(),h.Rb(8,"div",22),h.Mb(9,"i",23),h.Ec(10," Tags"),h.Qb(),h.Rb(11,"div"),h.Cc(12,Y,2,0,"span",24),h.Cc(13,B,3,5,"span",25),h.Rb(14,"span",26),h.Zb("click",(function(){return h.rc(t),h.dc(2).addTag()})),h.Mb(15,"i",27),h.Qb(),h.Qb(),h.Ob()}if(2&t){const t=h.dc(2);h.Ab(5),h.jc("formControl",t.formControls.description),h.Ab(1),h.jc("disabled",t.formControls.description.value===t.stack.description),h.Ab(6),h.jc("ngIf",0==t.tags.length),h.Ab(1),h.jc("ngForOf",t.tags)}}function et(t,e){if(1&t){const t=h.Sb();h.Rb(0,"div",15),h.Rb(1,"mat-form-field",16),h.Rb(2,"mat-label"),h.Ec(3,"Name"),h.Qb(),h.Mb(4,"input",17),h.Qb(),h.Rb(5,"button",18),h.Zb("click",(function(){return h.rc(t),h.dc().rename()})),h.Ec(6,"Save "),h.Qb(),h.Qb(),h.Cc(7,tt,16,4,"ng-container",19)}if(2&t){const t=h.dc();h.Ab(4),h.jc("formControl",t.formControls.name),h.Ab(1),h.jc("disabled",t.formControls.name.value===t.stack.name),h.Ab(2),h.jc("ngIf",t.stackIsShared&&t.stack.remote)}}function it(t,e){if(1&t){const t=h.Sb();h.Mb(0,"share-environment-settings",30),h.Rb(1,"button",31),h.Zb("click",(function(){return h.rc(t),h.dc().revokeStack()})),h.Ec(2,"Revoke All Access"),h.Qb()}if(2&t){const t=h.dc();h.jc("environment",t.stack)("userId",t.userId)("userIsAdmin",t.userIsAdmin)}}let nt=(()=>{class t{constructor(t,e,i,n,c,a,s,r){this.stackService=t,this.dialog=e,this.appEnvironmentService=i,this.userService=n,this.dialogService=c,this.organizationsApi=a,this.dialogRef=s,this.data=r,this.userIsAdmin=!1,this.stackIsShared=!1,this.formControls={description:new m.g(""),name:new m.g("",[m.F.minLength(2)])},this.tags=[],this.tagHover=null,this.subs=new o.a,this.publishStack=()=>{const t=this.organizationsApi.getOrganizationsForUser(this.userId).pipe(Object(l.a)(1)).subscribe(e=>{this.dialog.open(P,{data:{stack:this.stack,organizations:e},position:{top:"100px"},minWidth:"400px",autoFocus:!0}).afterClosed().subscribe(t=>{if(!t)return;const e=this.stackService.userStacks().pipe(Object(l.a)(1)).subscribe(t=>{this.stack=t.find(t=>t.id===this.stack.id),this.stackIsShared=!0,e.unsubscribe()})}),t.unsubscribe()},()=>this.dialogService.alertUnknownErrorTryAgain())},this.stack=r.environment,this.formControls.description.setValue(this.stack.description),this.formControls.name.setValue(this.stack.name),this.subs.add(this.userService.user$.subscribe(t=>{t&&(this.userId=t.uid)}))}ngOnInit(){this.stackIsShared=!!this.stack.remote,this.stackIsShared&&this.loadTags()}ngOnDestroy(){this.subs.unsubscribe()}close(){this.dialogRef.close()}revokeStack(){const t=this.dialog.open(G.a,{data:{title:`Revoke stack ${this.stack.name}?`,text:"Revoking this stack will remove it from the stackjoy community. It will no longer be public and other users will no longer be able to install it. This is a permanent action and cannot be undone.",button:{yes:"Revoke",no:"Cancel"}},position:{top:"100px"},autoFocus:!0});Object(r.a)([t.afterClosed(),this.appEnvironmentService.currentEnvironment$.pipe(Object(l.a)(1))]).subscribe(([t,e])=>{!1!==t&&this.stackService.purge(this.stack.remote.id).subscribe(()=>{delete this.stack.remote,this.stack.isLocal=!0,this.stackIsShared=!1},t=>{this.dialogService.openAlertDialog({title:"Revoke Stack",text:"Something went wrong: "+(t.message||"Unknown error occurred...")})})})}updateDescription(){this.stackService.updateDescription(this.stack.remote.id,this.formControls.description.value).pipe(Object(l.a)(1)).subscribe(()=>{this.stack.description=this.formControls.description.value},()=>{this.dialogService.alertUnknownErrorTryAgain()})}loadTags(){var t,e;(null===(e=null===(t=this.stack)||void 0===t?void 0:t.remote)||void 0===e?void 0:e.id)&&this.stackService.getTags(this.stack.remote.id).pipe(Object(l.a)(1)).subscribe(t=>{this.tags=t},()=>this.dialogService.alertUnknownErrorTryAgain())}addTag(){this.dialogService.dialog.open(U,{data:{stack:this.stack,tags:this.tags},width:"50vw",maxWidth:"800px",minWidth:"500px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(()=>{this.loadTags()},()=>this.dialogService.alertUnknownErrorTryAgain())}removeTag(t){var e;this.stackService.removeTag(null===(e=this.stack.remote)||void 0===e?void 0:e.id,t).pipe(Object(l.a)(1)).subscribe(()=>{this.tags=this.tags.filter(e=>e!==t)},()=>this.dialogService.alertUnknownErrorTryAgain())}rename(){var t;if(!this.formControls.name.valid)return;const e=this.formControls.name.value;this.appEnvironmentService.rename(this.stack.id||(null===(t=this.stack.remote)||void 0===t?void 0:t.id),e).pipe(Object(l.a)(1)).subscribe(()=>{this.stack.name=e},t=>{var i;(null===(i=t.error)||void 0===i?void 0:i.code)===p.HttpError.ENVIRONMENT_NAME_IN_USE?this.dialogService.openAlertDialog({title:"Name already in use!",text:`Stack name '${e}' is in use. Please choose a different name and try again.`}):this.dialogService.alertUnknownErrorTryAgain()})}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(v.a),h.Lb(g.b),h.Lb(_.a),h.Lb(H.a),h.Lb(W.a),h.Lb(k.a),h.Lb(g.h),h.Lb(g.a))},t.\u0275cmp=h.Fb({type:t,selectors:[["stack-settings-dialog"]],decls:17,vars:6,consts:[[1,"text-large"],[3,"name","prefix"],["mat-dialog-content",""],["label","Basic Info"],[3,"ngTemplateOutlet"],["label","Share Settings"],["class","my-2",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],["basicSettings",""],["shareSettings",""],["mat-dialog-actions","",3,"align"],["mat-button","","mat-dialog-close",""],[1,"my-2"],[1,"mb-2"],["mat-button","","mat-raised-button","","color","primary",3,"click"],[1,"mat-form-field-flex","overflow-hidden"],[1,"mt-2"],["matInput","",3,"formControl"],["mat-button","","mat-stroked-button","",1,"ml-2",3,"disabled","click"],[4,"ngIf"],["appearance","outline",1,"mt-2"],["matInput","","matTextareaAutosize","","matAutosizeMaxRows","3","placeholder","None",3,"formControl"],[1,"text-muted","text-small"],[1,"fa","fa-tags"],["class","ml-2",4,"ngIf"],["class","ml-2 badge",3,"ngClass","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"ml-2","badge","badge-secondary",3,"click"],[1,"fa","fa-plus"],[1,"ml-2"],[1,"ml-2","badge",3,"ngClass","mouseenter","mouseleave","click"],[3,"environment","userId","userIsAdmin"],["mat-button","","mat-raised-button","","color","warn",3,"click"]],template:function(t,e){if(1&t&&(h.Rb(0,"div",0),h.Mb(1,"stack-name",1),h.Ec(2," Settings\n"),h.Qb(),h.Rb(3,"div",2),h.Rb(4,"mat-tab-group"),h.Rb(5,"mat-tab",3),h.Nb(6,4),h.Qb(),h.Rb(7,"mat-tab",5),h.Cc(8,K,5,0,"div",6),h.Cc(9,X,1,1,"ng-container",7),h.Qb(),h.Qb(),h.Qb(),h.Cc(10,et,8,3,"ng-template",null,8,h.Dc),h.Cc(12,it,3,3,"ng-template",null,9,h.Dc),h.Rb(14,"div",10),h.Rb(15,"button",11),h.Ec(16,"Close"),h.Qb(),h.Qb()),2&t){const t=h.oc(11);h.Ab(1),h.jc("name",e.stack.name)("prefix",null==e.stack.remote||null==e.stack.remote.organization?null:e.stack.remote.organization.prefix),h.Ab(5),h.jc("ngTemplateOutlet",t),h.Ab(2),h.jc("ngIf",!e.stackIsShared),h.Ab(1),h.jc("ngIf",e.stackIsShared&&!!e.stack.remote),h.Ab(5),h.jc("align","end")}},directives:[V.a,g.f,q.b,q.a,n.A,n.t,g.c,C.b,g.d,R.c,R.g,z.a,m.c,m.r,m.h,z.c,n.s,n.q,J.a],pipes:[n.F],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%;padding:0 5px}.permTable[_ngcontent-%COMP%]{width:100%}.tableActions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:5px}"]}),t})(),ct=(()=>{class t{constructor(t,e,i,n,c){this.organizationsApi=t,this.stackApiService=e,this.appEnvironmentService=i,this.dialogService=n,this.dialog=c}publishStack(t,e){this.organizationsApi.getOrganizationsForUser(e).pipe(Object(l.a)(1)).subscribe(e=>{this.dialog.open(P,{data:{stack:t,organizations:e},position:{top:"100px"},minWidth:"400px",autoFocus:!0}).afterClosed().subscribe(t=>{this.appEnvironmentService.refreshCurrentEnvironment()})},()=>this.dialogService.alertUnknownErrorTryAgain())}}return t.\u0275fac=function(e){return new(e||t)(h.Vb(k.a),h.Vb(v.a),h.Vb(_.a),h.Vb(W.a),h.Vb(g.b))},t.\u0275prov=h.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var at=i("a8/g"),st=i("xm+p"),ot=i("k1Ex"),rt=i("STbY"),bt=i("Xa2L");function lt(t,e){if(1&t){const t=h.Sb();h.Pb(0),h.Rb(1,"button",1),h.Zb("click",(function(){return h.rc(t),h.dc().downloadRemoteStack()})),h.Mb(2,"i",2),h.Ec(3," Download Remote Stack"),h.Qb(),h.Ob()}}function dt(t,e){1&t&&(h.Pb(0),h.Rb(1,"div",3),h.Mb(2,"mat-progress-bar",4),h.Rb(3,"div",5),h.Ec(4,"downloading stack"),h.Qb(),h.Qb(),h.Ob())}function ut(t,e){if(1&t&&(h.Pb(0),h.Rb(1,"div",6),h.Mb(2,"i",7),h.Ec(3),h.Qb(),h.Ob()),2&t){const t=h.dc();h.Ab(3),h.Gc(" Error Downloading Stack ",t.stack.name,"")}}let gt=(()=>{class t{constructor(t){this.stackService=t,this.onFinished=new h.o,this.actionState=f.a,this.currentState=f.a.IDLE,this.subs=new o.a}ngOnInit(){}ngOnDestroy(){this.subs.unsubscribe()}downloadRemoteStack(){this.currentState=this.actionState.ACQUIRING,this.subs.add(this.stackService.downloadStack(this.stack.remote.id,this.stack.name,this.stack.remote.version,s.a.Environment.Type.Stack).subscribe(t=>{this.currentState=this.actionState.SUCCESS,this.onFinished.emit(!0)}))}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(v.a))},t.\u0275cmp=h.Fb({type:t,selectors:[["download-remote-stack"]],inputs:{stack:"stack"},outputs:{onFinished:"onFinished"},decls:3,vars:3,consts:[[4,"ngIf"],["mat-button","",3,"click"],[1,"fa","fa-download","text-muted"],[1,"text-center"],["mode","buffer"],[1,"text-small"],[1,"text-warning"],[1,"fa","fa-exclamation-triangle"]],template:function(t,e){1&t&&(h.Cc(0,lt,4,0,"ng-container",0),h.Cc(1,dt,5,0,"ng-container",0),h.Cc(2,ut,4,1,"ng-container",0)),2&t&&(h.jc("ngIf",e.currentState===e.actionState.IDLE),h.Ab(1),h.jc("ngIf",e.currentState===e.actionState.ACQUIRING),h.Ab(1),h.jc("ngIf",e.currentState===e.actionState.FAILED))},directives:[n.t,C.b,Q.a],styles:[""]}),t})();function mt(t,e){if(1&t){const t=h.Sb();h.Rb(0,"div",15),h.Rb(1,"div",16),h.Rb(2,"div",17),h.Rb(3,"div",18),h.Rb(4,"div"),h.Ec(5),h.ec(6,"titlecase"),h.Qb(),h.Rb(7,"div",19),h.Ec(8),h.ec(9,"titlecase"),h.Qb(),h.Qb(),h.Rb(10,"div"),h.Rb(11,"button",20),h.Zb("click",(function(){h.rc(t);const i=e.$implicit;return h.dc(3).acceptInvite(i.eid)})),h.Ec(12,"Accept"),h.Qb(),h.Rb(13,"button",20),h.Zb("click",(function(){h.rc(t);const i=e.$implicit;return h.dc(3).declineInvite(i.eid)})),h.Ec(14,"Decline"),h.Qb(),h.Qb(),h.Qb(),h.Qb(),h.Qb()}if(2&t){const t=e.$implicit;h.Ab(5),h.Fc(h.fc(6,2,t.name)),h.Ab(3),h.Gc("Invited by: ",h.fc(9,4,t.inviter.displayName)||t.inviter.email,"")}}function ft(t,e){if(1&t&&(h.Pb(0),h.Rb(1,"div",13),h.Ec(2,"Stack Invites"),h.Qb(),h.Cc(3,mt,15,6,"div",14),h.Ob()),2&t){const t=h.dc(2);h.Ab(3),h.jc("ngForOf",t.invites)}}function pt(t,e){if(1&t){const t=h.Sb();h.Pb(0),h.Rb(1,"div",21),h.Rb(2,"div",22),h.Zb("click",(function(){return h.rc(t),h.dc(2).gotoLogin()})),h.Mb(3,"i",23),h.Ec(4," Please Log In to use this section. "),h.Mb(5,"i",24),h.Qb(),h.Rb(6,"div",25),h.Zb("click",(function(){return h.rc(t),h.dc(2).goToCreateAccount()})),h.Ec(7," You can also create an account and receive an additional workspace. "),h.Qb(),h.Qb(),h.Ob()}}function ht(t,e){1&t&&(h.Rb(0,"div",27),h.Ec(1,"No stacks present"),h.Qb())}function vt(t,e){1&t&&(h.Rb(0,"div",39),h.Rb(1,"button",40),h.Mb(2,"i",41),h.Qb(),h.Qb())}function kt(t,e){if(1&t){const t=h.Sb();h.Rb(0,"div",7),h.Rb(1,"button",42),h.Zb("click",(function(){h.rc(t);const e=h.dc().$implicit;return h.dc(3).switchEnvironment(e)})),h.Mb(2,"i",43),h.Qb(),h.Qb()}if(2&t){const t=h.dc().$implicit,e=h.dc(3);h.Ab(1),h.jc("disabled",e.isCurrentEnv(t))}}function St(t,e){if(1&t){const t=h.Sb();h.Pb(0),h.Rb(1,"div",7),h.Rb(2,"button",44),h.Zb("click",(function(){h.rc(t);const e=h.dc(2).$implicit;return h.dc(3).publishStack(e)})),h.Mb(3,"i",45),h.Ec(4," Publish Stack"),h.Qb(),h.Qb(),h.Ob()}2&t&&(h.Ab(2),h.jc("title","Publish Stack"))}function Rt(t,e){1&t&&h.Mb(0,"mat-spinner",54),2&t&&h.jc("diameter",20)}function It(t,e){if(1&t){const t=h.Sb();h.Rb(0,"button",44),h.Zb("click",(function(){h.rc(t);const e=h.dc(5).$implicit;return h.dc(3).pushStack(e)})),h.Mb(1,"i",55),h.Ec(2," Publish New Changes"),h.Qb()}2&t&&h.jc("title","Publish New Changes")}function At(t,e){if(1&t&&(h.Rb(0,"div",51),h.Cc(1,Rt,1,1,"mat-spinner",52),h.Cc(2,It,3,1,"button",53),h.Qb()),2&t){const t=h.dc(7);h.Ab(1),h.jc("ngIf","syncing"===t.currentState),h.Ab(1),h.jc("ngIf","idle"===t.currentState)}}function Qt(t,e){1&t&&h.Mb(0,"mat-spinner",54),2&t&&h.jc("diameter",20)}function Ct(t,e){if(1&t){const t=h.Sb();h.Rb(0,"button",44),h.Zb("click",(function(){h.rc(t);const e=h.dc(5).$implicit;return h.dc(3).pullStack(e)})),h.Mb(1,"i",56),h.Ec(2," New Updates Available"),h.Qb()}2&t&&h.jc("title","New Updates Available")}function Et(t,e){if(1&t&&(h.Rb(0,"div",51),h.Cc(1,Qt,1,1,"mat-spinner",52),h.Cc(2,Ct,3,1,"button",53),h.Qb()),2&t){const t=h.dc(7);h.Ab(1),h.jc("ngIf","syncing"===t.currentState),h.Ab(1),h.jc("ngIf","idle"===t.currentState)}}function xt(t,e){1&t&&(h.Rb(0,"div",57),h.Ec(1,"Requires merge!"),h.Qb())}function wt(t,e){if(1&t&&(h.Rb(0,"div",28),h.Cc(1,At,3,2,"div",47),h.Cc(2,Et,3,2,"div",47),h.Cc(3,xt,2,0,"div",48),h.Rb(4,"div",49),h.Mb(5,"i",50),h.Ec(6," Published"),h.Qb(),h.Qb()),2&t){const t=h.dc(3).$implicit;h.Ab(1),h.jc("ngIf",!t.remote.isClean),h.Ab(1),h.jc("ngIf",t.localVersion!=(null==t.remote?null:t.remote.version)),h.Ab(1),h.jc("ngIf",null==t.remote?null:t.remote.requiresMerge)}}function jt(t,e){if(1&t&&(h.Pb(0),h.Cc(1,wt,7,3,"div",46),h.Ob()),2&t){const t=h.dc(2).$implicit;h.Ab(1),h.jc("ngIf",t.remote)}}function yt(t,e){if(1&t){const t=h.Sb();h.Pb(0),h.Rb(1,"download-remote-stack",58),h.Zb("onFinished",(function(){return h.rc(t),h.dc(5).stackApiService.refresh()})),h.Qb(),h.Ob()}if(2&t){const t=h.dc(2).$implicit;h.Ab(1),h.jc("stack",t)}}function Ot(t,e){if(1&t&&(h.Pb(0),h.Cc(1,St,5,1,"ng-container",0),h.Cc(2,jt,2,1,"ng-container",0),h.Cc(3,yt,2,1,"ng-container",0),h.Ob()),2&t){const t=h.dc().$implicit;h.Ab(1),h.jc("ngIf",t.isLocal),h.Ab(1),h.jc("ngIf",!t.remoteOnly),h.Ab(1),h.jc("ngIf",t.remoteOnly)}}function Lt(t,e){if(1&t&&(h.Rb(0,"div",71),h.Ec(1),h.Qb()),2&t){const t=h.dc(2).$implicit;h.Ab(1),h.Gc(" ",t.description," ")}}function Tt(t,e){1&t&&h.Mb(0,"mat-divider")}function Mt(t,e){if(1&t&&(h.Rb(0,"tr"),h.Rb(1,"td",63),h.Ec(2,"Version:"),h.Qb(),h.Rb(3,"td",72),h.Ec(4),h.Qb(),h.Qb()),2&t){const t=h.dc(2).$implicit;h.Ab(4),h.Fc(null==t.remote?null:t.remote.version)}}function Ft(t,e){if(1&t&&(h.Rb(0,"span",74),h.Ec(1),h.ec(2,"titlecase"),h.Qb()),2&t){const t=e.$implicit;h.Ab(1),h.Fc(h.fc(2,1,t))}}function Pt(t,e){if(1&t&&(h.Rb(0,"tr"),h.Rb(1,"td",63),h.Ec(2,"Tags:"),h.Qb(),h.Rb(3,"td",72),h.Cc(4,Ft,3,3,"span",73),h.Qb(),h.Qb()),2&t){const t=h.dc(2).$implicit,e=h.dc(3);h.Ab(4),h.jc("ngForOf",e.tags[t.id])}}function Dt(t,e){if(1&t){const t=h.Sb();h.Rb(0,"button",75),h.Zb("click",(function(){h.rc(t);const e=h.dc(2).$implicit;return h.dc(3).switchEnvironment(e)})),h.Ec(1,"Switch To This Stack"),h.Qb()}if(2&t){const t=h.dc(2).$implicit,e=h.dc(3);h.jc("disabled",e.isCurrentEnv(t))}}function $t(t,e){if(1&t){const t=h.Sb();h.Rb(0,"button",69),h.Zb("click",(function(){h.rc(t);const e=h.dc(2).$implicit;return h.dc(3).deleteStack(e)})),h.Rb(1,"span"),h.Ec(2,"Delete Stack"),h.Qb(),h.Qb()}}const Nt=function(t){return{stack:t}};function zt(t,e){if(1&t){const t=h.Sb();h.Rb(0,"div",59),h.Rb(1,"div",15),h.Cc(2,Lt,2,1,"div",60),h.Cc(3,Tt,1,0,"mat-divider",0),h.Rb(4,"div",61),h.Rb(5,"table",62),h.Cc(6,Mt,5,1,"tr",0),h.Rb(7,"tr"),h.Rb(8,"td",63),h.Ec(9,"Codebase:"),h.Qb(),h.Rb(10,"td",64),h.Ec(11),h.Qb(),h.Qb(),h.Cc(12,Pt,5,1,"tr",0),h.Qb(),h.Qb(),h.Qb(),h.Rb(13,"div",65),h.Cc(14,Dt,2,1,"button",66),h.Rb(15,"button",67),h.Rb(16,"div",28),h.Rb(17,"div",7),h.Ec(18,"Install..."),h.Qb(),h.Rb(19,"div",10),h.Mb(20,"i",68),h.Qb(),h.Qb(),h.Qb(),h.Rb(21,"button",69),h.Zb("click",(function(){h.rc(t);const e=h.dc().$implicit;return h.dc(3).shareStack(e)})),h.Ec(22,"Stack Settings"),h.Qb(),h.Cc(23,$t,3,0,"button",70),h.Qb(),h.Qb()}if(2&t){const t=h.dc().$implicit,e=h.dc(3),i=h.oc(2);h.Ab(2),h.jc("ngIf",t.description),h.Ab(1),h.jc("ngIf",t.description),h.Ab(3),h.jc("ngIf",t.remote),h.Ab(4),h.jc("title",t.codebasePath),h.Ab(1),h.Gc(" ",t.codebasePath,""),h.Ab(1),h.jc("ngIf",(null==e.tags[t.id]?null:e.tags[t.id].length)>0),h.Ab(2),h.jc("ngIf",!t.remoteOnly),h.Ab(1),h.jc("matMenuTriggerFor",i)("matMenuTriggerData",h.lc(10,Nt,t)),h.Ab(8),h.jc("ngIf",!t.remoteOnly)}}function Zt(t,e){if(1&t){const t=h.Sb();h.Rb(0,"div",15),h.Rb(1,"div",16),h.Rb(2,"div",28),h.Rb(3,"div",29),h.Cc(4,vt,3,0,"div",30),h.Cc(5,kt,3,1,"div",31),h.Qb(),h.Rb(6,"div",7),h.Mb(7,"i",32),h.Qb(),h.Rb(8,"div",33),h.Zb("click",(function(){h.rc(t);const i=e.$implicit;return h.dc(3).toggleItemList(i)})),h.Mb(9,"stack-name",34),h.Qb(),h.Rb(10,"div",10),h.Cc(11,Ot,4,3,"ng-container",0),h.Qb(),h.Rb(12,"div",35),h.Rb(13,"button",36),h.Zb("click",(function(){h.rc(t);const i=e.$implicit;return h.dc(3).toggleItemList(i)})),h.Mb(14,"i",37),h.Qb(),h.Qb(),h.Qb(),h.Cc(15,zt,24,12,"div",38),h.Qb(),h.Qb()}if(2&t){const t=e.$implicit,i=h.dc(3);h.Ab(4),h.jc("ngIf",t.remoteOnly),h.Ab(1),h.jc("ngIf",!t.remoteOnly),h.Ab(2),h.Db("text-primary",i.isCurrentEnv(t))("text-muted",!i.isCurrentEnv(t)),h.Ab(1),h.Db("text-primary",i.isCurrentEnv(t)),h.Ab(1),h.jc("name",t.name)("prefix",null==t.remote||null==t.remote.organization?null:t.remote.organization.prefix),h.Ab(2),h.jc("ngIf",i.isLoggedIn),h.Ab(3),h.Db("fa-chevron-up",i.itemList[t.id])("fa-chevron-down",!i.itemList[t.id]),h.Ab(1),h.jc("ngIf",i.itemList[t.id])}}function Ut(t,e){if(1&t&&(h.Pb(0),h.Cc(1,ht,2,0,"div",26),h.Cc(2,Zt,16,16,"div",14),h.Ob()),2&t){const t=h.dc(2);h.Ab(1),h.jc("ngIf",0===t.stacks.length),h.Ab(1),h.jc("ngForOf",t.stacks)}}function Gt(t,e){if(1&t){const t=h.Sb();h.Pb(0),h.Rb(1,"div",4),h.Rb(2,"div",5),h.Rb(3,"div",6),h.Rb(4,"div",7),h.Cc(5,ft,4,1,"ng-container",0),h.Rb(6,"div",8),h.Rb(7,"div",9),h.Ec(8,"My Stacks"),h.Qb(),h.Rb(9,"div",10),h.Rb(10,"button",11),h.Zb("click",(function(){return h.rc(t),h.dc().createNewStack()})),h.Mb(11,"i",12),h.Ec(12," New Stack"),h.Qb(),h.Qb(),h.Qb(),h.Cc(13,pt,8,0,"ng-container",0),h.Cc(14,Ut,3,2,"ng-container",0),h.Qb(),h.Qb(),h.Qb(),h.Qb(),h.Ob()}if(2&t){const t=h.dc();h.Ab(5),h.jc("ngIf",t.invites.length>0),h.Ab(8),h.jc("ngIf",!t.isLoggedIn),h.Ab(1),h.jc("ngIf",t.isLoggedIn)}}function _t(t,e){if(1&t){const t=h.Sb();h.Rb(0,"button",76),h.Zb("click",(function(){h.rc(t);const i=e.stack;return h.dc().installIntoCurrentEnvironment(i)})),h.Ec(1,"Install Into Current "),h.Rb(2,"span",77),h.Ec(3),h.Qb(),h.Qb(),h.Rb(4,"button",78),h.Zb("click",(function(){h.rc(t);const i=e.stack;return h.dc().installIntoNewWorkspace(i)})),h.Ec(5,"Install Into New Workspace"),h.Qb()}if(2&t){const t=e.stack,i=h.dc();h.jc("disabled",i.isCurrentEnv(t)),h.Ab(3),h.Fc(i.currentEnvironment.type)}}const Ht=c.f.forChild([{path:"",component:(()=>{class t{constructor(t,e,i,n,c,a,s,r,b){this.appEnvironmentService=t,this.dialog=e,this.userService=i,this.stackApiService=n,this.stackService=c,this.dialogService=a,this.appConsoleService=s,this.navigationService=r,this.myItemsService=b,this.invites=[],this.isLoggedIn=!1,this.itemList={},this.tags={},this.currentState="idle",this.subs=new o.a}ngOnInit(){this.getEnvironments(),this.getPendingInvites(),this.subs.add(this.userService.user$.subscribe(t=>{this.user=t,this.isLoggedIn=t.isLoggedIn})),this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>{this.currentEnvironment=t}))}toggleItemList(t){this.itemList[t.id]||this.loadTags(t),this.itemList[t.id]=!this.itemList[t.id]}loadTags(t){t.remote&&t.remote.id&&this.subs.add(this.stackApiService.getTags(t.remote.id).pipe(Object(l.a)(1)).subscribe(e=>{this.tags[t.id]=e}))}getEnvironments(){this.subs.add(this.stackApiService.userStacks().subscribe(t=>{this.stacks=t}))}createNewStack(){this.isLoggedIn?this.dialog.open(b.a,{data:{type:s.a.Environment.Type.Stack},minWidth:"600px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(()=>this.stackApiService.refresh()):this.dialogService.openMustLoginDialog()}ngOnDestroy(){this.subs.unsubscribe()}isCurrentEnv(t){var e;return(null===(e=this.currentEnvironment)||void 0===e?void 0:e.id)===t.id}switchEnvironment(t){this.appEnvironmentService.switchToEnvironment(t.id).pipe(Object(d.a)(()=>this.navigationService.navigateToEnvironmentHome())).subscribe(()=>null)}pushStack(t){this.currentState="syncing",this.stackApiService.publishStack(t.id).subscribe(e=>{var i;this.currentState="finished",this.subs.add(this.dialogService.openAlertDialog({title:"Push Successful",text:`${t.name} v${null===(i=e.remote)||void 0===i?void 0:i.version} has been published`}).afterClosed().subscribe(t=>this.currentState="idle"))})}pullStack(t){this.currentState="syncing",this.subs.add(this.stackApiService.syncStack(t.id,t.remote.version).subscribe(()=>{this.currentState="finished",this.stackApiService.refresh(),this.subs.add(this.dialogService.openAlertDialog({title:"Sync Stack",text:"Stack has been synced"}).afterClosed().subscribe(t=>this.currentState="idle"))},t=>{var e;this.dialogService.openAlertDialog({title:"Sync Stack",text:(null===(e=t.error)||void 0===e?void 0:e.message)||"Server error!"})}))}deleteStack(t){var e;const i=this.dialogService.openConfirmationDialog({title:`Delete stack ${t.name}?`,text:(null===(e=t.remote)||void 0===e?void 0:e.id)?"Deleting this stack will cause any unpublished changes to be lost":"Deleting this stack is a permanent action and cannot be undone.",button:{yes:"Delete",no:"Cancel"}});this.subs.add(Object(r.a)([i.afterClosed(),this.appEnvironmentService.currentEnvironment$.pipe(Object(l.a)(1))]).subscribe(([e,i])=>{!0===e&&this.stackApiService.deleteStack(t.id).subscribe(()=>{t.id===i.id&&this.dialog.open(u.a,{data:{},disableClose:!0,position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>console.log("dialog result: ",t)),this.stackApiService.refresh()})}))}installIntoCurrentEnvironment(t){this.appConsoleService.openBluConsole({command:"install "+t.name,extraInfo:{stack:t,source:"local"}})}shareStack(t){this.user?this.dialog.open(nt,{data:{environment:t,type:"stack"},width:"50vw",maxWidth:"800px",minWidth:"500px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(()=>{this.stackApiService.refresh(),this.appEnvironmentService.loadCurrentEnvironment(!0)}):this.dialogService.openMustLoginDialog()}getPendingInvites(){this.subs.add(this.stackApiService.pendingInvites$.subscribe(t=>{this.invites=t}))}installIntoNewWorkspace(t){this.myItemsService.createNewWorkspace(t)}gotoLogin(){this.navigationService.navigateToLogin()}goToCreateAccount(){this.navigationService.navigateToCreateAccount()}acceptInvite(t){return Object(a.a)(this,void 0,void 0,(function*(){this.stackApiService.acceptInvite(t).pipe(Object(l.a)(1)).subscribe(()=>{this.stackApiService.fetchPendingInvites()})}))}declineInvite(t){return Object(a.a)(this,void 0,void 0,(function*(){this.stackApiService.declineInvite(t).pipe(Object(l.a)(1)).subscribe(()=>{this.stackApiService.fetchPendingInvites()})}))}publishStack(t){this.stackService.publishStack(t,this.user.uid)}}return t.\u0275fac=function(e){return new(e||t)(h.Lb(_.a),h.Lb(g.b),h.Lb(H.a),h.Lb(v.a),h.Lb(ct),h.Lb(W.a),h.Lb(at.a),h.Lb(st.a),h.Lb(ot.a))},t.\u0275cmp=h.Fb({type:t,selectors:[["my-stacks"]],decls:4,vars:1,consts:[[4,"ngIf"],["xPosition","before"],["installMenu",""],["matMenuContent",""],[1,"basic-page","flex-column"],[1,"pt-3",2,"max-width","800px"],[1,"pl-3"],[1,""],[1,"pl-2","d-flex","align-items-start"],[1,"text-bold","py-2"],[1,"ml-auto"],["mat-button","",3,"click"],[1,"fa","fa-plus"],[1,"text-bold","p-2"],["class","p-2",4,"ngFor","ngForOf"],[1,"p-2"],[1,"shadow","p-2","border","rounded"],[1,"d-flex","align-items-center","justify-content-between"],[1,"pl-3","cursor-pointer"],[1,"subheader","text-small","text-muted"],["mat-raised-button","",3,"click"],[1,"p-2","text-center","cursor-pointer"],[1,"",3,"click"],[1,"fa","fa-exclamation-circle"],[1,"fa","fa-arrow-alt-circle-right"],[1,"text-small","text-muted","hover-as-link","pt-2",3,"click"],["class","text-center p-2",4,"ngIf"],[1,"text-center","p-2"],[1,"d-flex","align-items-center"],[1,"pr-3"],["class","","style","width:40px; height:40px;",4,"ngIf"],["class","",4,"ngIf"],[1,"fa","fa-layer-group"],[1,"pl-2","cursor-pointer",3,"click"],[3,"name","prefix"],[1,"ml-1"],["mat-button","","mat-icon-button","",3,"click"],[1,"fa"],["class","border-top p-2 d-flex align-items-start",4,"ngIf"],[1,"",2,"width","40px","height","40px"],["mat-button","","mat-icon-button",""],[1,"fa","fa-download","text-muted"],["mat-button","","mat-icon-button","",3,"disabled","click"],[1,"fa","fa-exchange-alt"],["mat-button","",3,"title","click"],[1,"fa","fa-globe","text-muted"],["class","d-flex align-items-center",4,"ngIf"],["class","ml-2",4,"ngIf"],["class","ml-2","style","color: red",4,"ngIf"],[1,"ml-2","text-muted","text-small"],[1,"fa","fa-globe"],[1,"ml-2"],[3,"diameter",4,"ngIf"],["mat-button","",3,"title","click",4,"ngIf"],[3,"diameter"],[1,"fa","fa-upload","text-muted","mr-1"],[1,"fa","fa-download","text-muted","mr-1"],[1,"ml-2",2,"color","red"],[3,"stack","onFinished"],[1,"border-top","p-2","d-flex","align-items-start"],["class","my-2",4,"ngIf"],[1,"py-2"],[1,"stack-info-table"],[1,"text-muted"],[1,"text-small","ellipsis",2,"max-width","400px",3,"title"],[1,"ml-auto","p-2","border-left"],["mat-button","","class","d-block w-100",3,"disabled","click",4,"ngIf"],["mat-button","",1,"d-block","w-100",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-chevron-down"],["mat-button","",1,"d-block","w-100","text-left",3,"click"],["mat-button","","class","d-block w-100 text-left",3,"click",4,"ngIf"],[1,"my-2"],[1,"text-small"],["class","mr-2 badge badge-primary",4,"ngFor","ngForOf"],[1,"mr-2","badge","badge-primary"],["mat-button","",1,"d-block","w-100",3,"disabled","click"],["mat-menu-item","",3,"disabled","click"],[1,"text-capitalize"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(h.Cc(0,Gt,15,3,"ng-container",0),h.Rb(1,"mat-menu",1,2),h.Cc(3,_t,6,2,"ng-template",3),h.Qb()),2&t&&h.jc("ngIf",e.stacks)},directives:[n.t,rt.e,rt.a,C.b,n.s,V.a,bt.b,gt,rt.d,S.a,rt.b],pipes:[n.F],styles:[".codebase-path[_ngcontent-%COMP%]{font-size:9px;line-height:9px}[_nghost-%COMP%]{display:flex;flex:1}.stack-info-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px}"]}),t})(),children:[]}]);var Wt=i("NFeN");let Vt=(()=>{class t{}return t.\u0275mod=h.Jb({type:t}),t.\u0275inj=h.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,C.c,Q.b]]}),t})();var qt=i("7n/8"),Jt=i("Qu3c"),Kt=i("QibW");let Xt=(()=>{class t{}return t.\u0275mod=h.Jb({type:t}),t.\u0275inj=h.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,g.g,z.b,m.m,C.c,Kt.c,m.B,I.b,Q.b,S.b]]}),t})();var Yt=i("bKa3");let Bt=(()=>{class t{}return t.\u0275mod=h.Jb({type:t}),t.\u0275inj=h.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,Ht,C.c,rt.c,Wt.b,Vt,qt.a,Jt.b,Xt,m.m,z.b,S.b,Yt.a,bt.a]]}),t})()}}]);