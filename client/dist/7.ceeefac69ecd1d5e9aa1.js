(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{iGsW:function(e,t,n){"use strict";n.r(t),n.d(t,"AppEnvironmentModule",(function(){return q}));var i=n("ofXK"),c=n("tyNb"),o=n("quSY"),s=n("HdQx"),r=n("fXoL"),a=n("3sFK"),b=n("oCqB"),l=n("0IaG"),d=n("yiTJ"),u=n("a8/g"),p=n("Kxoc"),m=n("xm+p"),v=n("IYfF"),f=n("NQiz"),g=n("Qu3c"),h=n("bv9b");function Q(e,t){if(1&e){const e=r.Sb();r.Rb(0,"div",1),r.Rb(1,"div",25),r.Zb("click",(function(){return r.rc(e),r.dc().signUp()})),r.Rb(2,"div",11),r.Mb(3,"i",26),r.Qb(),r.Rb(4,"div",21),r.Ec(5," Sign up and receive a workspace for free. "),r.Mb(6,"i",27),r.Qb(),r.Qb(),r.Qb()}}function R(e,t){if(1&e){const e=r.Sb();r.Rb(0,"div",31),r.Ec(1,"No suggested stacks for your project. "),r.Rb(2,"span",32),r.Zb("click",(function(){return r.rc(e),r.dc(2).goToPublicStacks()})),r.Ec(3,"Click here to see all public stacks"),r.Qb(),r.Qb()}}function k(e,t){if(1&e){const e=r.Sb();r.Rb(0,"div",33),r.Rb(1,"div",34),r.Rb(2,"div",35),r.Ec(3),r.Qb(),r.Rb(4,"div",36),r.Zb("click",(function(){r.rc(e);const n=t.$implicit;return r.dc(2).installStack(n)})),r.Rb(5,"div",11),r.Mb(6,"i",37),r.Qb(),r.Rb(7,"div",38),r.Ec(8,"Install"),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&e){const e=t.$implicit;r.Ab(3),r.Fc(e.displayName)}}function S(e,t){if(1&e&&(r.Rb(0,"div",28),r.Cc(1,R,4,0,"div",29),r.Cc(2,k,9,1,"div",30),r.Qb()),2&e){const e=r.dc();r.Ab(1),r.jc("ngIf",0===e.stacks.length),r.Ab(1),r.jc("ngForOf",e.stacks)}}function y(e,t){1&e&&(r.Rb(0,"div",0),r.Mb(1,"mat-progress-bar",39),r.Qb())}let x=(()=>{class e{constructor(e,t,n,i,c,s,r){this.appConsoleService=e,this.dialog=t,this.bluService=n,this.navigationService=i,this.stackService=c,this.authService=s,this.appDocumentationService=r,this.subs=new o.a}ngOnInit(){this.subs.add(this.stackService.getPublicStacks().subscribe(e=>{this.stacks=e.filter(e=>"test"!==e.displayName)},e=>this.stacks=[])),this.subs.add(this.authService.user$.subscribe(e=>this.user=e))}ngOnDestroy(){this.subs.unsubscribe()}openConsole(){this.appConsoleService.openBluConsole()}openDocumentation(){this.appDocumentationService.toggleDocumentation()}generateTemplate(){this.appConsoleService.openBluConsole({inputs:{},command:"generate",suggestedNames:["stackjoy"]})}previewTemplate(){this.appConsoleService.openBluConsole({inputs:{},command:"preview",suggestedNames:["stackjoy"]})}editTemplate(){this.appConsoleService.openBluConsole({inputs:{},command:"edit",suggestedNames:["stackjoy"]})}createTemplate(){this.dialog.open(d.a,{minWidth:"600px",position:{top:"100px"},autoFocus:!0})}editExample(){this.bluService.getItems().subscribe(e=>{this.exampleTemplate=e.find(e=>{var t,n,i;return"documentation"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())&&"main"===(null===(i=null===(n=e.parent)||void 0===n?void 0:n.name)||void 0===i?void 0:i.toLowerCase())}),this.exampleTemplate&&this.navigationService.navigateTo(["editor"],{queryParams:{mode:"preview",itemId:this.exampleTemplate.id,rootDestination:"./sj-example",inputs:JSON.stringify({name:"blu-scripting-language"})}})})}installStack(e){this.appConsoleService.openBluConsole({command:"install "+e.displayName,extraInfo:{stack:e,source:"remote"}})}goToPublicStacks(){this.navigationService.navigateTo(["stackjoy"])}signUp(){this.navigationService.navigateTo(["create-account"])}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(u.a),r.Lb(l.b),r.Lb(p.a),r.Lb(m.a),r.Lb(b.a),r.Lb(v.a),r.Lb(f.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["environment-home"]],decls:66,vars:4,consts:[[1,"p-2"],["role","alert",1,"alert","alert-primary"],[1,"fa","fa-info-circle"],["class","alert alert-primary","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-light","mb-0"],[1,"list-unstyled"],[3,"click"],[1,"d-flex","align-middle"],[1,"",2,"width","30px"],[1,"console","cursor-pointer","mr-1",3,"matTooltip"],[1,"fa","fa-terminal","fa-sm"],[1,""],[1,"text-bold"],["matTooltip","The console is most easily accessible by pressing ctrl+space on your keyboard. You can run all major actions using the console.",1,"fa","fa","fa-question-circle","text-small","text-muted"],["matTooltip","You're a quick learner.",1,"text-center","cursor-pointer",2,"width","30px"],[1,"fa","fa-question-circle"],[1,"text-center",2,"width","30px"],[1,"fas","fa-book"],[1,"d-flex","align-middle","cursor-pointer"],[1,"alert-list-icon"],[1,"fa","fa-chevron-right"],[1,"ml-2"],[1,"far","fa-arrow-alt-circle-right"],["class","d-flex align-items-center",4,"ngIf","ngIfElse"],["loading",""],[1,"d-flex","align-items-center","cursor-pointer",3,"click"],[1,"fa","fa-2x","fa-exclamation-circle"],[1,"fa","fa-arrow-circle-right"],[1,"d-flex","align-items-center"],["class","text-small text-muted",4,"ngIf"],["class","suggested-stack m-2",4,"ngFor","ngForOf"],[1,"text-small","text-muted"],[1,"as-link",3,"click"],[1,"suggested-stack","m-2"],[1,"d-flex"],[1,"text-bold","px-2","pt-1"],[1,"ml-auto","stack-install","p-2","cursor-pointer",3,"click"],[1,"fa","fa-plus-circle"],[1,"px-2"],["mode","indeterminate"]],template:function(e,t){if(1&e&&(r.Rb(0,"div",0),r.Rb(1,"div",1),r.Mb(2,"i",2),r.Ec(3," Welcome to Stackjoy. You are running the beta version. Always use a version control system with your project while using Stackjoy. "),r.Qb(),r.Cc(4,Q,7,0,"div",3),r.Rb(5,"div",4),r.Rb(6,"h5"),r.Ec(7,"Quick tips"),r.Qb(),r.Rb(8,"ul",5),r.Rb(9,"li",6),r.Zb("click",(function(){return t.openConsole()})),r.Rb(10,"div",7),r.Rb(11,"div",8),r.Rb(12,"div",9),r.Mb(13,"i",10),r.Qb(),r.Qb(),r.Rb(14,"div",11),r.Ec(15," Click on the console icon or press "),r.Rb(16,"span",12),r.Ec(17,"\xa0ctrl+space\xa0"),r.Qb(),r.Ec(18," to launch the console "),r.Mb(19,"i",13),r.Qb(),r.Qb(),r.Qb(),r.Rb(20,"li"),r.Rb(21,"div",7),r.Rb(22,"div",14),r.Mb(23,"i",15),r.Qb(),r.Rb(24,"div",11),r.Ec(25,"Hover over these icons to get more tips"),r.Qb(),r.Qb(),r.Qb(),r.Rb(26,"li",6),r.Zb("click",(function(){return t.openDocumentation()})),r.Rb(27,"div",7),r.Rb(28,"div",16),r.Mb(29,"i",17),r.Qb(),r.Rb(30,"div",11),r.Ec(31,"More Stackjoy documentation always accessible in the header."),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(32,"div",4),r.Rb(33,"h5"),r.Ec(34,"Next steps"),r.Qb(),r.Rb(35,"ul",5),r.Rb(36,"li",6),r.Zb("click",(function(){return t.editExample()})),r.Rb(37,"div",18),r.Rb(38,"div",19),r.Mb(39,"i",20),r.Qb(),r.Rb(40,"div",11),r.Ec(41,"Learn about the BLU scripting language in your templates (generators)"),r.Qb(),r.Rb(42,"div",21),r.Mb(43,"i",22),r.Qb(),r.Qb(),r.Qb(),r.Rb(44,"li",6),r.Zb("click",(function(){return t.generateTemplate()})),r.Rb(45,"div",18),r.Rb(46,"div",19),r.Mb(47,"i",20),r.Qb(),r.Rb(48,"div",11),r.Ec(49,"Generate a template"),r.Qb(),r.Rb(50,"div",21),r.Mb(51,"i",22),r.Qb(),r.Qb(),r.Qb(),r.Rb(52,"li",6),r.Zb("click",(function(){return t.createTemplate()})),r.Rb(53,"div",18),r.Rb(54,"div",19),r.Mb(55,"i",20),r.Qb(),r.Rb(56,"div",11),r.Ec(57,"Create a template"),r.Qb(),r.Rb(58,"div",21),r.Mb(59,"i",22),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(60,"div",4),r.Rb(61,"h5"),r.Ec(62,"Suggested Stacks"),r.Qb(),r.Cc(63,S,3,2,"div",23),r.Qb(),r.Qb(),r.Cc(64,y,2,0,"ng-template",null,24,r.Dc)),2&e){const e=r.oc(65);r.Ab(4),r.jc("ngIf",!t.user),r.Ab(8),r.jc("matTooltip","Open the console ( ctrl+space )"),r.Ab(51),r.jc("ngIf",t.stacks)("ngIfElse",e)}},directives:[i.t,g.a,i.s,h.a],styles:[".alert-list-icon[_ngcontent-%COMP%]{width:30px;text-align:center}.suggested-stack[_ngcontent-%COMP%]{background-color:#e2e3e5;border:1px solid #d3d6d8;border-radius:8px;width:200px}.suggested-stack[_ngcontent-%COMP%]   .stack-install[_ngcontent-%COMP%]{border-left:1px solid #666;background-color:#fff;text-align:center}"]}),e})();var C=n("Bqyq"),E=n("bTqV"),w=n("3Pt+");function I(e,t){if(1&e){const e=r.Sb();r.Pb(0),r.Rb(1,"div",4),r.Ec(2),r.Rb(3,"button",5),r.Zb("click",(function(){return r.rc(e),r.dc(2).editSeed=!0})),r.Ec(4,"Edit"),r.Qb(),r.Rb(5,"button",5),r.Zb("click",(function(){r.rc(e);const t=r.dc(2);return t.test(t.environment.seed)})),r.Ec(6,"test"),r.Qb(),r.Qb(),r.Ob()}if(2&e){const e=r.dc(2);r.Ab(2),r.Gc("",e.environment.seed?e.environment.seed:"none"," ")}}function M(e,t){if(1&e){const e=r.Sb();r.Pb(0),r.Rb(1,"div",7),r.Rb(2,"div",8),r.Rb(3,"input",9),r.Zb("ngModelChange",(function(t){return r.rc(e),r.dc(2).environment.seed=t})),r.Qb(),r.Qb(),r.Rb(4,"button",10),r.Zb("click",(function(){return r.rc(e),r.dc(2).editSeed=!1})),r.Ec(5,"Cancel"),r.Qb(),r.Rb(6,"button",11),r.Zb("click",(function(){return r.rc(e),r.dc(2).updateSeed()})),r.Ec(7,"Save"),r.Qb(),r.Qb(),r.Ob()}if(2&e){const e=r.dc(2);r.Ab(3),r.jc("ngModel",e.environment.seed),r.Ab(3),r.jc("disabled",!e.environment.seed)}}function j(e,t){if(1&e&&(r.Rb(0,"tr"),r.Rb(1,"td"),r.Rb(2,"div",4),r.Ec(3,"Seed:"),r.Qb(),r.Qb(),r.Rb(4,"td"),r.Cc(5,I,7,1,"ng-container",6),r.Cc(6,M,8,2,"ng-container",6),r.Qb(),r.Qb()),2&e){const e=r.dc();r.Ab(5),r.jc("ngIf",!e.editSeed),r.Ab(1),r.jc("ngIf",e.editSeed)}}let A=(()=>{class e{constructor(e,t,n){this.appEnvironmentService=e,this.stackService=t,this.dialog=n,this.subs=new o.a}ngOnInit(){this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(e=>this.environment=e))}ngOnDestroy(){}isWorkspace(){var e;return(null===(e=this.environment)||void 0===e?void 0:e.type)===s.a.Environment.Type.Workspace}addNewCodebase(){this.dialog.open(C.a,{data:{rootPath:this.environment.codebasePath,title:"Set Codebase Path"},minWidth:"600px",minHeight:"210px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>{e&&this.switchCodebase(e)})}switchCodebase(e){this.appEnvironmentService.switchCodebase(this.environment.id,e)}updateSeed(){this.appEnvironmentService.updateSeed(this.environment.id,this.environment.seed).subscribe(e=>null),this.editSeed=!1}test(e){this.stackService.installSeedIntoCurrentEnvironment(e).subscribe(e=>{},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(a.a),r.Lb(b.a),r.Lb(l.b))},e.\u0275cmp=r.Fb({type:e,selectors:[["environment-info"]],decls:23,vars:4,consts:[[1,"table"],[1,"border-top-0"],[1,"border-top-0",2,"width","150px"],[1,"text-bold"],[1,""],["mat-button","","mat-raised-button","",1,"ml-2",3,"click"],[4,"ngIf"],[1,"d-flex"],[1,"pr-4","w-100"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["mat-button","","mat-raised-button","",1,"ml-auto",3,"click"],["mat-button","","mat-raised-button","",1,"ml-2",3,"disabled","click"]],template:function(e,t){1&e&&(r.Rb(0,"table",0),r.Rb(1,"tr",1),r.Rb(2,"td",2),r.Ec(3," Name: "),r.Qb(),r.Rb(4,"td",1),r.Rb(5,"div",3),r.Ec(6),r.Qb(),r.Qb(),r.Qb(),r.Rb(7,"tr"),r.Rb(8,"td"),r.Ec(9,"Type:"),r.Qb(),r.Rb(10,"td"),r.Rb(11,"span",3),r.Ec(12),r.Qb(),r.Qb(),r.Qb(),r.Rb(13,"tr"),r.Rb(14,"td"),r.Rb(15,"div",4),r.Ec(16,"Codebase:"),r.Qb(),r.Qb(),r.Rb(17,"td"),r.Rb(18,"div",3),r.Ec(19),r.Rb(20,"button",5),r.Zb("click",(function(){return t.addNewCodebase()})),r.Ec(21,"Change"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Cc(22,j,7,2,"tr",6),r.Qb()),2&e&&(r.Ab(6),r.Gc(" ",t.environment.name,""),r.Ab(6),r.Fc(t.environment.type),r.Ab(7),r.Gc("",t.environment.codebasePath," "),r.Ab(3),r.jc("ngIf",!t.isWorkspace()))},directives:[E.b,i.t,w.c,w.q,w.t],styles:[""]}),e})(),T=(()=>{class e{constructor(){}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["environment-readme"]],decls:2,vars:0,template:function(e,t){1&e&&(r.Rb(0,"div"),r.Ec(1,"Component with module!"),r.Qb())},styles:[""]}),e})();function O(e,t){1&e&&(r.Pb(0),r.Mb(1,"environment-home"),r.Ob())}function L(e,t){1&e&&(r.Pb(0),r.Mb(1,"environment-info"),r.Ob())}function P(e,t){1&e&&(r.Pb(0),r.Mb(1,"environment-readme"),r.Ob())}const Z=c.f.forChild([{path:"",component:(()=>{class e{constructor(e,t,n){this.appEnvironmentService=e,this.stackService=t,this.dialog=n,this.subs=new o.a,this.selectedSection="home"}ngOnInit(){this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(e=>this.environment=e))}selectSection(e){this.selectedSection=e}ngOnDestroy(){}isWorkspace(){var e;return(null===(e=this.environment)||void 0===e?void 0:e.type)===s.a.Environment.Type.Workspace}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(a.a),r.Lb(b.a),r.Lb(l.b))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-environment"]],decls:17,vars:13,consts:[[1,"text-capitalize","text-large","px-4","py-3"],[1,"fa","mt-1","mr-1"],[1,"fas","mt-1","mr-1"],[1,"px-2"],[1,"page-tabs"],[3,"click"],[1,"fa","fa-home"],[1,"fas","fa-info-circle"],[1,"pt-2"],[4,"ngIf"]],template:function(e,t){1&e&&(r.Rb(0,"div",0),r.Rb(1,"span"),r.Mb(2,"i",1),r.Mb(3,"i",2),r.Qb(),r.Ec(4),r.Qb(),r.Rb(5,"div",3),r.Rb(6,"div",4),r.Rb(7,"div",5),r.Zb("click",(function(){return t.selectSection("home")})),r.Mb(8,"i",6),r.Ec(9," Home"),r.Qb(),r.Rb(10,"div",5),r.Zb("click",(function(){return t.selectSection("info")})),r.Mb(11,"i",7),r.Ec(12," Info"),r.Qb(),r.Qb(),r.Rb(13,"div",8),r.Cc(14,O,2,0,"ng-container",9),r.Cc(15,L,2,0,"ng-container",9),r.Cc(16,P,2,0,"ng-container",9),r.Qb(),r.Qb()),2&e&&(r.Ab(2),r.Db("fa-dice-d6",t.isWorkspace()),r.Ab(1),r.Db("fa-layer-group",!t.isWorkspace()),r.Ab(1),r.Hc(" Current ",null==t.environment?null:t.environment.type,": ",null==t.environment?null:t.environment.name,"\n"),r.Ab(3),r.Db("active","home"===t.selectedSection),r.Ab(3),r.Db("active","info"===t.selectedSection),r.Ab(4),r.jc("ngIf","home"===t.selectedSection),r.Ab(1),r.jc("ngIf","info"===t.selectedSection),r.Ab(1),r.jc("ngIf","readme"===t.selectedSection))},directives:[i.t,x,A,T],styles:[""]}),e})()}]);var D=n("lR5k");let N=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,g.b,h.b]]}),e})(),F=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,w.l,E.c]]}),e})(),W=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c]]}),e})(),q=(()=>{class e{}return e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,Z,E.c,w.l,D.b.forChild(),N,F,W]]}),e})()}}]);