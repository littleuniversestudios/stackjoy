(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{iGsW:function(e,t,n){"use strict";n.r(t),n.d(t,"AppEnvironmentModule",(function(){return g}));var o=n("ofXK"),i=n("tyNb"),c=n("quSY"),s=n("HdQx"),b=n("0IaG"),a=n("fXoL"),r=n("MrDi"),d=n("bTqV");let l=(()=>{class e{constructor(e,t){this.data=e,this.dialogRef=t}ngOnInit(){this.selectedPath=this.data.rootPath}ngOnDestroy(){}close(){this.dialogRef.close(null)}setCodebasePath(e){console.log("selected:",e),this.selectedPath=e}select(){this.dialogRef.close(this.selectedPath)}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(b.a),a.Mb(b.h))},e.\u0275cmp=a.Gb({type:e,selectors:[["file-path-dialog"]],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"rootPath","foldersOnly","onSelectedPath"],["mat-dialog-actions","",3,"align"],["tabindex","-1","mat-button","","mat-dialog-close",""],["tabindex","-1","mat-button","",3,"click"]],template:function(e,t){1&e&&(a.Sb(0,"h1",0),a.Ec(1,"Select Path"),a.Rb(),a.Sb(2,"div",1),a.Sb(3,"file-path",2),a.ac("onSelectedPath",(function(e){return t.setCodebasePath(e)})),a.Rb(),a.Rb(),a.Sb(4,"div",3),a.Sb(5,"button",4),a.Ec(6,"Cancel"),a.Rb(),a.Sb(7,"button",5),a.ac("click",(function(){return t.select()})),a.Ec(8,"Select"),a.Rb(),a.Rb()),2&e&&(a.Bb(3),a.kc("rootPath",t.data.rootPath)("foldersOnly",!0),a.Bb(1),a.kc("align","end"))},directives:[b.i,b.f,r.a,b.c,d.b,b.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();var u=n("3sFK"),h=n("oCqB"),p=n("3Pt+");function m(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"div",8),a.Ec(2),a.Sb(3,"button",9),a.ac("click",(function(){return a.sc(e),a.ec(2).editSeed=!0})),a.Ec(4,"Edit"),a.Rb(),a.Sb(5,"button",9),a.ac("click",(function(){a.sc(e);const t=a.ec(2);return t.test(t.environment.seed)})),a.Ec(6,"test"),a.Rb(),a.Rb(),a.Pb()}if(2&e){const e=a.ec(2);a.Bb(2),a.Gc("",e.environment.seed?e.environment.seed:"none"," ")}}function S(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"div",11),a.Sb(2,"div",12),a.Sb(3,"input",13),a.ac("ngModelChange",(function(t){return a.sc(e),a.ec(2).environment.seed=t})),a.Rb(),a.Rb(),a.Sb(4,"button",14),a.ac("click",(function(){return a.sc(e),a.ec(2).editSeed=!1})),a.Ec(5,"Cancel"),a.Rb(),a.Sb(6,"button",15),a.ac("click",(function(){return a.sc(e),a.ec(2).updateSeed()})),a.Ec(7,"Save"),a.Rb(),a.Rb(),a.Pb()}if(2&e){const e=a.ec(2);a.Bb(3),a.kc("ngModel",e.environment.seed),a.Bb(3),a.kc("disabled",!e.environment.seed)}}function f(e,t){if(1&e&&(a.Sb(0,"tr"),a.Sb(1,"td"),a.Sb(2,"div",8),a.Ec(3,"Seed:"),a.Rb(),a.Rb(),a.Sb(4,"td"),a.Cc(5,m,7,1,"ng-container",10),a.Cc(6,S,8,2,"ng-container",10),a.Rb(),a.Rb()),2&e){const e=a.ec();a.Bb(5),a.kc("ngIf",!e.editSeed),a.Bb(1),a.kc("ngIf",e.editSeed)}}const v=i.f.forChild([{path:"",component:(()=>{class e{constructor(e,t,n){this.appEnvironmentService=e,this.stackService=t,this.dialog=n,this.showOtherCodebases=!1,this.subs=new c.a}ngOnInit(){this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(e=>this.environment=e))}isWorkSpace(){return this.environment.type===s.a.Environment.Type.Workspace}ngOnDestroy(){}isWorkspace(){return this.environment.type===s.a.Environment.Type.Workspace}toggleOtherCodebases(){this.showOtherCodebases=!this.showOtherCodebases}addNewCodebase(){this.dialog.open(l,{data:{rootPath:this.environment.codebasePath},minWidth:"600px",minHeight:"210px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>{e&&this.switchCodebase(e)})}switchCodebase(e){this.appEnvironmentService.switchCodebase(this.environment.id,e)}updateSeed(){this.appEnvironmentService.updateSeed(this.environment.id,this.environment.seed).subscribe(e=>console.log("updated seed",e)),this.editSeed=!1}test(e){this.stackService.installSeedIntoCurrentEnvironment(e).subscribe(e=>{console.log("uhuhu?",e)},e=>{console.log("errr:",e.error)})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(u.a),a.Mb(h.a),a.Mb(b.b))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-environment"]],decls:29,vars:9,consts:[[1,"p-2"],[1,"text-capitalize"],[1,"fa","mt-1","mr-1"],[1,"fas","mt-1","mr-1"],[1,"table"],[1,"border-top-0"],[1,"border-top-0",2,"width","150px"],[1,"text-bold"],[1,""],["mat-button","","mat-raised-button","",1,"ml-2",3,"click"],[4,"ngIf"],[1,"d-flex"],[1,"pr-4","w-100"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["mat-button","","mat-raised-button","",1,"ml-auto",3,"click"],["mat-button","","mat-raised-button","",1,"ml-2",3,"disabled","click"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Sb(1,"h2",1),a.Sb(2,"span"),a.Nb(3,"i",2),a.Nb(4,"i",3),a.Rb(),a.Ec(5),a.Rb(),a.Sb(6,"table",4),a.Sb(7,"tr",5),a.Sb(8,"td",6),a.Ec(9," Name: "),a.Rb(),a.Sb(10,"td",5),a.Sb(11,"div",7),a.Ec(12),a.Rb(),a.Rb(),a.Rb(),a.Sb(13,"tr"),a.Sb(14,"td"),a.Ec(15,"Type:"),a.Rb(),a.Sb(16,"td"),a.Sb(17,"span",7),a.Ec(18),a.Rb(),a.Rb(),a.Rb(),a.Sb(19,"tr"),a.Sb(20,"td"),a.Sb(21,"div",8),a.Ec(22,"Codebase:"),a.Rb(),a.Rb(),a.Sb(23,"td"),a.Sb(24,"div",7),a.Ec(25),a.Sb(26,"button",9),a.ac("click",(function(){return t.addNewCodebase()})),a.Ec(27,"Change"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Cc(28,f,7,2,"tr",10),a.Rb(),a.Rb()),2&e&&(a.Bb(3),a.Eb("fa-dice-d6",t.isWorkspace()),a.Bb(1),a.Eb("fa-layer-group",!t.isWorkspace()),a.Bb(1),a.Gc(" Current ",null==t.environment?null:t.environment.type," "),a.Bb(7),a.Gc(" ",t.environment.name,""),a.Bb(6),a.Fc(t.environment.type),a.Bb(7),a.Gc("",t.environment.codebasePath," "),a.Bb(3),a.kc("ngIf",!t.isWorkSpace()))},directives:[d.b,o.t,p.c,p.q,p.t],styles:[""]}),e})()}]);let g=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[o.c,v,d.c,p.l]]}),e})()}}]);