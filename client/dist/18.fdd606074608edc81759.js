(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{peQb:function(t,e,n){"use strict";n.r(e),n.d(e,"EditorModule",(function(){return ni}));var i=n("ofXK"),r=n("tyNb"),o=n("quSY"),c=n("fXoL"),s=n("jtHE"),a=n("GV7L");class l{static getName(t){var e;const n=t.split(".").pop(),i=l.list().find(t=>t.extension.includes(n));return null!==(e=null==i?void 0:i.name)&&void 0!==e?e:"text"}static list(){return[{extension:["css"],name:"css"},{extension:["html","htm","shtml","xhtml","mdoc","jsp","asp","aspx","jshtm"],name:"html"},{extension:["js","es6","jsx","mjs"],name:"javascript"},{extension:["json"],name:"json"},{extension:["less"],name:"less"},{extension:["md","markdown","mdown","mkdn","mkd","mdwn","mdtxt","mdtext"],name:"markdown"},{extension:["scss"],name:"scss"},{extension:["ts","tsx"],name:"typescript"}]}}var d=n("eIep"),b=n("Kxoc");let u=(()=>{class t{constructor(t){this.bluService=t,this.state={command:null,navSection:"file",contentSection:"template",configSection:null,itemSection:"templates",executeResult:null,inputs:{},rootDestination:"./",selectedContext:null,itemState:{},generatedFileState:{selectedFile:null}},this.state$=new s.a(1),this.templateProperties$=new s.a(1),this.previewProperties$=new s.a(1)}preview(t,e,n){this.state.command={itemId:t,command:"preview"},this.state.inputs=e,this.state.rootDestination=n,this._preview().subscribe(t=>{this.updatePreviewState(t);const e=t.allFiles[0];if(e){const t=e.executeContext.item;this.selectFile(t.id,e.file,`${t.parent.name}.${t.name}`)}else this.selectContext(t.executeContext)})}updatePreviewState(t){this.state.executeResult=t,this.updatePreviewEditor(),this.broadcastState()}reRender(){this._preview().subscribe(t=>this.updatePreviewState(t))}_preview(){return this.bluService.preview(this.state.command.itemId,this.state.inputs,this.state.rootDestination)}selectInputs(){this.state.navSection="inputs",this.state.selectedContext=null,this.broadcastState()}selectErrors(){this.state.navSection="errors",this.state.selectedContext=null,this.broadcastState()}selectGeneratedFile(t,e,n){this.state.generatedFileState.selectedFile=e.destination,this.selectFile(t,e,n)}selectFile(t,e,n){this.state.navSection="file",this.state.contentSection="template",this.state.selectedContext={itemId:t,file:e,itemLabel:n},this.state.generatedFileState.selectedFile=e.destination,this.templateProperties$.next({renderContext:e.renderContext,text:e.text,initialText:e.text,errors:this.extractErrors(e)}),this.updatePreviewProperties(e),this.broadcastState()}extractErrors(t){return this.extractParseErrors(t.errors).concat(this.extractMergeErrors(t.renderedText))}extractMergeErrors(t){const e=[],n=new RegExp(/^<{7}(.|\n)+?={7}(.|\n)+?>{7}(.+)$/,"gm");let i;for(;i=n.exec(t);)e.push({index:i.index,type:a.a.Parser.ErrorType.MergeConflict,badText:"",message:"Unhandled Merge Conflict!",override:{marginalEndLineNumber:i[0].match(/\n/gm).length,endColumnNumber:8+i[3].length}});return e}extractParseErrors(t){return(null!=t?t:[]).filter(t=>t.type===a.a.Execute.ErrorType.parseError).map(t=>t.data)}selectContext(t,e){this.state.navSection="file",this.state.contentSection="config",this.state.configSection=e;const n=t.item;this.state.selectedContext={itemId:n.id,itemLabel:`${n.parent.name}.${n.name}`,executeContext:t},this.broadcastState()}selectItemSection(t){this.state.itemSection=t,this.broadcastState()}updatePreviewEditor(){var t,e,n,i;const r=this.state.executeResult.findContextByItemId(null===(e=null===(t=this.state.selectedContext)||void 0===t?void 0:t.executeContext)||void 0===e?void 0:e.item.id);if(r&&(this.state.selectedContext.executeContext=r),null===(i=null===(n=this.state)||void 0===n?void 0:n.selectedContext)||void 0===i?void 0:i.file){const t=this.state.executeResult.findFileByAbsolutePath(this.state.selectedContext.file.absolutePath);if(t){this.updatePreviewProperties(t);const e=this.extractErrors(t);this.templateProperties$.next({errors:e,renderContext:t.renderContext})}}}updatePreviewProperties(t){this.previewProperties$.next({language:l.getName(t.filename),text:t.renderedText})}saveFile(t){var e,n,i;const r=null===(i=null===(n=null===(e=this.state)||void 0===e?void 0:e.selectedContext)||void 0===n?void 0:n.file)||void 0===i?void 0:i.absolutePath;r&&this.bluService.saveFile(r,t).pipe(Object(d.a)(t=>this._preview())).subscribe(t=>this.updatePreviewState(t))}appendUserInputs(t){const e=Object.assign({},this.state.inputs,t);this.updateUserInputs(e)}updateUserInputs(t){this.state.inputs=t,this._preview().subscribe(t=>this.updatePreviewState(t))}broadcastState(){this.state$.next(this.state)}}return t.\u0275fac=function(e){return new(e||t)(c.Vb(b.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac}),t})();var f=n("a8/g"),p=n("bTqV"),g=n("0IaG"),m=n("3Pt+"),h=n("aSHc"),v=n("kmnG"),x=n("qFsG");function C(t,e){1&t&&(c.Rb(0,"mat-error"),c.Ec(1,"File cannot be blank"),c.Qb())}function S(t,e){1&t&&(c.Rb(0,"mat-error"),c.Ec(1,'Characters not allowed: \\ / : * ? " < > |'),c.Qb())}function R(t,e){if(1&t&&(c.Rb(0,"div",9),c.Mb(1,"i",10),c.Ec(2),c.Qb()),2&t){const t=c.dc();c.Ab(2),c.Gc(" Error: ",t.errorMessage," ")}}function E(t,e){1&t&&(c.Rb(0,"div",11),c.Mb(1,"i",12),c.Ec(2," File Created "),c.Qb())}function O(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"button",13),c.Zb("click",(function(){return c.rc(t),c.dc().close(!0)})),c.Ec(2,"Close"),c.Qb(),c.Ob()}}function Q(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"button",13),c.Zb("click",(function(){return c.rc(t),c.dc().close(!1)})),c.Ec(2,"Cancel"),c.Qb(),c.Rb(3,"button",14),c.Zb("click",(function(){return c.rc(t),c.dc().createFile()})),c.Ec(4,"Create"),c.Qb(),c.Ob()}if(2&t){const t=c.dc();c.Ab(3),c.jc("disabled",t.form.invalid||t.currentState!==t.actionState.IDLE)}}let F=(()=>{class t{constructor(t,e,n,i){var r;this.fb=t,this.bluService=e,this.data=n,this.dialogRef=i,this.currentState=h.a.IDLE,this.actionState=h.a,this.form=this.fb.group({filename:[null!==(r=this.data.suggestedFileName)&&void 0!==r?r:"",[m.E.required,m.E.pattern(/^[^\\/:\*\?"<>\|]+$/)]]})}ngOnInit(){this.currentState=h.a.IDLE,this.form.valueChanges.subscribe(t=>{this.currentState=h.a.IDLE})}ngOnDestroy(){this.currentState=h.a.IDLE,this.errorMessage=""}get f(){return this.form.controls}createFile(){const t=this.form.value.filename;this.currentState=h.a.ACQUIRING,this.bluService.createFile(this.data.absolutePath,t.trim()).subscribe(t=>{this.currentState=h.a.SUCCESS},t=>{var e,n;this.errorMessage=null!==(n=null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.message)&&void 0!==n?n:"Operation failed.",this.currentState=h.a.FAILED})}close(t){this.dialogRef.close({updated:t})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.f),c.Lb(b.a),c.Lb(g.a),c.Lb(g.h))},t.\u0275cmp=c.Fb({type:t,selectors:[["new-file-dialog"]],decls:13,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"mat-form-field"],["placeholder","File Name","matInput","","formControlName","filename"],[4,"ngIf"],["class","pb-2 text-danger",4,"ngIf"],["class","pb-2 text-success",4,"ngIf"],["mat-dialog-actions","",3,"align"],[1,"pb-2","text-danger"],[1,"fa","fa-exclamation-triangle"],[1,"pb-2","text-success"],[1,"fa","fa-check"],["mat-button","",3,"click"],["mat-button","","type","submit",3,"disabled","click"]],template:function(t,e){1&t&&(c.Rb(0,"h1",0),c.Ec(1,"Create New File "),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"form",2),c.Zb("ngSubmit",(function(){return e.currentState===e.actionState.IDLE?e.createFile():e.close(!0)})),c.Rb(4,"mat-form-field",3),c.Mb(5,"input",4),c.Cc(6,C,2,0,"mat-error",5),c.Cc(7,S,2,0,"mat-error",5),c.Qb(),c.Qb(),c.Cc(8,R,3,1,"div",6),c.Cc(9,E,3,0,"div",7),c.Qb(),c.Rb(10,"div",8),c.Cc(11,O,3,0,"ng-container",5),c.Cc(12,Q,5,1,"ng-container",5),c.Qb()),2&t&&(c.Ab(3),c.jc("formGroup",e.form),c.Ab(3),c.jc("ngIf",null==e.f.filename||null==e.f.filename.errors?null:e.f.filename.errors.required),c.Ab(1),c.jc("ngIf",null==e.f.filename||null==e.f.filename.errors?null:e.f.filename.errors.pattern),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.FAILED),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.SUCCESS),c.Ab(1),c.jc("align","end"),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.SUCCESS),c.Ab(1),c.jc("ngIf",e.currentState!==e.actionState.SUCCESS))},directives:[g.i,g.f,m.G,m.r,m.j,v.c,x.a,m.c,m.q,m.i,i.t,g.c,v.b,p.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();function M(t,e){1&t&&(c.Rb(0,"mat-error"),c.Ec(1,"File cannot be blank"),c.Qb())}function I(t,e){1&t&&(c.Rb(0,"mat-error"),c.Ec(1,'Characters not allowed: \\ / : * ? " < > |'),c.Qb())}function y(t,e){if(1&t&&(c.Rb(0,"div",9),c.Mb(1,"i",10),c.Ec(2),c.Qb()),2&t){const t=c.dc();c.Ab(2),c.Gc(" Error: ",t.errorMessage," ")}}function P(t,e){1&t&&(c.Rb(0,"div",11),c.Mb(1,"i",12),c.Ec(2," Folder created "),c.Qb())}function A(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"button",13),c.Zb("click",(function(){return c.rc(t),c.dc().close(!0)})),c.Ec(2,"Close"),c.Qb(),c.Ob()}}function j(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"button",13),c.Zb("click",(function(){return c.rc(t),c.dc().close(!1)})),c.Ec(2,"Cancel"),c.Qb(),c.Rb(3,"button",14),c.Zb("click",(function(){return c.rc(t),c.dc().createFolder()})),c.Ec(4,"Create"),c.Qb(),c.Ob()}if(2&t){const t=c.dc();c.Ab(3),c.jc("disabled",t.form.invalid||t.currentState!==t.actionState.IDLE)}}let w=(()=>{class t{constructor(t,e,n,i){this.fb=t,this.bluService=e,this.data=n,this.dialogRef=i,this.currentState=h.a.IDLE,this.actionState=h.a,this.form=this.fb.group({folderName:["",[m.E.required,m.E.pattern(/^[^\\/:\*\?"<>\|]+$/)]]})}ngOnInit(){this.currentState=h.a.IDLE,this.form.valueChanges.subscribe(t=>{this.currentState=h.a.IDLE})}ngOnDestroy(){this.currentState=h.a.IDLE,this.errorMessage=""}get f(){return this.form.controls}createFolder(){const t=this.form.value.folderName;this.currentState=h.a.ACQUIRING,this.bluService.createFolder(this.data.absolutePath,t.trim()).subscribe(t=>{this.currentState=h.a.SUCCESS},t=>{var e,n;this.errorMessage=null!==(n=null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.message)&&void 0!==n?n:"Operation failed.",this.currentState=h.a.FAILED})}close(t){this.dialogRef.close({updated:t})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.f),c.Lb(b.a),c.Lb(g.a),c.Lb(g.h))},t.\u0275cmp=c.Fb({type:t,selectors:[["new-folder-dialog"]],decls:13,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"mat-form-field"],["placeholder","File Name","matInput","","formControlName","folderName"],[4,"ngIf"],["class","pb-2 text-danger",4,"ngIf"],["class","pb-2 text-success",4,"ngIf"],["mat-dialog-actions","",3,"align"],[1,"pb-2","text-danger"],[1,"fa","fa-exclamation-triangle"],[1,"pb-2","text-success"],[1,"fa","fa-check"],["mat-button","",3,"click"],["mat-button","","type","submit",3,"disabled","click"]],template:function(t,e){1&t&&(c.Rb(0,"h1",0),c.Ec(1,"Create New Folder "),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"form",2),c.Zb("ngSubmit",(function(){return e.currentState===e.actionState.IDLE?e.createFolder():e.close(!0)})),c.Rb(4,"mat-form-field",3),c.Mb(5,"input",4),c.Cc(6,M,2,0,"mat-error",5),c.Cc(7,I,2,0,"mat-error",5),c.Qb(),c.Qb(),c.Cc(8,y,3,1,"div",6),c.Cc(9,P,3,0,"div",7),c.Qb(),c.Rb(10,"div",8),c.Cc(11,A,3,0,"ng-container",5),c.Cc(12,j,5,1,"ng-container",5),c.Qb()),2&t&&(c.Ab(3),c.jc("formGroup",e.form),c.Ab(3),c.jc("ngIf",null==e.f.folderName||null==e.f.folderName.errors?null:e.f.folderName.errors.required),c.Ab(1),c.jc("ngIf",null==e.f.folderName||null==e.f.folderName.errors?null:e.f.folderName.errors.pattern),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.FAILED),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.SUCCESS),c.Ab(1),c.jc("align","end"),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.SUCCESS),c.Ab(1),c.jc("ngIf",e.currentState!==e.actionState.SUCCESS))},directives:[g.i,g.f,m.G,m.r,m.j,v.c,x.a,m.c,m.q,m.i,i.t,g.c,v.b,p.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var k=n("AytR"),D=n("tk/3");let T=(()=>{class t{constructor(t){this.httpClient=t,this.uploadURL=k.a.url+"/upload"}uploadTemplateFiles(t,e,n=!1){return this.httpClient.post(`${this.uploadURL}/template-files?overwrite=${n}&absolutePath=${encodeURIComponent(e)}`,t)}}return t.\u0275fac=function(e){return new(e||t)(c.Vb(D.a))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=n("NFeN"),L=n("bv9b");function $(t,e){if(1&t&&(c.Rb(0,"div",13),c.Mb(1,"i",14),c.Ec(2),c.Qb()),2&t){const t=e.$implicit;c.Ab(2),c.Gc(" ",t,"")}}function N(t,e){1&t&&(c.Rb(0,"div",15),c.Rb(1,"div",16),c.Mb(2,"mat-progress-bar",17),c.Qb(),c.Qb())}function Z(t,e){if(1&t&&(c.Rb(0,"div",18),c.Mb(1,"i",19),c.Ec(2),c.Qb()),2&t){const t=c.dc();c.Ab(2),c.Gc(" Error: ",t.errorMessage," ")}}function U(t,e){1&t&&(c.Rb(0,"div",20),c.Mb(1,"i",21),c.Ec(2," File(s) Uploaded "),c.Qb())}function G(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"button",22),c.Zb("click",(function(){return c.rc(t),c.dc().close(!0)})),c.Ec(2,"Close"),c.Qb(),c.Ob()}}function J(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"button",22),c.Zb("click",(function(){return c.rc(t),c.dc().close(!1)})),c.Ec(2,"Cancel"),c.Qb(),c.Rb(3,"button",23),c.Zb("click",(function(){return c.rc(t),c.dc().uploadFiles()})),c.Ec(4,"Upload"),c.Qb(),c.Ob()}if(2&t){const t=c.dc();c.Ab(3),c.jc("disabled",0===(null==t.selectedFiles?null:t.selectedFiles.length))}}function z(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"button",22),c.Zb("click",(function(){return c.rc(t),c.dc(2).close(!0)})),c.Ec(2,"Cancel"),c.Qb(),c.Rb(3,"button",22),c.Zb("click",(function(){return c.rc(t),c.dc(2).overwrite()})),c.Ec(4,"Overwrite"),c.Qb(),c.Ob()}}function V(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"button",22),c.Zb("click",(function(){return c.rc(t),c.dc(2).close(!1)})),c.Ec(2,"Cancel"),c.Qb(),c.Ob()}}function q(t,e){if(1&t&&(c.Pb(0),c.Cc(1,z,5,0,"ng-container",12),c.Cc(2,V,3,0,"ng-container",12),c.Ob()),2&t){const t=c.dc();c.Ab(1),c.jc("ngIf","overwrite-file-error"===t.errorCode),c.Ab(1),c.jc("ngIf","overwrite-file-error"!==t.errorCode)}}let H=(()=>{class t{constructor(t,e,n){this.uploadService=t,this.dialogRef=e,this.data=n,this.selectedFiles=[],this.currentState=h.a.IDLE,this.actionState=h.a}ngOnInit(){}ngOnDestroy(){}onFileSelected(t){if(this.fileList=t.currentTarget.files,this.selectedFiles=[],this.fileList)for(const e in this.fileList)if(this.fileList[e]){const t=this.fileList[e];null==e.match(/\d+/g)||this.selectedFiles.includes(t.name)||this.selectedFiles.push(t.name)}}uploadFiles(t=!1){const e=new FormData;for(let n=0;n<this.selectedFiles.length;n++)e.append("files",this.fileList[n],this.fileList[n].name);this.currentState=h.a.PENDING,this.uploadService.uploadTemplateFiles(e,this.data.absolutePath,t).subscribe(t=>{this.currentState=h.a.SUCCESS},t=>{var e,n,i;this.errorMessage=null!==(n=null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.message)&&void 0!==n?n:"Operation failed.",this.errorCode=null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.code,this.currentState=h.a.FAILED})}close(t){this.dialogRef.close({updated:t})}overwrite(){this.uploadFiles(!0)}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(T),c.Lb(g.h),c.Lb(g.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["upload-file-dialog"]],inputs:{requiredFileType:"requiredFileType"},decls:19,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["type","file","multiple","",1,"file-input",3,"accept","change"],["fileUpload",""],[1,"file-upload"],["mat-mini-fab","","color","primary",1,"upload-btn",3,"click"],[1,"p-2","py-4"],["class","",4,"ngFor","ngForOf"],["class","p-2",4,"ngIf"],["class","pb-2 text-danger",4,"ngIf"],["class","pb-2 text-success",4,"ngIf"],["mat-dialog-actions","",3,"align"],[4,"ngIf"],[1,""],[1,"far","fa-file"],[1,"p-2"],[1,"progress"],["mode","indeterminate",1,"progress-bar"],[1,"pb-2","text-danger"],[1,"fa","fa-exclamation-triangle"],[1,"pb-2","text-success"],[1,"fa","fa-check"],["mat-button","",3,"click"],["mat-button","",3,"disabled","click"]],template:function(t,e){if(1&t){const t=c.Sb();c.Rb(0,"h1",0),c.Ec(1,"Dialog Title"),c.Qb(),c.Rb(2,"div",1),c.Rb(3,"input",2,3),c.Zb("change",(function(t){return e.onFileSelected(t)})),c.Qb(),c.Rb(5,"div",4),c.Ec(6," Select file(s) to upload "),c.Rb(7,"button",5),c.Zb("click",(function(){return c.rc(t),c.oc(4).click()})),c.Rb(8,"mat-icon"),c.Ec(9,"attach_file"),c.Qb(),c.Qb(),c.Qb(),c.Rb(10,"div",6),c.Cc(11,$,3,1,"div",7),c.Qb(),c.Cc(12,N,3,0,"div",8),c.Cc(13,Z,3,1,"div",9),c.Cc(14,U,3,0,"div",10),c.Qb(),c.Rb(15,"div",11),c.Cc(16,G,3,0,"ng-container",12),c.Cc(17,J,5,1,"ng-container",12),c.Cc(18,q,3,2,"ng-container",12),c.Qb()}2&t&&(c.Ab(3),c.jc("accept",e.requiredFileType),c.Ab(8),c.jc("ngForOf",e.selectedFiles),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.PENDING),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.FAILED),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.SUCCESS),c.Ab(1),c.jc("align","end"),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.SUCCESS),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.IDLE),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.FAILED))},directives:[g.i,g.f,p.b,_.a,i.s,i.t,g.c,L.a],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}.file-input[_ngcontent-%COMP%]{display:none}"]}),t})();var B=n("STbY"),K=n("Qu3c");function W(t,e){1&t&&(c.Rb(0,"mat-error"),c.Ec(1,"File cannot be blank"),c.Qb())}function X(t,e){1&t&&(c.Rb(0,"mat-error"),c.Ec(1,'Characters not allowed: \\ / : * ? " < > |'),c.Qb())}function Y(t,e){if(1&t&&(c.Rb(0,"div",10),c.Mb(1,"i",11),c.Ec(2),c.Qb()),2&t){const t=c.dc();c.Ab(2),c.Gc(" Error: ",t.errorMessage," ")}}function tt(t,e){1&t&&(c.Rb(0,"div",12),c.Mb(1,"i",13),c.Ec(2," Updated "),c.Qb())}function et(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"button",14),c.Zb("click",(function(){return c.rc(t),c.dc().close(!0)})),c.Ec(2,"Close"),c.Qb(),c.Ob()}}function nt(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"button",14),c.Zb("click",(function(){return c.rc(t),c.dc().close(!1)})),c.Ec(2,"Cancel"),c.Qb(),c.Rb(3,"button",15),c.Zb("click",(function(){return c.rc(t),c.dc().rename()})),c.Ec(4,"Rename"),c.Qb(),c.Ob()}if(2&t){const t=c.dc();c.Ab(3),c.jc("disabled",t.form.invalid||t.currentState!==t.actionState.IDLE)}}let it=(()=>{class t{constructor(t,e,n,i){this.fb=t,this.bluService=e,this.data=n,this.dialogRef=i,this.currentState=h.a.IDLE,this.actionState=h.a,this.form=this.fb.group({filename:[this.data.name,[m.E.required]]})}ngOnInit(){this.currentState=h.a.IDLE,this.form.valueChanges.subscribe(t=>{this.currentState=h.a.IDLE})}ngOnDestroy(){this.currentState=h.a.IDLE,this.errorMessage=""}get f(){return this.form.controls}rename(){const t=this.form.value.filename;this.currentState=h.a.ACQUIRING,this.bluService.renameFile(this.data.absolutePath,t.trim()).subscribe(t=>{this.currentState=h.a.SUCCESS},t=>{var e,n;this.errorMessage=null!==(n=null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.message)&&void 0!==n?n:"Operation failed.",this.currentState=h.a.FAILED})}close(t){this.dialogRef.close({updated:t})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(m.f),c.Lb(b.a),c.Lb(g.a),c.Lb(g.h))},t.\u0275cmp=c.Fb({type:t,selectors:[["rename-file-dialog"]],decls:15,vars:9,consts:[["mat-dialog-title",""],[1,"text-capitalize"],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],[1,"mat-form-field"],["placeholder","Name","matInput","","formControlName","filename"],[4,"ngIf"],["class","pb-2 text-danger",4,"ngIf"],["class","pb-2 text-success",4,"ngIf"],["mat-dialog-actions","",3,"align"],[1,"pb-2","text-danger"],[1,"fa","fa-exclamation-triangle"],[1,"pb-2","text-success"],[1,"fa","fa-check"],["mat-button","",3,"click"],["mat-button","","type","submit",3,"disabled","click"]],template:function(t,e){1&t&&(c.Rb(0,"h1",0),c.Ec(1,"Rename "),c.Rb(2,"span",1),c.Ec(3),c.Qb(),c.Qb(),c.Rb(4,"div",2),c.Rb(5,"form",3),c.Zb("ngSubmit",(function(){return e.currentState===e.actionState.IDLE?e.rename():e.close(!0)})),c.Rb(6,"mat-form-field",4),c.Mb(7,"input",5),c.Cc(8,W,2,0,"mat-error",6),c.Cc(9,X,2,0,"mat-error",6),c.Qb(),c.Qb(),c.Cc(10,Y,3,1,"div",7),c.Cc(11,tt,3,0,"div",8),c.Qb(),c.Rb(12,"div",9),c.Cc(13,et,3,0,"ng-container",6),c.Cc(14,nt,5,1,"ng-container",6),c.Qb()),2&t&&(c.Ab(3),c.Fc(e.data.type),c.Ab(2),c.jc("formGroup",e.form),c.Ab(3),c.jc("ngIf",null==e.f.filename||null==e.f.filename.errors?null:e.f.filename.errors.required),c.Ab(1),c.jc("ngIf",null==e.f.filename||null==e.f.filename.errors?null:e.f.filename.errors.pattern),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.FAILED),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.SUCCESS),c.Ab(1),c.jc("align","end"),c.Ab(1),c.jc("ngIf",e.currentState===e.actionState.SUCCESS),c.Ab(1),c.jc("ngIf",e.currentState!==e.actionState.SUCCESS))},directives:[g.i,g.f,m.G,m.r,m.j,v.c,x.a,m.c,m.q,m.i,i.t,g.c,v.b,p.b],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var rt=n("Mzu6");function ot(t,e){1&t&&c.Nb(0)}const ct=function(t){return{tree:t}};function st(t,e){if(1&t&&(c.Rb(0,"div",9),c.Rb(1,"mat-icon",10),c.Ec(2,"more_vert"),c.Qb(),c.Rb(3,"div",11),c.Mb(4,"i",12),c.Rb(5,"span"),c.Ec(6),c.Qb(),c.Qb(),c.Qb()),2&t){const t=c.dc(),e=t.dirIndex,n=t.tree,i=c.dc(),r=c.oc(7);c.jc("ngStyle",i.getLeftPadding(e)),c.Ab(1),c.jc("inline",!0)("matMenuTriggerFor",r)("matMenuTriggerData",c.lc(5,ct,n)),c.Ab(5),c.Fc(n.folderName)}}function at(t,e){1&t&&c.Nb(0)}const lt=function(t,e){return{tree:t,dirIndex:e}};function dt(t,e){if(1&t&&(c.Rb(0,"div"),c.Cc(1,at,1,0,"ng-container",0),c.Qb()),2&t){const t=e.$implicit,n=c.dc().dirIndex;c.dc();const i=c.oc(2);c.Ab(1),c.jc("ngTemplateOutlet",i)("ngTemplateOutletContext",c.mc(2,lt,t,n+1))}}const bt=function(t){return{file:t}};function ut(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div",9),c.Rb(1,"mat-icon",10),c.Ec(2,"more_vert"),c.Qb(),c.Rb(3,"div",13),c.Zb("click",(function(){c.rc(t);const n=e.$implicit;return c.dc(2).selectFile(n)})),c.Mb(4,"i",14),c.Rb(5,"span"),c.Ec(6),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=e.$implicit,n=c.dc().dirIndex,i=c.dc(),r=c.oc(4);c.jc("ngStyle",i.getLeftPadding(n+1)),c.Ab(1),c.jc("inline",!0)("matMenuTriggerFor",r)("matMenuTriggerData",c.lc(10,bt,t)),c.Ab(2),c.Db("has-error",i.fileHasError(t))("text-primary",i.isSelectedFile(t)),c.jc("title",t.filename),c.Ab(3),c.Gc("",t.filename," ")}}function ft(t,e){if(1&t&&(c.Cc(0,st,7,7,"div",6),c.Cc(1,dt,2,5,"div",7),c.Cc(2,ut,7,12,"div",8)),2&t){const t=e.tree;c.jc("ngIf",e.dirIndex>0),c.Ab(1),c.jc("ngForOf",t.subFolders),c.Ab(1),c.jc("ngForOf",t.files)}}function pt(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div",15),c.Mb(1,"i",14),c.Ec(2),c.Qb(),c.Rb(3,"button",16),c.Zb("click",(function(){c.rc(t);const n=e.file;return c.dc().renameFile(n)})),c.Ec(4,"Rename"),c.Qb(),c.Rb(5,"button",16),c.Zb("click",(function(){c.rc(t);const n=e.file;return c.dc().duplicateFile(n)})),c.Ec(6,"Duplicate"),c.Qb(),c.Rb(7,"button",16),c.Zb("click",(function(){c.rc(t);const n=e.file;return c.dc().deleteFile(n)})),c.Ec(8,"Delete"),c.Qb()}if(2&t){const t=e.file;c.Ab(2),c.Gc(" ",t.filename,"")}}function gt(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div",15),c.Mb(1,"i",12),c.Ec(2),c.Qb(),c.Rb(3,"button",16),c.Zb("click",(function(){c.rc(t);const n=e.tree;return c.dc().createNewFile(n)})),c.Ec(4,"Add New File"),c.Qb(),c.Rb(5,"button",16),c.Zb("click",(function(){c.rc(t);const n=e.tree;return c.dc().uploadFiles(n)})),c.Ec(6,"Upload File(s)"),c.Qb(),c.Rb(7,"button",16),c.Zb("click",(function(){c.rc(t);const n=e.tree;return c.dc().createNewFolder(n)})),c.Ec(8,"Add New Folder"),c.Qb(),c.Rb(9,"button",16),c.Zb("click",(function(){c.rc(t);const n=e.tree;return c.dc().renameFolder(n)})),c.Ec(10,"Rename Folder"),c.Qb(),c.Rb(11,"button",16),c.Zb("click",(function(){c.rc(t);const n=e.tree;return c.dc().deleteFolder(n)})),c.Ec(12,"Delete Folder"),c.Qb()}if(2&t){const t=e.tree;c.Ab(2),c.Gc(" ",t.folderName,"")}}let mt=(()=>{class t{constructor(t,e,n){this.dialog=t,this.bluService=e,this.editorService=n,this.hideParentFolder=!1,this.onFileSelect=new c.o,this.subs=new o.a}ngOnInit(){this.dirIndex=this.hideParentFolder?0:1}ngOnDestroy(){this.subs.unsubscribe()}getLeftPadding(t){return{"padding-left":10*t+"px"}}fileHasError(t){var e;return(null===(e=null==t?void 0:t.errors)||void 0===e?void 0:e.length)>0}selectFile(t){this.onFileSelect.emit(t)}isSelectedFile(t){var e;return t.absolutePath===(null===(e=this.selectedFile)||void 0===e?void 0:e.absolutePath)}createNewFolder(t){this.dialog.open(w,{data:{absolutePath:t.absolutePath},position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>{t.updated&&this.editorService.reRender()})}renameFile(t){this.renameFileOrFolder(t.filename,t.absolutePath,"file")}renameFolder(t){this.renameFileOrFolder(t.folderName,t.absolutePath,"folder")}renameFileOrFolder(t,e,n){const i=this.dialog.open(it,{data:{name:t,absolutePath:e,type:n},position:{top:"100px"},autoFocus:!0});this.subs.add(i.afterClosed().subscribe(t=>{t.updated&&this.editorService.reRender()}))}createNewFile(t){const e=this.dialog.open(F,{data:{absolutePath:t.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(e.afterClosed().subscribe(t=>{t.updated&&this.editorService.reRender()}))}deleteFile(t){this.deleteFileOrFolder(t.filename,t.absolutePath,"file")}deleteFolder(t){this.deleteFileOrFolder(t.folderName,t.absolutePath,"folder")}deleteFileOrFolder(t,e,n){const i=this.dialog.open(rt.a,{data:{title:`Delete ${n} '${t}'?`,text:`Deleting this ${n} is a permanent action and cannot be undone.`,button:{yes:"Delete",no:"Cancel"}},position:{top:"100px"},autoFocus:!0});this.subs.add(i.afterClosed().subscribe(t=>{!0===t&&this.bluService.deleteFileOrFolder(e).subscribe(t=>{this.editorService.reRender()})}))}uploadFiles(t){const e=this.dialog.open(H,{data:{absolutePath:t.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(e.afterClosed().subscribe(t=>{t.updated&&this.editorService.reRender()}))}duplicateFile(t){this.bluService.duplicateFile(t.absolutePath).subscribe(t=>{this.editorService.reRender()})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(g.b),c.Lb(b.a),c.Lb(u))},t.\u0275cmp=c.Fb({type:t,selectors:[["dir-tree"]],inputs:{tree:"tree",selectedFile:"selectedFile",hideParentFolder:"hideParentFolder"},outputs:{onFileSelect:"onFileSelect"},decls:9,vars:7,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],["treeFolder",""],[3,"overlapTrigger"],["fileMenu","matMenu"],["matMenuContent",""],["folderMenu","matMenu"],["class","folder-item",3,"ngStyle",4,"ngIf"],[4,"ngFor","ngForOf"],["class","folder-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"folder-item",3,"ngStyle"],[1,"item-menu",3,"inline","matMenuTriggerFor","matMenuTriggerData"],[1,"folder-item-contents","isFolder"],[1,"far","fa-folder-open"],[1,"folder-item-contents",3,"title","click"],[1,"far","fa-file"],[1,"p-2","text-center","border-bottom","text-bold"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(c.Cc(0,ot,1,0,"ng-container",0),c.Cc(1,ft,3,3,"ng-template",null,1,c.Dc),c.Rb(3,"mat-menu",2,3),c.Cc(5,pt,9,1,"ng-template",4),c.Qb(),c.Rb(6,"mat-menu",2,5),c.Cc(8,gt,13,1,"ng-template",4),c.Qb()),2&t){const t=c.oc(2);c.jc("ngTemplateOutlet",t)("ngTemplateOutletContext",c.mc(4,lt,e.tree,e.dirIndex)),c.Ab(3),c.jc("overlapTrigger",!0),c.Ab(3),c.jc("overlapTrigger",!0)}},directives:[i.A,B.e,B.a,i.t,i.s,i.w,_.a,B.d,B.b],styles:[".folder-item[_ngcontent-%COMP%]{position:relative;cursor:pointer;overflow:hidden}.folder-item[_ngcontent-%COMP%]:hover{overflow:visible;background-color:#f1f1f1}.folder-item[_ngcontent-%COMP%]:hover   .item-menu[_ngcontent-%COMP%]{display:block!important}.folder-item[_ngcontent-%COMP%]   .item-menu[_ngcontent-%COMP%]{position:absolute;left:-2px;top:1px;cursor:pointer;font-size:16px;display:none;z-index:50}.folder-item-contents[_ngcontent-%COMP%]{position:relative;padding:0 0 0 20px;overflow:hidden;text-overflow:ellipsis;display:inline-block}.folder-item-contents.isFolder[_ngcontent-%COMP%]{padding-left:22px!important}.folder-item-contents[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:5px;align-self:baseline;font-size:.7rem}.folder-item-contents[_ngcontent-%COMP%]   i.fa-folder-open[_ngcontent-%COMP%]{margin-top:5px}.folder-item-contents[_ngcontent-%COMP%]   i.fa-file[_ngcontent-%COMP%]{margin-top:4px;margin-left:1px}.has-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px dashed red}.has-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}"]}),t})();const ht=function(t){return{context:t}};function vt(t,e){if(1&t&&(c.Rb(0,"div",15),c.Mb(1,"i",16),c.Qb()),2&t){const t=c.dc(),e=c.oc(14);c.jc("matMenuTriggerFor",e)("matMenuTriggerData",c.lc(2,ht,t.executeContext))}}function xt(t,e){if(1&t&&(c.Rb(0,"div",17),c.Mb(1,"i",18),c.Qb()),2&t){const t=c.dc();c.Ab(1),c.jc("matTooltip",t.executeContext.errors[0].message)}}function Ct(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",23),c.Zb("click",(function(){c.rc(t);const e=c.dc(2);return e.createNewFile(e.executeContext)})),c.Ec(2,"click "),c.Mb(3,"i",16),c.Ec(4," to add a file"),c.Qb(),c.Ob()}}function St(t,e){if(1&t&&(c.Pb(0),c.Rb(1,"div",24),c.Mb(2,"item-folder-structure",25),c.Qb(),c.Ob()),2&t){const t=e.$implicit,n=e.index,i=c.dc(2);c.Ab(2),c.jc("executeContext",t)("id",i.id+"."+n)}}function Rt(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div",5),c.Rb(1,"div",19),c.Rb(2,"dir-tree",20),c.Zb("onFileSelect",(function(e){return c.rc(t),c.dc().selectFile(e)})),c.Qb(),c.Cc(3,Ct,5,0,"ng-container",21),c.Qb(),c.Cc(4,St,3,2,"ng-container",22),c.Qb()}if(2&t){const t=c.dc();c.Ab(2),c.jc("selectedFile",t.selectedFile)("tree",t.executeContext.tree)("hideParentFolder",!0),c.Ab(1),c.jc("ngIf",t.isContextEmpty(t.executeContext)),c.Ab(1),c.jc("ngForOf",t.executeContext.children)}}function Et(t,e){if(1&t){const t=c.Sb();c.Rb(0,"button",26),c.Zb("click",(function(){c.rc(t);const n=e.context;return c.dc().createNewFile(n)})),c.Ec(1,"Add New File"),c.Qb(),c.Rb(2,"button",26),c.Zb("click",(function(){c.rc(t);const n=e.context;return c.dc().createNewFolder(n)})),c.Ec(3,"Add New Folder"),c.Qb(),c.Rb(4,"button",26),c.Zb("click",(function(){c.rc(t);const n=e.context;return c.dc().uploadFile(n)})),c.Ec(5,"Upload File"),c.Qb()}}let Ot=(()=>{class t{constructor(t,e){this.editorService=t,this.dialog=e,this.id="0",this.itemOpen=!0,this.itemTypes=a.a.Item.Type,this.subs=new o.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(t=>{var e,n,i,r;this.state=t,this.selectedFile=null===(e=t.selectedContext)||void 0===e?void 0:e.file,this.isConfigSelected=(null===(i=null===(n=this.state)||void 0===n?void 0:n.selectedContext)||void 0===i?void 0:i.executeContext)===this.executeContext&&"config"===(null===(r=this.state)||void 0===r?void 0:r.contentSection),this.setItemState(t.itemState)}))}setItemState(t){const e=`${this.executeContext.item.id}.${this.id}`;t[e]||(t[e]={configOpen:!1,filesOpen:!1,itemOpen:this.itemOpen}),this.itemState=t[e]}ngOnDestroy(){this.subs.unsubscribe()}toggleItem(){this.itemState.itemOpen=!this.itemState.itemOpen}selectFile(t){const e=this.executeContext.item;this.editorService.selectFile(e.id,t,`${e.parent.name}.${e.name}`)}selectItem(){this.editorService.selectContext(this.executeContext)}createNewFile(t){var e;if((null===(e=null==t?void 0:t.item)||void 0===e?void 0:e.type)===this.itemTypes.Template){const e=this.dialog.open(F,{data:{absolutePath:t.tree.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(e.afterClosed().subscribe(t=>{t.updated&&this.editorService.reRender()}))}}createNewFolder(t){if(t.item.type===this.itemTypes.Template){const e=this.dialog.open(w,{data:{absolutePath:t.tree.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(e.afterClosed().subscribe(t=>{t.updated&&this.editorService.reRender()}))}}uploadFile(t){const e=this.dialog.open(H,{data:{absolutePath:t.tree.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(e.afterClosed().subscribe(t=>{t.updated&&this.editorService.reRender()}))}isContextEmpty(t){var e;const n=t.tree;return n&&0===(null===(e=n.files)||void 0===e?void 0:e.length)&&0===(null==n?void 0:n.subFolders.length)}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u),c.Lb(g.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["item-folder-structure"]],inputs:{executeContext:"executeContext",id:"id",itemOpen:"itemOpen"},decls:16,vars:12,consts:[[1,""],[1,"item-header","d-flex"],[1,"cursor-pointer",2,"width","10px","border-bottom","1px solid transparent",3,"click"],[1,"fa"],[1,"d-flex"],[1,"pl-2"],[1,"fa","fa-folder"],[1,"pl-1",3,"title","click"],["class","pl-1",3,"matMenuTriggerFor","matMenuTriggerData",4,"ngIf"],["class","pl-1",4,"ngIf"],[1,"item-sub-header","cursor-pointer","pl-2"],["class","pl-2",4,"ngIf"],[3,"overlapTrigger"],["templateMenu","matMenu"],["matMenuContent",""],[1,"pl-1",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"fa","fa-plus-square"],[1,"pl-1"],["matTooltipPosition","right",1,"fa","fa-exclamation-circle","text-danger",3,"matTooltip"],[1,"pt-1"],[3,"selectedFile","tree","hideParentFolder","onFileSelect"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"p-2","cursor-pointer",3,"click"],[1,"pl-3","sub-items"],[3,"executeContext","id"],["mat-menu-item","",3,"click"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Zb("click",(function(){return e.toggleItem()})),c.Mb(3,"i",3),c.Qb(),c.Rb(4,"div",4),c.Rb(5,"div",5),c.Mb(6,"i",6),c.Qb(),c.Rb(7,"div",7),c.Zb("click",(function(){return e.selectItem()})),c.Ec(8),c.Qb(),c.Cc(9,vt,2,4,"div",8),c.Cc(10,xt,2,1,"div",9),c.Qb(),c.Qb(),c.Rb(11,"div",10),c.Cc(12,Rt,5,5,"div",11),c.Qb(),c.Qb(),c.Rb(13,"mat-menu",12,13),c.Cc(15,Et,6,0,"ng-template",14),c.Qb()),2&t&&(c.Ab(3),c.Db("fa-chevron-down",e.itemState.itemOpen)("fa-chevron-right",!e.itemState.itemOpen),c.Ab(1),c.Db("text-primary",e.isConfigSelected),c.Ab(3),c.jc("title",(null==e.executeContext.item.parent?null:e.executeContext.item.parent.type)+": "+(null==e.executeContext.item.parent?null:e.executeContext.item.parent.name)),c.Ab(1),c.Gc(" ",e.executeContext.item.name," "),c.Ab(1),c.jc("ngIf",e.executeContext.item.type===e.itemTypes.Template),c.Ab(1),c.jc("ngIf",e.executeContext.errors.length>0),c.Ab(2),c.jc("ngIf",e.itemState.itemOpen),c.Ab(1),c.jc("overlapTrigger",!0))},directives:[i.t,B.e,B.a,B.d,K.a,mt,i.s,t,B.b],styles:[".item-header[_ngcontent-%COMP%]{font-weight:bolder;font-size:.9rem;cursor:pointer}.item-header.header-border[_ngcontent-%COMP%]{border-bottom:1px dotted #bbb}.item-header[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.item-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.has-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px dashed red}.has-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}"]}),t})();function Qt(t,e){if(1&t&&(c.Rb(0,"div",1),c.Mb(1,"item-folder-structure",2),c.Qb()),2&t){const t=c.dc();c.Ab(1),c.jc("executeContext",t.executeContext)("itemOpen",!0)}}let Ft=(()=>{class t{constructor(t){this.editorService=t,this.subs=new o.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(t=>{this.executeContext=t.executeResult.executeContext}))}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u))},t.\u0275cmp=c.Fb({type:t,selectors:[["editor-items"]],decls:1,vars:1,consts:[["class","",4,"ngIf"],[1,""],[3,"executeContext","itemOpen"]],template:function(t,e){1&t&&c.Cc(0,Qt,2,2,"div",0),2&t&&c.jc("ngIf",e.executeContext)},directives:[i.t,Ot],styles:[""]}),t})();function Mt(t,e){if(1&t&&(c.Pb(0),c.Rb(1,"div",2),c.Mb(2,"generated-folder-structure",3),c.Qb(),c.Ob()),2&t){const t=e.$implicit;c.Ab(2),c.jc("generatedTree",t)}}function It(t,e){if(1&t&&(c.Pb(0),c.Cc(1,Mt,3,1,"ng-container",1),c.Ob()),2&t){const t=c.dc();c.Ab(1),c.jc("ngForOf",t.generatedTree.subFolders)}}function yt(t,e){if(1&t&&(c.Pb(0),c.Rb(1,"div",2),c.Mb(2,"generated-folder-structure",3),c.Qb(),c.Ob()),2&t){const t=e.$implicit;c.Ab(2),c.jc("generatedTree",t)}}function Pt(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",14),c.Zb("click",(function(){c.rc(t);const n=e.$implicit;return c.dc(2).selectItem(n)})),c.Mb(2,"i",15),c.Ec(3),c.Qb(),c.Ob()}if(2&t){const t=e.$implicit,n=c.dc(2);c.Ab(1),c.Db("text-primary",n.isSelected(t))("has-error",n.fileHasError(t)),c.jc("matTooltip",t.file.destination),c.Ab(2),c.Gc(" ",t.file.renderedFilename," ")}}function At(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",4),c.Rb(2,"div",5),c.Rb(3,"div",6),c.Zb("click",(function(){return c.rc(t),c.dc().toggleItem()})),c.Mb(4,"i",7),c.Qb(),c.Rb(5,"div",8),c.Rb(6,"div",9),c.Rb(7,"div",10),c.Rb(8,"span",11),c.Ec(9),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(10,"div",12),c.Rb(11,"div",13),c.Cc(12,yt,3,1,"ng-container",1),c.Cc(13,Pt,4,6,"ng-container",1),c.Qb(),c.Qb(),c.Qb(),c.Ob()}if(2&t){const t=c.dc();c.Ab(8),c.jc("matTooltip",t.generatedTree.folderPath),c.Ab(1),c.Fc(t.generatedTree.folderName),c.Ab(3),c.jc("ngForOf",t.generatedTree.subFolders),c.Ab(1),c.jc("ngForOf",t.generatedTree.files)}}let jt=(()=>{class t{constructor(t){this.editorService=t,this.subs=new o.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(t=>this.state=t))}ngOnDestroy(){this.subs.unsubscribe()}toggleItem(){}selectItem(t){const e=t.executeContext.item;this.editorService.selectGeneratedFile(e.id,t.file,`${e.parent.name}.${e.name}`)}isSelected(t){var e,n;return t.destination===(null===(n=null===(e=this.state)||void 0===e?void 0:e.generatedFileState)||void 0===n?void 0:n.selectedFile)}fileHasError(t){var e;return(null===(e=t.file.errors)||void 0===e?void 0:e.length)>0}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u))},t.\u0275cmp=c.Fb({type:t,selectors:[["generated-folder-structure"]],inputs:{generatedTree:"generatedTree"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"sub-items"],[3,"generatedTree"],[1,""],[1,"item-header","d-flex"],[1,"cursor-pointer",2,"width","10px",3,"click"],[1,"far","fa-folder-open"],[1,"d-flex"],[1,"pl-1"],[1,"dir-overflow"],["matTooltipPosition","right",3,"matTooltip"],[1,"item-sub-header","cursor-pointer","pl-2"],[1,"pl-2"],["matTooltipPosition","right",1,"sub-items","dir-overflow",3,"matTooltip","click"],[1,"far","fa-file"]],template:function(t,e){1&t&&(c.Cc(0,It,2,1,"ng-container",0),c.Cc(1,At,14,4,"ng-container",0)),2&t&&(c.jc("ngIf",e.generatedTree.isRootNode),c.Ab(1),c.jc("ngIf",!e.generatedTree.isRootNode))},directives:[i.t,i.s,t,K.a],styles:[".item-header[_ngcontent-%COMP%]{cursor:pointer}.item-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .sub-items[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.has-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px dashed red}.has-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.dir-overflow[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;white-space:nowrap;width:170px;text-overflow:ellipsis}"]}),t})();function wt(t,e){if(1&t&&c.Mb(0,"generated-folder-structure",2),2&t){const t=c.dc();c.jc("generatedTree",t.generatedTree)}}let kt=(()=>{class t{constructor(t){this.editorService=t,this.subs=new o.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(t=>{this.generatedTree=t.executeResult.generatedFileTree}))}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u))},t.\u0275cmp=c.Fb({type:t,selectors:[["generated-files"]],decls:2,vars:1,consts:[[1,"pt-2"],[3,"generatedTree",4,"ngIf"],[3,"generatedTree"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Cc(1,wt,1,1,"generated-folder-structure",1),c.Qb()),2&t&&(c.Ab(1),c.jc("ngIf",e.generatedTree))},directives:[i.t,jt],styles:[""]}),t})();var Dt=n("DdQb"),Tt=n("dTU6"),_t=n("0btQ");function Lt(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div",6),c.Rb(1,"div",7),c.Rb(2,"div",8),c.Ec(3),c.Qb(),c.Rb(4,"div",9),c.Rb(5,"button",10),c.Zb("click",(function(){c.rc(t);const n=e.$implicit;return c.dc().selectModel(n)})),c.Ec(6,"Select"),c.Qb(),c.Qb(),c.Qb(),c.Qb()}if(2&t){const t=e.$implicit;c.Ab(3),c.Fc(t.name)}}let $t=(()=>{class t{constructor(t,e,n){this.data=t,this.dialogRef=e,this.dataModelService=n}ngOnInit(){this.dataModelService.getDataModels().subscribe(t=>this.allModels=(null!=t?t:[]).map(t=>new Tt.a(t)))}ngOnDestroy(){}close(){}selectModel(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(g.a),c.Lb(g.h),c.Lb(_t.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["data-model-select-dialog"]],decls:8,vars:2,consts:[["mat-dialog-title",""],[1,"fa","fa-table"],["mat-dialog-content",""],["class","p-2 mt-1 border-bottom",4,"ngFor","ngForOf"],["mat-dialog-actions","",3,"align"],["mat-button","","mat-dialog-close",""],[1,"p-2","mt-1","border-bottom"],[1,"d-flex","align-items-center"],[1,""],[1,"ml-auto"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(c.Rb(0,"h1",0),c.Mb(1,"i",1),c.Ec(2," Import Data Model"),c.Qb(),c.Rb(3,"div",2),c.Cc(4,Lt,7,1,"div",3),c.Qb(),c.Rb(5,"div",4),c.Rb(6,"button",5),c.Ec(7,"Cancel"),c.Qb(),c.Qb()),2&t&&(c.Ab(4),c.jc("ngForOf",e.allModels),c.Ab(1),c.jc("align","end"))},directives:[g.i,g.f,i.s,g.c,p.b,g.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var Nt=n("1JH3");function Zt(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",14),c.Zb("click",(function(){c.rc(t);const e=c.dc().$implicit;return c.dc(3).goToFileError(e)})),c.Rb(2,"div",15),c.Rb(3,"div",16),c.Ec(4),c.Qb(),c.Rb(5,"div",0),c.Ec(6),c.Qb(),c.Qb(),c.Rb(7,"div",17),c.Mb(8,"i",18),c.Qb(),c.Qb(),c.Rb(9,"div",14),c.Zb("click",(function(){return c.rc(t),c.dc(4).forceOverwrite()})),c.Rb(10,"div",19),c.Mb(11,"i",20),c.Ec(12," Add input to force overwrite of files"),c.Qb(),c.Rb(13,"div",17),c.Mb(14,"i",18),c.Qb(),c.Qb(),c.Ob()}if(2&t){const t=c.dc().$implicit;c.Ab(4),c.Fc(t.error.message),c.Ab(2),c.Fc(t.error.data.destination)}}function Ut(t,e){if(1&t&&(c.Rb(0,"div",15),c.Rb(1,"span",16),c.Ec(2),c.Qb(),c.Qb()),2&t){const t=c.dc(2).$implicit;c.Ab(2),c.Fc(null==t.error.data?null:t.error.data.message)}}function Gt(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",14),c.Zb("click",(function(){c.rc(t);const e=c.dc(2).$implicit;return c.dc(3).functionError(e)})),c.Rb(2,"div",19),c.Mb(3,"i",20),c.Ec(4),c.Qb(),c.Rb(5,"div",17),c.Mb(6,"i",18),c.Qb(),c.Qb(),c.Ob()}if(2&t){const t=c.dc(2).$implicit;c.Ab(4),c.Gc(" Create function ",null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.suggestedName,"")}}function Jt(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",14),c.Zb("click",(function(){c.rc(t);const e=c.dc(2).$implicit;return c.dc(3).functionError(e)})),c.Rb(2,"div",25),c.Mb(3,"i",20),c.Ec(4),c.Qb(),c.Rb(5,"div",17),c.Mb(6,"i",18),c.Qb(),c.Qb(),c.Ob()}if(2&t){const t=c.dc(2).$implicit;c.Ab(4),c.Gc(" Fix: ",null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.error,"")}}function zt(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",14),c.Zb("click",(function(){return c.rc(t),c.dc(6).importDataModel()})),c.Rb(2,"div",19),c.Mb(3,"i",20),c.Ec(4," Import a Data Model"),c.Qb(),c.Rb(5,"div",17),c.Mb(6,"i",18),c.Qb(),c.Qb(),c.Ob()}}function Vt(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",14),c.Zb("click",(function(){c.rc(t);const e=c.dc(2).$implicit;return c.dc(3).createVariable(e,null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.suggestedName)})),c.Rb(2,"div",19),c.Mb(3,"i",20),c.Ec(4," Create variable "),c.Rb(5,"span",16),c.Ec(6),c.Qb(),c.Qb(),c.Rb(7,"div",17),c.Mb(8,"i",18),c.Qb(),c.Qb(),c.Rb(9,"div",14),c.Zb("click",(function(){c.rc(t);const e=c.dc(2).$implicit;return c.dc(3).createInput(null==e.error.data||null==e.error.data.syntaxError?null:e.error.data.syntaxError.suggestedName)})),c.Rb(10,"div",19),c.Mb(11,"i",20),c.Ec(12," Create input "),c.Rb(13,"span",16),c.Ec(14),c.Qb(),c.Qb(),c.Rb(15,"div",17),c.Mb(16,"i",18),c.Qb(),c.Qb(),c.Cc(17,zt,7,0,"ng-container",2),c.Ob()}if(2&t){const t=c.dc(2).$implicit,e=c.dc(3);c.Ab(6),c.Fc(null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.suggestedName),c.Ab(8),c.Fc(null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.suggestedName),c.Ab(3),c.jc("ngIf",e.isDataModel(null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.suggestedName))}}function qt(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"div",26),c.Zb("click",(function(){c.rc(t);const e=c.dc(3).$implicit;return c.dc(3).goToFileError(e)})),c.Rb(2,"div",27),c.Ec(3),c.Qb(),c.Rb(4,"div",17),c.Mb(5,"i",18),c.Qb(),c.Qb(),c.Ob()}if(2&t){const t=c.dc(3).$implicit;c.Ab(3),c.Fc(null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.error)}}function Ht(t,e){if(1&t&&(c.Pb(0),c.Cc(1,qt,6,1,"ng-container",2),c.Ob()),2&t){const t=c.dc(2).$implicit;c.Ab(1),c.jc("ngIf",null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.error)}}function Bt(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div",14),c.Zb("click",(function(){c.rc(t);const e=c.dc().$implicit;return c.dc(3).goToFileError(e)})),c.Cc(1,Ut,3,1,"div",21),c.Rb(2,"div",17),c.Mb(3,"i",18),c.Qb(),c.Qb(),c.Pb(4,22),c.Cc(5,Gt,7,1,"ng-container",23),c.Cc(6,Jt,7,1,"ng-container",23),c.Cc(7,Vt,18,3,"ng-container",23),c.Cc(8,Ht,2,1,"ng-container",24),c.Ob()}if(2&t){const t=c.dc().$implicit;c.Ab(1),c.jc("ngIf",null==t.error.data?null:t.error.data.message),c.Ab(3),c.jc("ngSwitch",null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.type),c.Ab(1),c.jc("ngSwitchCase","functionNotFound"),c.Ab(1),c.jc("ngSwitchCase","functionError"),c.Ab(1),c.jc("ngSwitchCase","identifierNotFound")}}function Kt(t,e){if(1&t&&(c.Pb(0),c.Rb(1,"tr"),c.Rb(2,"td",8),c.Mb(3,"i",9),c.Qb(),c.Rb(4,"td",10),c.Rb(5,"div",11),c.Cc(6,Zt,15,2,"ng-container",12),c.Cc(7,Bt,9,5,"ng-template",null,13,c.Dc),c.Qb(),c.Qb(),c.Qb(),c.Ob()),2&t){const t=e.$implicit,n=c.oc(8);c.Ab(3),c.Db("text-danger","fileExists"!==t.error.type)("text-warning","fileExists"===t.error.type),c.Ab(3),c.jc("ngIf","fileExists"===t.error.type)("ngIfElse",n)}}function Wt(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"tr"),c.Rb(2,"td",5),c.Mb(3,"i",6),c.Rb(4,"span",7),c.Zb("click",(function(){c.rc(t);const n=e.$implicit;return c.dc(2).selectItem(n.executeContext)})),c.Ec(5),c.Qb(),c.Ec(6," / "),c.Rb(7,"span",7),c.Zb("click",(function(){c.rc(t);const n=e.$implicit;return c.dc(2).selectFile(n.file,n.executeContext)})),c.Ec(8),c.Qb(),c.Qb(),c.Qb(),c.Cc(9,Kt,9,6,"ng-container",4),c.Ob()}if(2&t){const t=e.$implicit;c.Ab(5),c.Fc(t.executeContext.item.name),c.Ab(3),c.Fc(t.file.filename),c.Ab(1),c.jc("ngForOf",t.errors)}}function Xt(t,e){if(1&t&&(c.Pb(0),c.Rb(1,"tr"),c.Rb(2,"td",3),c.Ec(3,"Errors in files"),c.Qb(),c.Qb(),c.Cc(4,Wt,10,3,"ng-container",4),c.Ob()),2&t){const t=c.dc();c.Ab(4),c.jc("ngForOf",t.editorFileErrors)}}function Yt(t,e){if(1&t&&(c.Rb(0,"div",33),c.Rb(1,"span",16),c.Ec(2),c.Qb(),c.Qb()),2&t){const t=c.dc().$implicit;c.Ab(2),c.Fc(t.error.message)}}function te(t,e){1&t&&c.Mb(0,"i",36)}function ee(t,e){if(1&t&&(c.Pb(0),c.Rb(1,"span",34),c.Ec(2),c.Qb(),c.Cc(3,te,1,0,"i",35),c.Ob()),2&t){const t=e.$implicit,n=e.index,i=c.dc(2).$implicit;c.Ab(1),c.Db("text-danger",t.name===i.error.data.templateName),c.Ab(1),c.Fc(t.name),c.Ab(1),c.jc("ngIf",n<i.error.data.chainOrder.length-1)}}function ne(t,e){if(1&t&&(c.Pb(0),c.Cc(1,ee,4,4,"ng-container",4),c.Ob()),2&t){const t=c.dc().$implicit;c.Ab(1),c.jc("ngForOf",t.error.data.chainOrder)}}function ie(t,e){if(1&t&&(c.Rb(0,"div",27),c.Ec(1),c.Qb()),2&t){const t=c.dc(2).$implicit;c.Ab(1),c.Fc(null==t.error.data?null:t.error.data.message)}}function re(t,e){if(1&t&&(c.Pb(0),c.Cc(1,ie,2,1,"div",37),c.Ob()),2&t){const t=c.dc().$implicit;c.Ab(1),c.jc("ngIf",null==t.error.data?null:t.error.data.message)}}function oe(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"tr",7),c.Zb("click",(function(){c.rc(t);const n=e.$implicit;return c.dc(3).goToSettingsError(n)})),c.Rb(2,"td",8),c.Mb(3,"i",29),c.Qb(),c.Rb(4,"td",30),c.Rb(5,"div",31),c.Rb(6,"div",0),c.Cc(7,Yt,3,1,"div",32),c.Pb(8,22),c.Cc(9,ne,2,1,"ng-container",23),c.Cc(10,re,2,1,"ng-container",24),c.Ob(),c.Qb(),c.Rb(11,"div",17),c.Mb(12,"i",18),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Ob()}if(2&t){const t=e.$implicit;c.Ab(7),c.jc("ngIf",t.error.message),c.Ab(1),c.jc("ngSwitch",t.error.type),c.Ab(1),c.jc("ngSwitchCase","circularChain")}}function ce(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"tr"),c.Rb(2,"td",5),c.Mb(3,"i",28),c.Rb(4,"span",7),c.Zb("click",(function(){c.rc(t);const n=e.$implicit;return c.dc(2).selectItem(n.executeContext)})),c.Ec(5),c.Qb(),c.Qb(),c.Qb(),c.Cc(6,oe,13,3,"ng-container",4),c.Ob()}if(2&t){const t=e.$implicit;c.Ab(5),c.Fc(t.executeContext.item.name),c.Ab(1),c.jc("ngForOf",t.errors)}}function se(t,e){if(1&t&&(c.Pb(0),c.Rb(1,"tr"),c.Rb(2,"td",3),c.Ec(3,"Errors in Settings"),c.Qb(),c.Qb(),c.Cc(4,ce,7,2,"ng-container",4),c.Ob()),2&t){const t=c.dc();c.Ab(4),c.jc("ngForOf",t.editorSettingsErrors)}}function ae(t,e){if(1&t&&(c.Rb(0,"div",33),c.Rb(1,"span",16),c.Ec(2),c.Qb(),c.Qb()),2&t){const t=c.dc().$implicit;c.Ab(2),c.Fc(t.error.message)}}function le(t,e){if(1&t&&(c.Rb(0,"div",27),c.Ec(1),c.Qb()),2&t){const t=c.dc(2).$implicit;c.Ab(1),c.Fc(null==t.error.data?null:t.error.data.message)}}function de(t,e){if(1&t&&(c.Pb(0),c.Cc(1,le,2,1,"div",37),c.Ob()),2&t){const t=c.dc().$implicit;c.Ab(1),c.jc("ngIf",null==t.error.data?null:t.error.data.message)}}function be(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"tr",7),c.Zb("click",(function(){return c.rc(t),c.dc(3).goToInputsError()})),c.Rb(2,"td",8),c.Mb(3,"i",29),c.Qb(),c.Rb(4,"td",30),c.Rb(5,"div",31),c.Rb(6,"div",0),c.Cc(7,ae,3,1,"div",32),c.Pb(8,22),c.Cc(9,de,2,1,"ng-container",24),c.Ob(),c.Qb(),c.Rb(10,"div",17),c.Mb(11,"i",18),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Ob()}if(2&t){const t=e.$implicit;c.Ab(7),c.jc("ngIf",t.error.message),c.Ab(1),c.jc("ngSwitch",t.error.type)}}function ue(t,e){if(1&t&&(c.Pb(0),c.Cc(1,be,12,2,"ng-container",4),c.Ob()),2&t){const t=e.$implicit;c.Ab(1),c.jc("ngForOf",t.errors)}}function fe(t,e){if(1&t&&(c.Pb(0),c.Rb(1,"tr"),c.Rb(2,"td",3),c.Ec(3,"Errors in Inputs"),c.Qb(),c.Qb(),c.Cc(4,ue,2,1,"ng-container",4),c.Ob()),2&t){const t=c.dc();c.Ab(4),c.jc("ngForOf",t.editorInputsErrors)}}var pe=function(t){return t.file="file",t.settings="settings",t.inputs="inputs",t}({});let ge=(()=>{class t{constructor(t,e,n){this.editorService=t,this.itemConfigService=e,this.dialog=n,this.errors=[],this.subs=new o.a,this.editorFileErrors=[],this.editorSettingsErrors=[],this.editorInputsErrors=[]}ngOnInit(){this.groupErrors()}ngOnChanges(t){this.groupErrors()}groupErrors(){const t=[];let e;this.errors.forEach(n=>{var i,r;e="userInput"===n.error.origin.location?pe.inputs:"config"===n.error.origin.location?pe.settings:(null===(i=null==n?void 0:n.file)||void 0===i?void 0:i.id)?pe.file:pe.settings;const o=e===pe.file?null===(r=null==n?void 0:n.file)||void 0===r?void 0:r.id:n.executeContext.item.id,c=t.find(t=>t.id===o);c?c.errors.push(n):t.push({id:o,type:e,executeContext:n.executeContext,errors:[n],file:n.file})}),this.editorFileErrors=t.filter(t=>t.type===pe.file),this.editorSettingsErrors=t.filter(t=>t.type===pe.settings),this.editorInputsErrors=t.filter(t=>t.type===pe.inputs)}selectFile(t,e){const n=e.item;this.editorService.selectFile(n.id,t,`${n.parent.name}.${n.name}`)}selectItem(t){this.editorService.selectContext(t)}ngOnDestroy(){this.subs.unsubscribe()}goToFileError(t){this.selectFile(t.file,t.executeContext)}editFunction(t,e){this.subs.add(this.itemConfigService.editFunction(t,e).afterClosed().subscribe(t=>this.editorService.reRender()))}goToSettingsError(t){var e;const n=null===(e=t.error.origin)||void 0===e?void 0:e.section;this.editorService.selectContext(t.executeContext,n)}functionError(t){var e,n,i,r,o,c;switch(null!==(o=null!==(i=null===(n=null===(e=t.error.data)||void 0===e?void 0:e.syntaxError)||void 0===n?void 0:n.type)&&void 0!==i?i:null===(r=t.error.data)||void 0===r?void 0:r.type)&&void 0!==o?o:t.error.type){case"functionNotFound":this.subs.add(this.itemConfigService.createNewFunction(t.executeContext.item.id,null===(c=t.error.data)||void 0===c?void 0:c.syntaxError.suggestedName).subscribe(t=>this.editFunction(t.function.id)));break;case"functionError":this.editFunction(t.error.data.syntaxError.funcObj.id,[t])}}createVariable(t,e){const n=this.dialog.open(Dt.a,{data:{item:t.executeContext.item,renderContext:this.renderContext,variable:{key:e,value:""}},minWidth:"650px",position:{top:"100px"},autoFocus:!0});this.subs.add(n.afterClosed().subscribe(t=>this.editorService.reRender()))}createInput(t){if(t){const e={};e[t]="",this.editorService.appendUserInputs(e),this.editorService.selectInputs()}}importDataModel(){this.dialog.open($t,{data:{},width:"50%",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>{t&&(this.editorService.appendUserInputs({dataModel:t.toJSON()}),this.editorService.selectInputs())})}isDataModel(t){return 0===(t=null!=t?t:"").indexOf("dataModel")}goToInputsError(){this.editorService.selectInputs()}forceOverwrite(){this.editorService.appendUserInputs({f:!0}),this.editorService.selectInputs()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u),c.Lb(Nt.a),c.Lb(g.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["error-list"]],inputs:{errors:"errors",renderContext:"renderContext"},features:[c.yb],decls:5,vars:3,consts:[[1,""],[1,"error-table"],[4,"ngIf"],["colspan","3",1,"border-bottom"],[4,"ngFor","ngForOf"],["colspan","3",1,"editor-error"],[1,"far","fa-file","mr-1","text-muted"],[1,"cursor-pointer",3,"click"],[1,"align-top","pl-4"],[1,"fa","fa-exclamation-triangle","text-small","mt-3"],[1,"align-top","pt-2"],[1,"group-errors"],[4,"ngIf","ngIfElse"],["otherErrors",""],[1,"d-flex","align-items-center","error-option",3,"click"],[1,"cursor-pointer","text-muted","small"],[1,"text-bold"],[1,"ml-auto"],[1,"far","fa-arrow-alt-circle-right"],[1,"small"],[1,"fa","fa-info-circle","text-tiny"],["class","cursor-pointer text-muted small",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"small","text-danger"],[1,"d-flex","align-items-center","error-option",2,"min-width","300px",3,"click"],[1,"text-danger","small"],[1,"fa","fa-folder","mr-1","text-muted"],[1,"fa","fa-exclamation-triangle","text-danger","text-small","mt-2"],[1,"align-top","group-errors","p-0"],[1,"d-flex","align-items-start","error-option"],["class","text-muted small",4,"ngIf"],[1,"text-muted","small"],[1,"mr-1"],["class","fa fa-arrow-right mr-1 text-tiny",4,"ngIf"],[1,"fa","fa-arrow-right","mr-1","text-tiny"],["class","text-danger small",4,"ngIf"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"table",1),c.Cc(2,Xt,5,1,"ng-container",2),c.Cc(3,se,5,1,"ng-container",2),c.Cc(4,fe,5,1,"ng-container",2),c.Qb(),c.Qb()),2&t&&(c.Ab(2),c.jc("ngIf",(null==e.editorFileErrors?null:e.editorFileErrors.length)>0),c.Ab(1),c.jc("ngIf",(null==e.editorSettingsErrors?null:e.editorSettingsErrors.length)>0),c.Ab(1),c.jc("ngIf",(null==e.editorInputsErrors?null:e.editorInputsErrors.length)>0))},directives:[i.t,i.s,i.x,i.y,i.z],styles:[".error-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:3px}.editor-error[_ngcontent-%COMP%]{padding-top:1rem!important}.group-errors[_ngcontent-%COMP%]{border:1px solid transparent}.group-errors[_ngcontent-%COMP%]:hover{border:1px dotted #f1f1f1}.group-errors[_ngcontent-%COMP%]   .error-option[_ngcontent-%COMP%]{cursor:pointer;padding:2px 8px;border-bottom:1px solid transparent;min-width:450px}.error-settings-option[_ngcontent-%COMP%]:hover, .group-errors[_ngcontent-%COMP%]   .error-option[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]}),t})();function me(t,e){if(1&t&&c.Mb(0,"error-list",2),2&t){const t=c.dc();c.jc("errors",t.errors)}}let he=(()=>{class t{constructor(t){this.editorService=t,this.subs=new o.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(t=>{this.executeResult=t.executeResult,this.errors=this.executeResult.createEditorErrors(this.executeResult.errors)}))}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u))},t.\u0275cmp=c.Fb({type:t,selectors:[["all-errors"]],decls:2,vars:1,consts:[[1,"p-2"],[3,"errors",4,"ngIf"],[3,"errors"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Cc(1,me,1,1,"error-list",1),c.Qb()),2&t&&(c.Ab(1),c.jc("ngIf",e.errors))},directives:[i.t,ge],styles:[""]}),t})();var ve=n("IzEk"),xe=n("1jDz");function Ce(t,e){if(1&t&&(c.Rb(0,"div",10),c.Mb(1,"i",11),c.Rb(2,"span",12),c.Ec(3),c.Qb(),c.Qb()),2&t){const t=c.dc().$implicit;c.Ab(3),c.Fc(t.error.message)}}function Se(t,e){if(1&t&&(c.Rb(0,"div",7),c.Cc(1,Ce,4,1,"div",8),c.Rb(2,"div",9),c.Ec(3),c.Qb(),c.Qb()),2&t){const t=e.$implicit;c.Ab(1),c.jc("ngIf",t.error.message),c.Ab(2),c.Gc(" ",null!=t.error.data&&null!=t.error.data.syntaxError&&t.error.data.syntaxError.error?null==t.error.data||null==t.error.data.syntaxError?null:t.error.data.syntaxError.error:null==t.error.data?null:t.error.data.message," ")}}function Re(t,e){if(1&t&&(c.Rb(0,"div",5),c.Cc(1,Se,4,2,"div",6),c.Qb()),2&t){const t=c.dc();c.Ab(1),c.jc("ngForOf",t.sectionErrors)}}let Ee=(()=>{class t{constructor(t,e){this.editorService=t,this.dialog=e,this.editorOptions={language:"json",renderLineHighlight:"none",matchBrackets:"never",lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:"5px",folding:!1},this.isValid=!0,this.sectionErrors=[],this.subs=new o.a}ngOnInit(){this.subs.add(this.editorService.state$.pipe(Object(ve.a)(1)).subscribe(t=>{this.text=JSON.stringify(t.inputs,null,2)})),this.subs.add(this.editorService.state$.subscribe(t=>{this.sectionErrors=this.getErrors(t.executeResult.createEditorErrors(t.executeResult.errors))}))}ngOnDestroy(){this.subs.unsubscribe()}inputChanged(t){try{const e=JSON.parse(t);this.updateUserInputs(e),this.isValid=!0}catch(e){this.isValid=!1}}updateUserInputs(t){this.editorService.updateUserInputs(t)}importDataModel(){this.dialog.open($t,{data:{},width:"50%",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>this.addDataModel(t))}addDataModel(t){const e=this.editorModel.getValue();try{const n=JSON.parse(e);n.dataModel=t.toJSON(),this.editorModel.setValue(JSON.stringify(n,null,2)),this.updateUserInputs(n)}catch(n){this.isValid=!1}}onEditorInit(t){this.editorModel=t}getErrors(t){return t.filter(t=>t.error.origin.location===a.a.Execute.ErrorLocation.userInput)}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u),c.Lb(g.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["inputs-editor"]],decls:6,vars:5,consts:[[1,"text-right"],["mat-button","",3,"disabled","click"],[1,"fa","fa-table"],["class","p-2 pb-4",4,"ngIf"],[3,"text","editorOptions","height","onContentChange","onEditorInit"],[1,"p-2","pb-4"],["class","text-danger small",4,"ngFor","ngForOf"],[1,"text-danger","small"],["class","text-muted small",4,"ngIf"],[1,"pl-4"],[1,"text-muted","small"],[1,"fa","fa-exclamation-triangle","text-danger","text-small","mr-2"],[1,"text-bold"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"button",1),c.Zb("click",(function(){return e.importDataModel()})),c.Mb(2,"i",2),c.Ec(3," Import Data model"),c.Qb(),c.Qb(),c.Cc(4,Re,2,1,"div",3),c.Rb(5,"file-editor",4),c.Zb("onContentChange",(function(t){return e.inputChanged(t)}))("onEditorInit",(function(t){return e.onEditorInit(t)})),c.Qb()),2&t&&(c.Ab(1),c.jc("disabled",!e.isValid),c.Ab(3),c.jc("ngIf",e.sectionErrors.length>0),c.Ab(1),c.jc("text",e.text)("editorOptions",e.editorOptions)("height","100%"))},directives:[p.b,i.t,xe.a,i.s],styles:[""]}),t})();var Oe=n("XNiG"),Qe=n("Kj3r"),Fe=n("M3NP"),Me=n("yvwu");const Ie=function(t){return{height:t}};let ye=(()=>{class t{constructor(t,e){this.bluEditorService=t,this.editorService=e,this.height="500px",this.editorOptions={theme:"bluTheme",language:"bluLanguage",renderLineHighlight:"none",suggest:{snippetsPreventQuickSuggestions:!1}},this.content$=new Oe.a,this.properties={initialText:null,text:null,renderContext:null,errors:null},this.subs=new o.a}ngOnInit(){this.subs.add(this.content$.pipe(Object(Qe.a)(100)).subscribe(t=>{this.properties.initialText!==t&&this.editorService.saveFile(t)})),this.subs.add(this.editorService.templateProperties$.subscribe(t=>{var e,n,i,r,o;this.properties.initialText=null!==(n=null!==(e=t.initialText)&&void 0!==e?e:this.properties.initialText)&&void 0!==n?n:"",this.properties.text=null!==(i=t.text)&&void 0!==i?i:this.properties.text,this.properties.renderContext=null!==(r=t.renderContext)&&void 0!==r?r:this.properties.renderContext,this.properties.errors=null!==(o=t.errors)&&void 0!==o?o:this.properties.errors,this.updateProperties()}))}updateProperties(){this.setText(),this.setErrors(),this.setContext()}setContext(){this.editorModel&&this.properties.renderContext&&(this.bluEditorService.registerCompletionProvider(monaco,this.properties.renderContext),this.properties.renderContext=null)}setText(){this.editorModel&&![null,void 0].includes(this.properties.text)&&(this.editorModel.setValue(this.properties.text),this.properties.text=null)}setErrors(){if(this.editorModel&&this.properties.errors){const t=this.properties.errors.map(t=>{var e,n,i,r;const o=this.editorModel.getPositionAt(t.index);return{startLineNumber:o.lineNumber,startColumn:o.column,endLineNumber:o.lineNumber+((null===(e=t.override)||void 0===e?void 0:e.marginalEndLineNumber)||0),endColumn:(null===(n=t.override)||void 0===n?void 0:n.endColumnNumber)||o.column+t.badText.length,message:null!==(r=null===(i=t.syntaxError)||void 0===i?void 0:i.error)&&void 0!==r?r:t.message,severity:monaco.MarkerSeverity.Error}});monaco.editor.setModelMarkers(this.editorModel,"test",t),this.properties.errors=null}}ngOnDestroy(){this.editorModel.dispose(),this.subs.unsubscribe()}onEditorInit(t){this.editorModel=t.getModel(),this.updateProperties(),this.editorModel.onDidChangeContent(t=>{this.content$.next(this.editorModel.getValue())})}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(Fe.a),c.Lb(u))},t.\u0275cmp=c.Fb({type:t,selectors:[["blu-editor"]],inputs:{height:"height"},decls:2,vars:7,consts:[[3,"ngStyle"],[3,"ngStyle","options","onInit"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"ngx-monaco-editor",1),c.Zb("onInit",(function(t){return e.onEditorInit(t)})),c.Qb(),c.Qb()),2&t&&(c.jc("ngStyle",c.lc(3,Ie,e.height)),c.Ab(1),c.jc("ngStyle",c.lc(5,Ie,e.height))("options",e.editorOptions))},directives:[i.w,Me.a],styles:[""]}),t})();const Pe=function(t){return{height:t}};let Ae=(()=>{class t{constructor(t){this.editorService=t,this.editorOptions={},this.height="500px",this.defaultOptions={theme:"bluTheme",language:"html",readOnly:!0,renderLineHighlight:"none",matchBrackets:"never"},this.properties={text:null,language:null},this.subs=new o.a}ngOnInit(){this.editorOptions=Object.assign({},this.defaultOptions,this.editorOptions),this.subs.add(this.editorService.previewProperties$.subscribe(t=>{var e,n,i;this.properties.text=null!==(n=null!==(e=t.text)&&void 0!==e?e:this.properties.text)&&void 0!==n?n:"",this.properties.language=null!==(i=t.language)&&void 0!==i?i:this.properties.language,this.updateProperties()}))}updateProperties(){this.setText(),this.setLanguage()}ngOnDestroy(){this.editorModel.dispose(),this.subs.unsubscribe()}setText(){this.editorModel&&![null,void 0].includes(this.properties.text)&&(this.editorModel.setValue(this.properties.text),this.properties.text=null)}setLanguage(){this.editorModel&&this.properties.language&&(monaco.editor.setModelLanguage(this.editorModel,this.properties.language),this.properties.language=null)}onEditorInit(t){this.editorModel=t.getModel(),this.updateProperties()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u))},t.\u0275cmp=c.Fb({type:t,selectors:[["preview-editor"]],inputs:{editorOptions:"editorOptions",height:"height"},decls:2,vars:7,consts:[[3,"ngStyle"],[3,"ngStyle","options","onInit"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"ngx-monaco-editor",1),c.Zb("onInit",(function(t){return e.onEditorInit(t)})),c.Qb(),c.Qb()),2&t&&(c.jc("ngStyle",c.lc(3,Pe,e.height)),c.Ab(1),c.jc("ngStyle",c.lc(5,Pe,e.height))("options",e.editorOptions))},directives:[i.w,Me.a],styles:[""]}),t})(),je=(()=>{class t{constructor(t,e){this.editorService=t,this.el=e,this.subs=new o.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(t=>this.selectedContext=t.selectedContext))}ngAfterViewInit(){}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u),c.Lb(c.l))},t.\u0275cmp=c.Fb({type:t,selectors:[["blu-file-editor"]],decls:14,vars:4,consts:[[1,"file-header","text-muted","d-flex","border-bottom"],[1,"",2,"width","49%"],[1,"filename"],[1,"border","border-bottom-0","d-inline","p-1"],[1,"file-contents"],[2,"width","49%","height","100%"],[3,"height"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Ec(4),c.Qb(),c.Qb(),c.Qb(),c.Rb(5,"div",1),c.Rb(6,"div",2),c.Rb(7,"div",3),c.Ec(8),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(9,"div",4),c.Rb(10,"div",5),c.Mb(11,"blu-editor",6),c.Qb(),c.Rb(12,"div",5),c.Mb(13,"preview-editor",6),c.Qb(),c.Qb()),2&t&&(c.Ab(4),c.Fc(null==e.selectedContext||null==e.selectedContext.file?null:e.selectedContext.file.filename),c.Ab(4),c.Fc(null==e.selectedContext||null==e.selectedContext.file?null:e.selectedContext.file.renderedFilename),c.Ab(3),c.jc("height","100%"),c.Ab(2),c.jc("height","100%"))},directives:[ye,Ae],styles:[".file-header[_ngcontent-%COMP%]{height:28px}.file-header[_ngcontent-%COMP%]   .filename[_ngcontent-%COMP%]{padding:5px 0 0 5px;height:100%}.file-header[_ngcontent-%COMP%]   .filename[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%;font-size:.8rem;border-bottom:1px solid #f1f1f1;background-color:#f1f1f1}.file-contents[_ngcontent-%COMP%]{display:flex;position:relative;height:calc(100% - 42px)}"]}),t})();var we=n("3sFK"),ke=n("pr2P"),De=n("6I3L"),Te=n("iFtu"),_e=n("gpd5"),Le=n("fCHT"),$e=n("+Ahk"),Ne=n("lsM1"),Ze=n("kjm3");let Ue=(()=>{class t{constructor(t){this.editorService=t,this.editorOptions={language:"json",readOnly:!0,renderLineHighlight:"none",matchBrackets:"never",lineNumbers:"off",glyphMargin:!1,lineDecorationsWidth:"5px",folding:!1},this.subs=new o.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(t=>{var e,n,i;const r={},o=null!==(i=null===(n=null===(e=t.selectedContext)||void 0===e?void 0:e.executeContext)||void 0===n?void 0:n.itemContext.variables)&&void 0!==i?i:[];o.sort((t,e)=>t.name<e.name?-1:t.name>e.name?1:0),o.forEach(t=>r[t.name]=t.value),this.text=JSON.stringify(r,null,2)}))}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u))},t.\u0275cmp=c.Fb({type:t,selectors:[["context-inputs"]],decls:6,vars:3,consts:[[1,"border-bottom"],[1,"p-1","pl-2"],[1,"fa","fa-chevron-right"],[1,"p-2",2,"height","90%"],[3,"text","editorOptions","height"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Mb(2,"i",2),c.Ec(3," Context Inputs"),c.Qb(),c.Qb(),c.Rb(4,"div",3),c.Mb(5,"file-editor",4),c.Qb()),2&t&&(c.Ab(5),c.jc("text",e.text)("editorOptions",e.editorOptions)("height","100%"))},directives:[xe.a],styles:[""]}),t})();function Ge(t,e){if(1&t&&(c.Rb(0,"span",10),c.Ec(1),c.Qb()),2&t){const t=c.dc().$implicit;c.Ab(1),c.Gc("",t.origin.type,": ")}}function Je(t,e){if(1&t&&(c.Rb(0,"tr"),c.Rb(1,"td"),c.Rb(2,"div",6),c.Ec(3),c.Qb(),c.Rb(4,"div",7),c.Ec(5),c.Qb(),c.Qb(),c.Rb(6,"td"),c.Rb(7,"div",8),c.Cc(8,Ge,2,1,"span",9),c.Rb(9,"span"),c.Ec(10),c.Qb(),c.Qb(),c.Qb(),c.Mb(11,"td"),c.Qb()),2&t){const t=e.$implicit;c.Ab(3),c.Fc(t.name),c.Ab(2),c.Fc(t.description),c.Ab(3),c.jc("ngIf","blu"!==t.origin.type),c.Ab(1),c.Db("text-capitalize","blu"===t.origin.type),c.Ab(1),c.Fc(t.origin.name)}}let ze=(()=>{class t{constructor(t){this.editorService=t,this.subs=new o.a}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(t=>{var e,n;this.selectedContext=t.selectedContext,this.functions=null===(n=null===(e=t.selectedContext)||void 0===e?void 0:e.executeContext)||void 0===n?void 0:n.itemContext.functions}))}ngOnDestroy(){this.subs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u))},t.\u0275cmp=c.Fb({type:t,selectors:[["context-functions"]],decls:13,vars:1,consts:[[1,"border-bottom"],[1,"p-1","pl-2"],[1,"fa","fa-magic"],[1,"p-2"],[1,"table","table-borderless","tight-table"],[4,"ngFor","ngForOf"],[1,"text-bold"],[1,"small","text-muted"],[1,"badge","rounded-pill","bg-light"],["class","text-capitalize",4,"ngIf"],[1,"text-capitalize"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Mb(2,"i",2),c.Ec(3," Context Functions"),c.Qb(),c.Qb(),c.Rb(4,"div",3),c.Rb(5,"table",4),c.Rb(6,"tr"),c.Rb(7,"th"),c.Ec(8,"Name/Description"),c.Qb(),c.Rb(9,"th"),c.Ec(10,"Located in"),c.Qb(),c.Mb(11,"th"),c.Qb(),c.Cc(12,Je,12,6,"tr",5),c.Qb(),c.Qb()),2&t&&(c.Ab(12),c.jc("ngForOf",e.functions))},directives:[i.s,i.t],styles:[".tight-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .tight-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.2rem}"]}),t})();function Ve(t,e){if(1&t){const t=c.Sb();c.Rb(0,"li",14),c.Zb("click",(function(){return c.rc(t),c.dc().selectSection("errors")})),c.Mb(1,"i",33),c.Ec(2," Errors "),c.Rb(3,"span",34),c.Ec(4),c.Qb(),c.Qb()}if(2&t){const t=c.dc();c.Db("text-primary","errors"===t.selected),c.Ab(4),c.Gc("(",t.errors.length,")")}}function qe(t,e){1&t&&c.Mb(0,"i",35)}function He(t,e){1&t&&c.Mb(0,"i",35)}function Be(t,e){1&t&&c.Mb(0,"i",35)}function Ke(t,e){1&t&&c.Mb(0,"i",35)}function We(t,e){if(1&t&&(c.Rb(0,"span",34),c.Ec(1),c.Qb()),2&t){const t=c.dc();c.Ab(1),c.Gc("(",null==t.item.chainedTemplates?null:t.item.chainedTemplates.length,")")}}function Xe(t,e){1&t&&c.Mb(0,"i",36)}function Ye(t,e){if(1&t&&(c.Pb(0),c.Mb(1,"error-list",40),c.Ob()),2&t){const t=c.dc(2);c.Ab(1),c.jc("errors",t.errors)("renderContext",t.renderContext)}}function tn(t,e){if(1&t&&(c.Pb(0),c.Mb(1,"config-info",41),c.Ob()),2&t){const t=c.dc(2);c.Ab(1),c.jc("item",t.item)}}function en(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"config-description",42),c.Zb("onConfigUpdated",(function(){return c.rc(t),c.dc(2).configUpdated()})),c.Qb(),c.Ob()}if(2&t){const t=c.dc(2);c.Ab(1),c.jc("item",t.item)}}function nn(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"config-on-success",43),c.Zb("onConfigUpdated",(function(){return c.rc(t),c.dc(2).configUpdated()})),c.Qb(),c.Ob()}if(2&t){const t=c.dc(2);c.Ab(1),c.jc("item",t.item)("renderedOnSuccess",t.renderedOnSuccess)("renderContext",t.renderContext)("errors",t.errors)}}function rn(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"config-filenames",44),c.Zb("onConfigUpdated",(function(){return c.rc(t),c.dc(2).configUpdated()})),c.Qb(),c.Ob()}if(2&t){const t=c.dc(2);c.Ab(1),c.jc("item",t.item)("renderContext",t.renderContext)("errors",t.errors)}}function on(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"config-commands",44),c.Zb("onConfigUpdated",(function(){return c.rc(t),c.dc(2).configUpdated()})),c.Qb(),c.Ob()}if(2&t){const t=c.dc(2);c.Ab(1),c.jc("item",t.item)("renderContext",t.renderContext)("errors",t.errors)}}function cn(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"config-functions",45),c.Zb("onConfigUpdated",(function(){return c.rc(t),c.dc(2).configUpdated()})),c.Qb(),c.Ob()}if(2&t){const t=c.dc(2);c.Ab(1),c.jc("item",t.item)("errors",t.errors)}}function sn(t,e){if(1&t){const t=c.Sb();c.Pb(0),c.Rb(1,"config-variables",44),c.Zb("onConfigUpdated",(function(){return c.rc(t),c.dc(2).configUpdated()})),c.Qb(),c.Ob()}if(2&t){const t=c.dc(2);c.Ab(1),c.jc("item",t.item)("renderContext",t.renderContext)("errors",t.errors)}}function an(t,e){1&t&&(c.Pb(0),c.Mb(1,"config-links"),c.Ob())}function ln(t,e){1&t&&(c.Pb(0),c.Mb(1,"context-inputs"),c.Ob())}function dn(t,e){1&t&&(c.Pb(0),c.Mb(1,"context-functions"),c.Ob())}function bn(t,e){if(1&t&&(c.Rb(0,"div",37),c.Pb(1,38),c.Cc(2,Ye,2,2,"ng-container",39),c.Cc(3,tn,2,1,"ng-container",39),c.Cc(4,en,2,1,"ng-container",39),c.Cc(5,nn,2,4,"ng-container",39),c.Cc(6,rn,2,3,"ng-container",39),c.Cc(7,on,2,3,"ng-container",39),c.Cc(8,cn,2,2,"ng-container",39),c.Cc(9,sn,2,3,"ng-container",39),c.Cc(10,an,2,0,"ng-container",39),c.Cc(11,ln,2,0,"ng-container",39),c.Cc(12,dn,2,0,"ng-container",39),c.Ob(),c.Qb()),2&t){const t=c.dc();c.Ab(1),c.jc("ngSwitch",t.selected),c.Ab(1),c.jc("ngSwitchCase","errors"),c.Ab(1),c.jc("ngSwitchCase","info"),c.Ab(1),c.jc("ngSwitchCase","description"),c.Ab(1),c.jc("ngSwitchCase","onSuccess"),c.Ab(1),c.jc("ngSwitchCase","filenames"),c.Ab(1),c.jc("ngSwitchCase","chainedTemplates"),c.Ab(1),c.jc("ngSwitchCase","functions"),c.Ab(1),c.jc("ngSwitchCase","variables"),c.Ab(1),c.jc("ngSwitchCase","links"),c.Ab(1),c.jc("ngSwitchCase","ctxInputs"),c.Ab(1),c.jc("ngSwitchCase","ctxFunctions")}}function un(t,e){if(1&t){const t=c.Sb();c.Rb(0,"button",46),c.Zb("click",(function(){return c.rc(t),c.dc().createNewFile()})),c.Ec(1,"Add File"),c.Qb(),c.Rb(2,"button",46),c.Zb("click",(function(){return c.rc(t),c.dc().createNewFolder()})),c.Ec(3,"Add Folder"),c.Qb(),c.Rb(4,"button",46),c.Zb("click",(function(){return c.rc(t),c.dc().uploadFiles()})),c.Ec(5,"Upload File"),c.Qb()}}const fn=function(t){return{item:t}};let pn=(()=>{class t{constructor(t,e,n,i){this.appEnvironmentService=t,this.cdr=e,this.dialog=n,this.editorService=i,this.selected="info",this.errors=[],this.configErrors={},this.configSections=["info","description","filenames","onSuccess","functions","variables"],this.subs=new o.a,this.storeKey="templateConfigSelections"}ngOnInit(){this.subs.add(this.editorService.state$.subscribe(t=>{var e,n,i;(null===(e=this.item)||void 0===e?void 0:e.id)!==(null===(i=null===(n=t.selectedContext)||void 0===n?void 0:n.executeContext)||void 0===i?void 0:i.item.id)&&(this.selected=null),setTimeout(()=>{var e,n,i,r,o,c,s,a,l,d,b,u,f,p,g;this.item=null===(n=null===(e=t.selectedContext)||void 0===e?void 0:e.executeContext)||void 0===n?void 0:n.item,this.renderContext=null===(r=null===(i=t.selectedContext)||void 0===i?void 0:i.executeContext)||void 0===r?void 0:r.renderContext,this.executeContext=null===(o=t.selectedContext)||void 0===o?void 0:o.executeContext,this.renderedOnSuccess=null===(s=null===(c=t.selectedContext)||void 0===c?void 0:c.executeContext)||void 0===s?void 0:s.onSuccess,this.itemId=null===(a=t.selectedContext)||void 0===a?void 0:a.itemId,this.itemType=null===(d=null===(l=t.selectedContext)||void 0===l?void 0:l.executeContext)||void 0===d?void 0:d.item.type,this.errors=t.executeResult.createEditorErrors(null===(u=null===(b=t.selectedContext)||void 0===b?void 0:b.executeContext)||void 0===u?void 0:u.errors),this.storedSelections=null!==(f=this.appEnvironmentService.currentEnvironmentState[this.storeKey])&&void 0!==f?f:{},this.selectSection(null!==(g=null!==(p=t.configSection)&&void 0!==p?p:this.storedSelections[this.itemId])&&void 0!==g?g:this.selected),t.configSection=null,this.cdr.detectChanges(),this.setErrors()},0)}))}ngOnDestroy(){this.subs.unsubscribe()}selectSection(t){this.selected=t,this.storedSelections[this.itemId]=this.selected,this.appEnvironmentService.setEnvironmentState(this.storeKey,this.storedSelections)}configUpdated(){this.editorService.reRender()}setErrors(){const t={};this.errors.forEach(e=>{var n;(null===(n=e.executeContext)||void 0===n?void 0:n.item.id)===this.item.id&&e.error.origin.section&&(t[e.error.origin.section]=!0)}),t.functions=this.errors.filter(t=>{var e,n,i;return(null===(e=t.executeContext)||void 0===e?void 0:e.item.id)===this.item.id&&"functionError"===(null===(i=null===(n=t.error.data)||void 0===n?void 0:n.syntaxError)||void 0===i?void 0:i.type)}).length>0,this.configErrors=t}createNewFolder(){this.dialog.open(w,{data:{absolutePath:this.executeContext.tree.absolutePath},position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>{t.updated&&this.configUpdated()})}uploadFiles(){const t=this.dialog.open(H,{data:{absolutePath:this.executeContext.tree.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(t.afterClosed().subscribe(t=>{t.updated&&this.configUpdated()}))}createNewFile(){const t=this.dialog.open(F,{data:{absolutePath:this.executeContext.tree.absolutePath},position:{top:"100px"},autoFocus:!0});this.subs.add(t.afterClosed().subscribe(t=>{t.updated&&this.configUpdated()}))}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(we.a),c.Lb(c.h),c.Lb(g.b),c.Lb(u))},t.\u0275cmp=c.Fb({type:t,selectors:[["template-config"]],decls:61,vars:32,consts:[[1,"border-bottom","item-header",2,"background-color","#F9FAFE","border-bottom-width","2px !important"],[1,"d-flex","align-items-center"],[1,"pl-3","py-2"],[2,"font-size","1rem"],[1,"ml-auto","cursor-pointer",3,"matMenuTriggerFor","matMenuTriggerData"],["mat-button","","mat-icon-button",""],[1,"item-menu",3,"inline"],[1,"d-flex","template-config"],[1,"config-list","border-bottom","py-1"],[1,"config-title"],[1,"fa","fa-cog","config-icon"],[1,"inline-block"],[1,"list-unstyled","pb-0","pt-1","config-list","cursor-pointer"],[3,"text-primary","click",4,"ngIf"],[3,"click"],[1,"fab","fa-readme","config-icon"],[1,"fa","fa-info-circle","config-icon"],[1,"fa","fa-file","config-icon"],["class","fa fa-exclamation-circle text-danger text-tiny",4,"ngIf"],[1,"fa","fa-check","config-icon"],[1,"fa","fa-magic","config-icon"],[1,"fa","fa-equals","config-icon"],[1,"fa","fa-list","config-icon"],["class","text-tiny",4,"ngIf"],["class","fa fa-exclamation-circle text-danger text-tiny ml-1",4,"ngIf"],[1,"pt-2","config-list","border-bottom","py-1"],[1,"fab","fa-connectdevelop","config-icon"],[1,"list-unstyled","pb-0","config-list","cursor-pointer"],[1,"fa","fa-chevron-right","config-icon"],["class","pl-2 w-100 h-100 config-contents",4,"ngIf"],["yPosition","below"],["itemMenu","matMenu"],["matMenuContent",""],[1,"fa","fa-exclamation-triangle","config-icon","text-danger"],[1,"text-tiny"],[1,"fa","fa-exclamation-circle","text-danger","text-tiny"],[1,"fa","fa-exclamation-circle","text-danger","text-tiny","ml-1"],[1,"pl-2","w-100","h-100","config-contents"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"errors","renderContext"],[3,"item"],[3,"item","onConfigUpdated"],[3,"item","renderedOnSuccess","renderContext","errors","onConfigUpdated"],[3,"item","renderContext","errors","onConfigUpdated"],[3,"item","errors","onConfigUpdated"],["mat-menu-item","",3,"click"]],template:function(t,e){if(1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Ec(4),c.Qb(),c.Qb(),c.Rb(5,"div",4),c.Rb(6,"button",5),c.Rb(7,"mat-icon",6),c.Ec(8,"more_vert"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(9,"div",7),c.Rb(10,"div"),c.Rb(11,"div",8),c.Rb(12,"div",9),c.Mb(13,"i",10),c.Rb(14,"div",11),c.Ec(15,"Config"),c.Qb(),c.Qb(),c.Qb(),c.Rb(16,"ul",12),c.Cc(17,Ve,5,3,"li",13),c.Rb(18,"li",14),c.Zb("click",(function(){return e.selectSection("info")})),c.Mb(19,"i",15),c.Ec(20," Readme"),c.Qb(),c.Rb(21,"li",14),c.Zb("click",(function(){return e.selectSection("description")})),c.Mb(22,"i",16),c.Ec(23," Description"),c.Qb(),c.Rb(24,"li",14),c.Zb("click",(function(){return e.selectSection("filenames")})),c.Mb(25,"i",17),c.Ec(26," Filenames "),c.Cc(27,qe,1,0,"i",18),c.Qb(),c.Rb(28,"li",14),c.Zb("click",(function(){return e.selectSection("onSuccess")})),c.Mb(29,"i",19),c.Ec(30," On Success "),c.Cc(31,He,1,0,"i",18),c.Qb(),c.Rb(32,"li",14),c.Zb("click",(function(){return e.selectSection("functions")})),c.Mb(33,"i",20),c.Ec(34," Functions "),c.Cc(35,Be,1,0,"i",18),c.Qb(),c.Rb(36,"li",14),c.Zb("click",(function(){return e.selectSection("variables")})),c.Mb(37,"i",21),c.Ec(38," Variables "),c.Cc(39,Ke,1,0,"i",18),c.Qb(),c.Rb(40,"li",14),c.Zb("click",(function(){return e.selectSection("chainedTemplates")})),c.Mb(41,"i",22),c.Ec(42," Chain "),c.Cc(43,We,2,1,"span",23),c.Cc(44,Xe,1,0,"i",24),c.Qb(),c.Qb(),c.Rb(45,"div",25),c.Rb(46,"div",9),c.Mb(47,"i",26),c.Rb(48,"div",11),c.Ec(49,"Context"),c.Qb(),c.Qb(),c.Qb(),c.Rb(50,"ul",27),c.Rb(51,"li",14),c.Zb("click",(function(){return e.selectSection("ctxInputs")})),c.Mb(52,"i",28),c.Ec(53," Inputs"),c.Qb(),c.Rb(54,"li",14),c.Zb("click",(function(){return e.selectSection("ctxFunctions")})),c.Mb(55,"i",20),c.Ec(56," Functions"),c.Qb(),c.Qb(),c.Qb(),c.Cc(57,bn,13,12,"div",29),c.Qb(),c.Rb(58,"mat-menu",30,31),c.Cc(60,un,6,0,"ng-template",32),c.Qb()),2&t){const t=c.oc(59);c.Ab(4),c.Fc(null==e.item?null:e.item.name),c.Ab(1),c.jc("matMenuTriggerFor",t)("matMenuTriggerData",c.lc(30,fn,e.item)),c.Ab(2),c.jc("inline",!0),c.Ab(10),c.jc("ngIf",e.errors.length>0),c.Ab(1),c.Db("text-primary","info"===e.selected),c.Ab(3),c.Db("text-primary","description"===e.selected),c.Ab(3),c.Db("text-primary","filenames"===e.selected),c.Ab(3),c.jc("ngIf",e.configErrors.filenames),c.Ab(1),c.Db("text-primary","onSuccess"===e.selected),c.Ab(3),c.jc("ngIf",e.configErrors.onSuccess),c.Ab(1),c.Db("text-primary","functions"===e.selected),c.Ab(3),c.jc("ngIf",e.configErrors.functions),c.Ab(1),c.Db("text-primary","variables"===e.selected),c.Ab(3),c.jc("ngIf",e.configErrors.variables),c.Ab(1),c.Db("text-primary","chainedTemplates"===e.selected),c.Ab(3),c.jc("ngIf",(null==e.item||null==e.item.chainedTemplates?null:e.item.chainedTemplates.length)>0),c.Ab(1),c.jc("ngIf",e.configErrors.chainedTemplates),c.Ab(7),c.Db("text-primary","ctxInputs"===e.selected),c.Ab(3),c.Db("text-primary","ctxFunctions"===e.selected),c.Ab(3),c.jc("ngIf",e.selected)}},directives:[B.d,p.b,_.a,i.t,B.e,B.a,i.x,i.y,ge,ke.a,De.a,Te.a,_e.a,Le.a,$e.a,Ne.a,Ze.a,Ue,ze,B.b],styles:[".template-config[_ngcontent-%COMP%]{height:calc(100vh - 110px)}.config-list[_ngcontent-%COMP%]{position:relative;width:120px}.config-list[_ngcontent-%COMP%]   .config-title[_ngcontent-%COMP%], .config-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:26px}.config-list[_ngcontent-%COMP%]   .config-icon[_ngcontent-%COMP%]{left:10px;top:6px;position:absolute;font-size:.6rem;opacity:.8}.config-contents[_ngcontent-%COMP%]{flex:1}"]}),t})();function gn(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div",18),c.Zb("click",(function(){return c.rc(t),c.dc().selectErrors()})),c.Mb(1,"i",19),c.Ec(2),c.Qb()}if(2&t){const t=c.dc();c.Db("text-primary","errors"===(null==t.state?null:t.state.navSection))("text-danger","errors"!==(null==t.state?null:t.state.navSection)),c.Ab(2),c.Gc(" Errors (",t.state.executeResult.errors.length,") ")}}function mn(t,e){1&t&&(c.Pb(0),c.Mb(1,"editor-items"),c.Ob())}function hn(t,e){1&t&&(c.Pb(0),c.Mb(1,"generated-files"),c.Ob())}function vn(t,e){if(1&t){const t=c.Sb();c.Rb(0,"div"),c.Rb(1,"div",22),c.Rb(2,"div",23),c.Rb(3,"div",24),c.Zb("click",(function(){return c.rc(t),c.dc().selectItemSection("templates")})),c.Ec(4,"Templates"),c.Qb(),c.Rb(5,"div",24),c.Zb("click",(function(){return c.rc(t),c.dc().selectItemSection("generated-files")})),c.Ec(6,"Generated Files"),c.Qb(),c.Qb(),c.Qb(),c.Cc(7,mn,2,0,"ng-container",20),c.Cc(8,hn,2,0,"ng-container",20),c.Qb()}if(2&t){const t=c.dc();c.Ab(3),c.Db("selected","templates"===t.state.itemSection),c.Ab(2),c.Db("selected","generated-files"===t.state.itemSection),c.Ab(2),c.jc("ngIf","templates"===t.state.itemSection),c.Ab(1),c.jc("ngIf","generated-files"===t.state.itemSection)}}function xn(t,e){1&t&&(c.Pb(0),c.Mb(1,"all-errors"),c.Ob())}function Cn(t,e){1&t&&(c.Pb(0),c.Mb(1,"inputs-editor"),c.Ob())}function Sn(t,e){1&t&&(c.Pb(0),c.Mb(1,"blu-file-editor"),c.Ob())}function Rn(t,e){1&t&&(c.Pb(0),c.Mb(1,"template-config"),c.Ob())}function En(t,e){if(1&t&&(c.Pb(0),c.Cc(1,Sn,2,0,"ng-container",20),c.Cc(2,Rn,2,0,"ng-container",20),c.Ob()),2&t){const t=c.dc();c.Ab(1),c.jc("ngIf","template"===(null==t.state?null:t.state.contentSection)),c.Ab(1),c.jc("ngIf","config"===(null==t.state?null:t.state.contentSection))}}const On=r.f.forChild([{path:"",component:(()=>{class t{constructor(t,e,n,i,r){this.editorService=t,this.activatedRoute=e,this.appStateService=n,this.location=i,this.router=r,this.inputs={},this.subs=new o.a,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}ngOnInit(){const t=this.activatedRoute.snapshot.queryParams;this.command=t.mode,this.itemId=t.itemId,this.rootDestination=t.rootDestination,this.setInputs(t.inputs),this.subs.add(this.editorService.state$.subscribe(t=>this.state=t)),this.command&&this.itemId?this.preview():this.appStateService.openBluConsole()}setInputs(t){try{const e=JSON.parse(t);this.inputs=Object.assign({},this.inputs,e)}catch(e){this.inputs={}}}ngOnDestroy(){this.subs.unsubscribe()}selectInputs(){this.editorService.selectInputs()}preview(){this.editorService.preview(this.itemId,this.inputs,this.rootDestination)}selectItemSection(t){this.editorService.selectItemSection(t)}selectErrors(){this.editorService.selectErrors()}generate(){var t,e,n,i,r,o;this.appStateService.openBluConsole({command:"generate "+(null!==(i=null===(n=null===(e=null===(t=this.state)||void 0===t?void 0:t.executeResult)||void 0===e?void 0:e.executeContext.item)||void 0===n?void 0:n.namespace)&&void 0!==i?i:""),inputs:this.state.inputs,rootDestination:this.rootDestination,suggestedNames:[this.state.inputs.name],extraInfo:{itemId:null===(o=null===(r=this.state)||void 0===r?void 0:r.executeResult)||void 0===o?void 0:o.executeContext.item.id}})}goBack(){this.location.back()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u),c.Lb(r.a),c.Lb(f.a),c.Lb(i.n),c.Lb(r.b))},t.\u0275cmp=c.Fb({type:t,selectors:[["editor"]],decls:29,vars:11,consts:[[1,"editor","p-2"],[1,"editor-header"],[1,"d-flex","align-items-center","border",2,"background-color","#F9FAFE"],[1,"px-2","align-self-start"],[1,"pt-1"],["mat-button","","mat-icon-button","",3,"click"],[1,"fa","fa-arrow-left"],[1,"p-2","align-self-start"],[1,"pt-2"],[1,"console","cursor-pointer",3,"click"],[1,"fa","fa-terminal","fa-sm"],[1,"p-2","px-4"],[1,"command"],[1,"text-small","text-muted"],[1,"text-muted","small"],[1,"editor-body"],[1,"editor-nav","p-1","pl-2"],["class","cursor-pointer",3,"text-primary","text-danger","click",4,"ngIf"],[1,"cursor-pointer",3,"click"],[1,"fa","fa-chevron-right",2,"font-size","0.6rem"],[4,"ngIf"],[1,"editor-contents"],[1,"pt-2","pb-1"],[1,"d-flex","item-selector","align-items-stretch"],[1,"text-center","selector-section",3,"click"]],template:function(t,e){1&t&&(c.Rb(0,"div",0),c.Rb(1,"div",1),c.Rb(2,"div",2),c.Rb(3,"div",3),c.Rb(4,"div",4),c.Rb(5,"button",5),c.Zb("click",(function(){return e.goBack()})),c.Mb(6,"i",6),c.Qb(),c.Qb(),c.Qb(),c.Rb(7,"div",7),c.Rb(8,"div",8),c.Rb(9,"div",9),c.Zb("click",(function(){return e.generate()})),c.Mb(10,"i",10),c.Qb(),c.Qb(),c.Qb(),c.Rb(11,"div",11),c.Rb(12,"div",12),c.Rb(13,"span",13),c.Ec(14),c.Qb(),c.Ec(15),c.Qb(),c.Rb(16,"div",14),c.Ec(17),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(18,"div",15),c.Rb(19,"div",16),c.Cc(20,gn,3,5,"div",17),c.Rb(21,"div",18),c.Zb("click",(function(){return e.selectInputs()})),c.Mb(22,"i",19),c.Ec(23," Inputs "),c.Qb(),c.Cc(24,vn,9,6,"div",20),c.Qb(),c.Rb(25,"div",21),c.Cc(26,xn,2,0,"ng-container",20),c.Cc(27,Cn,2,0,"ng-container",20),c.Cc(28,En,3,2,"ng-container",20),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.Ab(14),c.Fc(e.command),c.Ab(1),c.Hc(" ",null==e.state||null==e.state.executeResult||null==e.state.executeResult.executeContext.item?null:e.state.executeResult.executeContext.item.namespace," ",null!=e.inputs&&e.inputs.name?e.inputs.name:"",""),c.Ab(2),c.Gc("destination: ",e.rootDestination?e.rootDestination:"none selected (click to edit)",""),c.Ab(3),c.jc("ngIf",(null==e.state||null==e.state.executeResult?null:e.state.executeResult.errors.length)>0),c.Ab(1),c.Db("text-primary","inputs"===(null==e.state?null:e.state.navSection)),c.Ab(3),c.jc("ngIf",null==e.state?null:e.state.executeResult),c.Ab(2),c.jc("ngIf","errors"===(null==e.state?null:e.state.navSection)),c.Ab(1),c.jc("ngIf","inputs"===(null==e.state?null:e.state.navSection)),c.Ab(1),c.jc("ngIf","file"===(null==e.state?null:e.state.navSection)))},directives:[p.b,i.t,Ft,kt,he,Ee,je,pn],styles:[".editor[_ngcontent-%COMP%]{background-color:#fff}.editor-header[_ngcontent-%COMP%]{height:60px;width:100%;border-bottom:1px solid #f1f1f1}.editor-body[_ngcontent-%COMP%]{display:flex;height:calc(100vh - 110px)}.editor-body[_ngcontent-%COMP%]   .editor-nav[_ngcontent-%COMP%]{flex:0 0 250px;order:-1;border-right:1px solid #f1f1f1;overflow:hidden}.editor-body[_ngcontent-%COMP%]   .editor-contents[_ngcontent-%COMP%]{flex:1}.command[_ngcontent-%COMP%]{font-size:1.1rem}.text-bold[_ngcontent-%COMP%]{font-weight:700}.has-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px dashed red}.has-error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:red}.item-selector[_ngcontent-%COMP%]{font-size:.8rem;border-bottom:1px solid #f1f1f1}.item-selector[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{border-top:1px solid #f1f1f1!important;border-left:1px solid #f1f1f1!important;border-right:1px solid #f1f1f1!important;background-color:#f1f1f1}.item-selector[_ngcontent-%COMP%]   .selector-section[_ngcontent-%COMP%]{border-top:1px solid #fff;border-left:1px solid #fff;border-right:1px solid #fff;padding:3px 5px;cursor:pointer}"]}),t})()}]);var Qn=n("Pnzg");let Fn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,B.c,_.b,p.c]]}),t})();var Mn=n("QibW"),In=n("d3UM");let yn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,g.g,x.b,m.l,p.c,Mn.c,m.A,In.b]]}),t})(),Pn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,g.g,x.b,m.l,p.c,Mn.c,m.A,In.b]]}),t})(),An=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,g.g,x.b,m.l,p.c,Mn.c,m.A,In.b,L.b,_.b]]}),t})(),jn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,Fn,K.b,B.c,yn,Pn,An]]}),t})();var wn=n("xyCH");let kn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,g.g,x.b,m.l,p.c,Mn.c,m.A,In.b]]}),t})(),Dn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,wn.a,p.c,kn]]}),t})(),Tn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,jn]]}),t})(),_n=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,Me.b,m.l]]}),t})(),Ln=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,Me.b]]}),t})(),$n=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,_n,Ln]]}),t})();var Nn=n("AvgW"),Zn=n("2VJ6"),Un=n("Bp5M"),Gn=n("vabg");let Jn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,wn.a]]}),t})(),zn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c]]}),t})(),Vn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c]]}),t})();var qn=n("nC7K"),Hn=n("yjV7"),Bn=n("Eow3"),Kn=n("KjPU");let Wn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,Nn.a,Zn.a,Un.a,Gn.a,Jn,zn,Vn,qn.a,Hn.a,Bn.a,Kn.a,B.c,_.b,p.c]]}),t})(),Xn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,K.b]]}),t})(),Yn=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,Xn]]}),t})(),ti=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,Vn]]}),t})(),ei=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[i.c]]}),t})(),ni=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},providers:[u],imports:[[i.c,On,Me.b,m.l,p.c,Qn.a,jn,Dn,Tn,$n,Wn,Yn,ti,ei]]}),t})()}}]);