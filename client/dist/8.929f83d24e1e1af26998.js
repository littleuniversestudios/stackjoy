(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{iGsW:function(e,t,n){"use strict";n.r(t),n.d(t,"AppEnvironmentModule",(function(){return q}));var i=n("ofXK"),c=n("tyNb"),o=n("quSY"),s=n("HdQx"),a=n("fXoL"),r=n("3sFK"),b=n("oCqB"),l=n("0IaG"),d=n("yiTJ"),u=n("a8/g"),p=n("Kxoc"),m=n("xm+p"),v=n("NQiz"),S=n("Qu3c"),f=n("bv9b");function g(e,t){if(1&e){const e=a.Tb();a.Sb(0,"div",27),a.Fc(1,"No suggested stacks for your project. "),a.Sb(2,"span",28),a.ac("click",(function(){return a.sc(e),a.ec(2).goToPublicStacks()})),a.Fc(3,"Click here to see all public stacks"),a.Rb(),a.Rb()}}function h(e,t){if(1&e){const e=a.Tb();a.Sb(0,"div",29),a.Sb(1,"div",30),a.Sb(2,"div",31),a.Fc(3),a.Rb(),a.Sb(4,"div",32),a.ac("click",(function(){a.sc(e);const n=t.$implicit;return a.ec(2).installStack(n)})),a.Sb(5,"div",10),a.Nb(6,"i",33),a.Rb(),a.Sb(7,"div",34),a.Fc(8,"Install"),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&e){const e=t.$implicit;a.Bb(3),a.Gc(e.displayName)}}function R(e,t){if(1&e&&(a.Sb(0,"div",24),a.Dc(1,g,4,0,"div",25),a.Dc(2,h,9,1,"div",26),a.Rb()),2&e){const e=a.ec();a.Bb(1),a.kc("ngIf",0===e.stacks.length),a.Bb(1),a.kc("ngForOf",e.stacks)}}function k(e,t){1&e&&(a.Sb(0,"div",0),a.Nb(1,"mat-progress-bar",35),a.Rb())}let y=(()=>{class e{constructor(e,t,n,i,c,s){this.appConsoleService=e,this.dialog=t,this.bluService=n,this.navigationService=i,this.stackService=c,this.appDocumentationService=s,this.subs=new o.a}ngOnInit(){this.subs.add(this.stackService.getPublicStacks().subscribe(e=>{this.stacks=e.filter(e=>"test"!==e.displayName)},e=>this.stacks=[]))}ngOnDestroy(){this.subs.unsubscribe()}openConsole(){this.appConsoleService.openBluConsole()}openDocumentation(){this.appDocumentationService.toggleDocumentation()}generateTemplate(){this.appConsoleService.openBluConsole({inputs:{},command:"generate",suggestedNames:["stackjoy"]})}previewTemplate(){this.appConsoleService.openBluConsole({inputs:{},command:"preview",suggestedNames:["stackjoy"]})}editTemplate(){this.appConsoleService.openBluConsole({inputs:{},command:"edit",suggestedNames:["stackjoy"]})}createTemplate(){this.dialog.open(d.a,{minWidth:"600px",position:{top:"100px"},autoFocus:!0})}editExample(){this.bluService.getItems().subscribe(e=>{this.exampleTemplate=e.find(e=>{var t,n,i;return"documentation"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())&&"main"===(null===(i=null===(n=e.parent)||void 0===n?void 0:n.name)||void 0===i?void 0:i.toLowerCase())}),this.exampleTemplate&&this.navigationService.navigateTo(["editor"],{queryParams:{mode:"preview",itemId:this.exampleTemplate.id,rootDestination:"./sj-example",inputs:JSON.stringify({name:"blu-scripting-language"})}})})}installStack(e){this.appConsoleService.openBluConsole({command:"install "+e.displayName,extraInfo:{stack:e,source:"remote"}})}goToPublicStacks(){this.navigationService.navigateTo(["stackjoy"])}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(u.a),a.Mb(l.b),a.Mb(p.a),a.Mb(m.a),a.Mb(b.a),a.Mb(v.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["environment-home"]],decls:65,vars:3,consts:[[1,"p-2"],["role","alert",1,"alert","alert-primary"],[1,"fa","fa-info-circle"],["role","alert",1,"alert","alert-light","mb-0"],[1,"list-unstyled"],[3,"click"],[1,"d-flex","align-middle"],[1,"",2,"width","30px"],[1,"console","cursor-pointer","mr-1",3,"matTooltip"],[1,"fa","fa-terminal","fa-sm"],[1,""],[1,"text-bold"],["matTooltip","The console is most easily accessible by pressing ctrl+space on your keyboard. You can run all major actions using the console.",1,"fa","fa","fa-question-circle","text-small","text-muted"],["matTooltip","You're a quick learner.",1,"text-center","cursor-pointer",2,"width","30px"],[1,"fa","fa-question-circle"],[1,"text-center",2,"width","30px"],[1,"fas","fa-book"],[1,"d-flex","align-middle","cursor-pointer"],[1,"alert-list-icon"],[1,"fa","fa-chevron-right"],[1,"ml-2"],[1,"far","fa-arrow-alt-circle-right"],["class","d-flex align-items-center",4,"ngIf","ngIfElse"],["loading",""],[1,"d-flex","align-items-center"],["class","text-small text-muted",4,"ngIf"],["class","suggested-stack m-2",4,"ngFor","ngForOf"],[1,"text-small","text-muted"],[1,"as-link",3,"click"],[1,"suggested-stack","m-2"],[1,"d-flex"],[1,"text-bold","px-2","pt-1"],[1,"ml-auto","stack-install","p-2","cursor-pointer",3,"click"],[1,"fa","fa-plus-circle"],[1,"px-2"],["mode","indeterminate"]],template:function(e,t){if(1&e&&(a.Sb(0,"div",0),a.Sb(1,"div",1),a.Nb(2,"i",2),a.Fc(3," Welcome to Stackjoy. You are running the beta version. Always use a version control system with your project while using Stackjoy. "),a.Rb(),a.Sb(4,"div",3),a.Sb(5,"h5"),a.Fc(6,"Quick tips"),a.Rb(),a.Sb(7,"ul",4),a.Sb(8,"li",5),a.ac("click",(function(){return t.openConsole()})),a.Sb(9,"div",6),a.Sb(10,"div",7),a.Sb(11,"div",8),a.Nb(12,"i",9),a.Rb(),a.Rb(),a.Sb(13,"div",10),a.Fc(14," Click on the console icon or press "),a.Sb(15,"span",11),a.Fc(16,"\xa0ctrl+space\xa0"),a.Rb(),a.Fc(17," to launch the console "),a.Nb(18,"i",12),a.Rb(),a.Rb(),a.Rb(),a.Sb(19,"li"),a.Sb(20,"div",6),a.Sb(21,"div",13),a.Nb(22,"i",14),a.Rb(),a.Sb(23,"div",10),a.Fc(24,"Hover over these icons to get more tips"),a.Rb(),a.Rb(),a.Rb(),a.Sb(25,"li",5),a.ac("click",(function(){return t.openDocumentation()})),a.Sb(26,"div",6),a.Sb(27,"div",15),a.Nb(28,"i",16),a.Rb(),a.Sb(29,"div",10),a.Fc(30,"More Stackjoy documentation always accessible in the header."),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(31,"div",3),a.Sb(32,"h5"),a.Fc(33,"Next steps"),a.Rb(),a.Sb(34,"ul",4),a.Sb(35,"li",5),a.ac("click",(function(){return t.editExample()})),a.Sb(36,"div",17),a.Sb(37,"div",18),a.Nb(38,"i",19),a.Rb(),a.Sb(39,"div",10),a.Fc(40,"Learn about the BLU scripting language in your templates (generators)"),a.Rb(),a.Sb(41,"div",20),a.Nb(42,"i",21),a.Rb(),a.Rb(),a.Rb(),a.Sb(43,"li",5),a.ac("click",(function(){return t.generateTemplate()})),a.Sb(44,"div",17),a.Sb(45,"div",18),a.Nb(46,"i",19),a.Rb(),a.Sb(47,"div",10),a.Fc(48,"Generate a template"),a.Rb(),a.Sb(49,"div",20),a.Nb(50,"i",21),a.Rb(),a.Rb(),a.Rb(),a.Sb(51,"li",5),a.ac("click",(function(){return t.createTemplate()})),a.Sb(52,"div",17),a.Sb(53,"div",18),a.Nb(54,"i",19),a.Rb(),a.Sb(55,"div",10),a.Fc(56,"Create a template"),a.Rb(),a.Sb(57,"div",20),a.Nb(58,"i",21),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(59,"div",3),a.Sb(60,"h5"),a.Fc(61,"Suggested Stacks"),a.Rb(),a.Dc(62,R,3,2,"div",22),a.Rb(),a.Rb(),a.Dc(63,k,2,0,"ng-template",null,23,a.Ec)),2&e){const e=a.pc(64);a.Bb(11),a.kc("matTooltip","Open the console ( ctrl+space )"),a.Bb(51),a.kc("ngIf",t.stacks)("ngIfElse",e)}},directives:[S.a,i.t,i.s,f.a],styles:[".alert-list-icon[_ngcontent-%COMP%]{width:30px;text-align:center}.suggested-stack[_ngcontent-%COMP%]{background-color:#e2e3e5;border:1px solid #d3d6d8;border-radius:8px;width:200px}.suggested-stack[_ngcontent-%COMP%]   .stack-install[_ngcontent-%COMP%]{border-left:1px solid #666;background-color:#fff;text-align:center}"]}),e})();var x=n("MrDi"),C=n("bTqV");let F=(()=>{class e{constructor(e,t){this.data=e,this.dialogRef=t}ngOnInit(){this.selectedPath=this.data.rootPath}ngOnDestroy(){}close(){this.dialogRef.close(null)}setCodebasePath(e){this.selectedPath=e}select(){this.dialogRef.close(this.selectedPath)}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(l.a),a.Mb(l.h))},e.\u0275cmp=a.Gb({type:e,selectors:[["file-path-dialog"]],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"rootPath","foldersOnly","onSelectedPath"],["mat-dialog-actions","",3,"align"],["tabindex","-1","mat-button","","mat-dialog-close",""],["tabindex","-1","mat-button","",3,"click"]],template:function(e,t){1&e&&(a.Sb(0,"h1",0),a.Fc(1,"Select Path"),a.Rb(),a.Sb(2,"div",1),a.Sb(3,"file-path",2),a.ac("onSelectedPath",(function(e){return t.setCodebasePath(e)})),a.Rb(),a.Rb(),a.Sb(4,"div",3),a.Sb(5,"button",4),a.Fc(6,"Cancel"),a.Rb(),a.Sb(7,"button",5),a.ac("click",(function(){return t.select()})),a.Fc(8,"Select"),a.Rb(),a.Rb()),2&e&&(a.Bb(3),a.kc("rootPath",t.data.rootPath)("foldersOnly",!0),a.Bb(1),a.kc("align","end"))},directives:[l.i,l.f,x.a,l.c,C.b,l.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),e})();var w=n("3Pt+");function N(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"div",4),a.Fc(2),a.Sb(3,"button",5),a.ac("click",(function(){return a.sc(e),a.ec(2).editSeed=!0})),a.Fc(4,"Edit"),a.Rb(),a.Sb(5,"button",5),a.ac("click",(function(){a.sc(e);const t=a.ec(2);return t.test(t.environment.seed)})),a.Fc(6,"test"),a.Rb(),a.Rb(),a.Pb()}if(2&e){const e=a.ec(2);a.Bb(2),a.Hc("",e.environment.seed?e.environment.seed:"none"," ")}}function P(e,t){if(1&e){const e=a.Tb();a.Qb(0),a.Sb(1,"div",7),a.Sb(2,"div",8),a.Sb(3,"input",9),a.ac("ngModelChange",(function(t){return a.sc(e),a.ec(2).environment.seed=t})),a.Rb(),a.Rb(),a.Sb(4,"button",10),a.ac("click",(function(){return a.sc(e),a.ec(2).editSeed=!1})),a.Fc(5,"Cancel"),a.Rb(),a.Sb(6,"button",11),a.ac("click",(function(){return a.sc(e),a.ec(2).updateSeed()})),a.Fc(7,"Save"),a.Rb(),a.Rb(),a.Pb()}if(2&e){const e=a.ec(2);a.Bb(3),a.kc("ngModel",e.environment.seed),a.Bb(3),a.kc("disabled",!e.environment.seed)}}function B(e,t){if(1&e&&(a.Sb(0,"tr"),a.Sb(1,"td"),a.Sb(2,"div",4),a.Fc(3,"Seed:"),a.Rb(),a.Rb(),a.Sb(4,"td"),a.Dc(5,N,7,1,"ng-container",6),a.Dc(6,P,8,2,"ng-container",6),a.Rb(),a.Rb()),2&e){const e=a.ec();a.Bb(5),a.kc("ngIf",!e.editSeed),a.Bb(1),a.kc("ngIf",e.editSeed)}}let M=(()=>{class e{constructor(e,t,n){this.appEnvironmentService=e,this.stackService=t,this.dialog=n,this.subs=new o.a}ngOnInit(){this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(e=>this.environment=e))}ngOnDestroy(){}isWorkspace(){var e;return(null===(e=this.environment)||void 0===e?void 0:e.type)===s.a.Environment.Type.Workspace}addNewCodebase(){this.dialog.open(F,{data:{rootPath:this.environment.codebasePath},minWidth:"600px",minHeight:"210px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(e=>{e&&this.switchCodebase(e)})}switchCodebase(e){this.appEnvironmentService.switchCodebase(this.environment.id,e)}updateSeed(){this.appEnvironmentService.updateSeed(this.environment.id,this.environment.seed).subscribe(e=>null),this.editSeed=!1}test(e){this.stackService.installSeedIntoCurrentEnvironment(e).subscribe(e=>{},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(r.a),a.Mb(b.a),a.Mb(l.b))},e.\u0275cmp=a.Gb({type:e,selectors:[["environment-info"]],decls:23,vars:4,consts:[[1,"table"],[1,"border-top-0"],[1,"border-top-0",2,"width","150px"],[1,"text-bold"],[1,""],["mat-button","","mat-raised-button","",1,"ml-2",3,"click"],[4,"ngIf"],[1,"d-flex"],[1,"pr-4","w-100"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["mat-button","","mat-raised-button","",1,"ml-auto",3,"click"],["mat-button","","mat-raised-button","",1,"ml-2",3,"disabled","click"]],template:function(e,t){1&e&&(a.Sb(0,"table",0),a.Sb(1,"tr",1),a.Sb(2,"td",2),a.Fc(3," Name: "),a.Rb(),a.Sb(4,"td",1),a.Sb(5,"div",3),a.Fc(6),a.Rb(),a.Rb(),a.Rb(),a.Sb(7,"tr"),a.Sb(8,"td"),a.Fc(9,"Type:"),a.Rb(),a.Sb(10,"td"),a.Sb(11,"span",3),a.Fc(12),a.Rb(),a.Rb(),a.Rb(),a.Sb(13,"tr"),a.Sb(14,"td"),a.Sb(15,"div",4),a.Fc(16,"Codebase:"),a.Rb(),a.Rb(),a.Sb(17,"td"),a.Sb(18,"div",3),a.Fc(19),a.Sb(20,"button",5),a.ac("click",(function(){return t.addNewCodebase()})),a.Fc(21,"Change"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Dc(22,B,7,2,"tr",6),a.Rb()),2&e&&(a.Bb(6),a.Hc(" ",t.environment.name,""),a.Bb(6),a.Gc(t.environment.type),a.Bb(7),a.Hc("",t.environment.codebasePath," "),a.Bb(3),a.kc("ngIf",!t.isWorkspace()))},directives:[C.b,i.t,w.c,w.q,w.t],styles:[""]}),e})(),I=(()=>{class e{constructor(){}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Gb({type:e,selectors:[["environment-readme"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Sb(0,"div"),a.Fc(1,"Component with module!"),a.Rb())},styles:[""]}),e})();function T(e,t){1&e&&(a.Qb(0),a.Nb(1,"environment-home"),a.Pb())}function O(e,t){1&e&&(a.Qb(0),a.Nb(1,"environment-info"),a.Pb())}function D(e,t){1&e&&(a.Qb(0),a.Nb(1,"environment-readme"),a.Pb())}const E=c.f.forChild([{path:"",component:(()=>{class e{constructor(e,t,n){this.appEnvironmentService=e,this.stackService=t,this.dialog=n,this.subs=new o.a,this.selectedSection="home"}ngOnInit(){this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(e=>this.environment=e))}selectSection(e){this.selectedSection=e}ngOnDestroy(){}isWorkspace(){var e;return(null===(e=this.environment)||void 0===e?void 0:e.type)===s.a.Environment.Type.Workspace}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(r.a),a.Mb(b.a),a.Mb(l.b))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-environment"]],decls:17,vars:13,consts:[[1,"text-capitalize","text-large","px-4","py-3"],[1,"fa","mt-1","mr-1"],[1,"fas","mt-1","mr-1"],[1,"px-2"],[1,"page-tabs"],[3,"click"],[1,"fa","fa-home"],[1,"fas","fa-info-circle"],[1,"pt-2"],[4,"ngIf"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Sb(1,"span"),a.Nb(2,"i",1),a.Nb(3,"i",2),a.Rb(),a.Fc(4),a.Rb(),a.Sb(5,"div",3),a.Sb(6,"div",4),a.Sb(7,"div",5),a.ac("click",(function(){return t.selectSection("home")})),a.Nb(8,"i",6),a.Fc(9," Home"),a.Rb(),a.Sb(10,"div",5),a.ac("click",(function(){return t.selectSection("info")})),a.Nb(11,"i",7),a.Fc(12," Info"),a.Rb(),a.Rb(),a.Sb(13,"div",8),a.Dc(14,T,2,0,"ng-container",9),a.Dc(15,O,2,0,"ng-container",9),a.Dc(16,D,2,0,"ng-container",9),a.Rb(),a.Rb()),2&e&&(a.Bb(2),a.Eb("fa-dice-d6",t.isWorkspace()),a.Bb(1),a.Eb("fa-layer-group",!t.isWorkspace()),a.Bb(1),a.Ic(" Current ",null==t.environment?null:t.environment.type,": ",null==t.environment?null:t.environment.name,"\n"),a.Bb(3),a.Eb("active","home"===t.selectedSection),a.Bb(3),a.Eb("active","info"===t.selectedSection),a.Bb(4),a.kc("ngIf","home"===t.selectedSection),a.Bb(1),a.kc("ngIf","info"===t.selectedSection),a.Bb(1),a.kc("ngIf","readme"===t.selectedSection))},directives:[i.t,y,M,I],styles:[""]}),e})()}]);var j=n("lR5k");let W=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,S.b,f.b]]}),e})(),G=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,w.l,C.c]]}),e})(),Q=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c]]}),e})(),q=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},providers:[],imports:[[i.c,E,C.c,w.l,j.b.forChild(),W,G,Q]]}),e})()}}]);