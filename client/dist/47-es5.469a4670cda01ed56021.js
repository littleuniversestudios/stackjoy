function _classCallCheck(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}function _defineProperties(i,c){for(var n=0;n<c.length;n++){var t=c[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}function _createClass(i,c,n){return c&&_defineProperties(i.prototype,c),n&&_defineProperties(i,n),i}(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{X5JY:function(i,c,n){"use strict";n.r(c),n.d(c,"StackEditModule",(function(){return C}));var t=n("ofXK"),e=n("3Pt+"),a=n("bv9b"),s=n("tyNb"),r=n("quSY"),o=n("fXoL"),u=n("LvdB"),f=n("aECQ"),l=n("sCd9");function d(i,c){if(1&i){var n=o.jc();o.ic(0,"stack-form",8),o.uc("form",(function(i){return o.Rc(n),o.yc(2).setForm(i)})),o.hc()}if(2&i){var t=o.yc(2);o.Ec("model",t.stack)}}function h(i,c){1&i&&(o.ic(0,"span"),o.bd(1," Permission denied."),o.hc())}function v(i,c){if(1&i&&(o.ic(0,"span"),o.bd(1),o.hc()),2&i){var n=o.yc(3);o.Ob(1),o.cd(n.error)}}function b(i,c){if(1&i&&(o.ic(0,"div"),o.ic(1,"div",9),o.dc(2,"i",10),o.ic(3,"span",11),o.Zc(4,h,2,0,"span",12),o.Zc(5,v,2,1,"span",13),o.hc(),o.hc(),o.hc()),2&i){var n=o.yc(2);o.Ob(3),o.Ec("ngSwitch",n.error),o.Ob(1),o.Ec("ngSwitchCase","permission-denied")}}function p(i,c){if(1&i){var n=o.jc();o.ic(0,"div"),o.Zc(1,d,1,1,"stack-form",3),o.Zc(2,b,6,2,"div",4),o.ic(3,"div",5),o.ic(4,"button",6),o.uc("click",(function(){return o.Rc(n),o.yc().cancel()})),o.bd(5,"Cancel"),o.hc(),o.ic(6,"button",7),o.uc("click",(function(){return o.Rc(n),o.yc().save()})),o.bd(7,"Save"),o.hc(),o.hc(),o.hc()}if(2&i){var t=o.yc();o.Ob(1),o.Ec("ngIf",t.stack),o.Ob(1),o.Ec("ngIf",t.error),o.Ob(4),o.Ec("disabled",t.isInvalid)}}function g(i,c){1&i&&(o.ic(0,"div",0),o.dc(1,"mat-progress-bar",14),o.hc())}var k,m,y=s.e.forChild([{path:"",component:(k=function(){function i(c,n,t,e){_classCallCheck(this,i),this.stackService=c,this.route=n,this.location=t,this.afAuth=e,this.isInvalid=!0,this.subs=new r.a}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.id=this.route.snapshot.paramMap.get("id"),this.subs.add(this.afAuth.user.subscribe((function(c){i.user=c}))),this.getItem()}},{key:"ngOnDestroy",value:function(){this.subs.unsubscribe()}},{key:"getItem",value:function(){var i=this;this.acquiring=!0,this.stackService.getById(this.id).subscribe((function(c){i.stack=c,i.acquiring=!1}))}},{key:"cancel",value:function(){this.goBack()}},{key:"save",value:function(){var i=this;this.error=null,this.stack.update(this.form.value),this.stackService.update(this.stack).subscribe((function(c){i.goBack()}),(function(c){i.error=c.code}))}},{key:"setForm",value:function(i){var c=this;this.form=i,this.form.valueChanges.subscribe((function(i){return c.isInvalid=c.form.invalid})),setTimeout((function(){var i;return c.isInvalid=null===(i=c.form)||void 0===i?void 0:i.invalid}),0)}},{key:"goBack",value:function(){this.location.back()}}]),i}(),k.\u0275fac=function(i){return new(i||k)(o.cc(u.a),o.cc(s.a),o.cc(t.o),o.cc(f.a))},k.\u0275cmp=o.Wb({type:k,selectors:[["stack-edit"]],decls:6,vars:2,consts:[[1,"p-2"],[4,"ngIf","ngIfElse"],["loading",""],[3,"model","form",4,"ngIf"],[4,"ngIf"],[1,"pt-2"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-outline-primary",3,"disabled","click"],[3,"model","form"],[1,"py-2","text-warning"],[1,"fa","fa-exclamation-triangle","text-warning"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["mode","indeterminate"]],template:function(i,c){if(1&i&&(o.ic(0,"h5"),o.bd(1,"Edit Stack"),o.hc(),o.ic(2,"div",0),o.Zc(3,p,8,3,"div",1),o.hc(),o.Zc(4,g,2,0,"ng-template",null,2,o.ad)),2&i){var n=o.Nc(5);o.Ob(3),o.Ec("ngIf",!c.acquiring)("ngIfElse",n)}},directives:[t.u,l.a,t.y,t.z,t.A,a.a],styles:[""]}),k)}]),w=n("W7NP"),C=((m=function i(){_classCallCheck(this,i)}).\u0275mod=o.ac({type:m}),m.\u0275inj=o.Zb({factory:function(i){return new(i||m)},providers:[],imports:[[t.c,y,e.l,w.a,a.b]]}),m)}}]);