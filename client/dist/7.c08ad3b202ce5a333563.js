(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{iGsW:function(t,e,n){"use strict";n.r(e),n.d(e,"AppEnvironmentModule",(function(){return g}));var i=n("ofXK"),o=n("tyNb"),c=n("quSY"),s=n("HdQx"),a=n("0IaG"),b=n("fXoL"),r=n("MrDi"),d=n("bTqV");let h=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e}ngOnInit(){this.selectedPath=this.data.rootPath}ngOnDestroy(){}close(){this.dialogRef.close(null)}setCodebasePath(t){console.log("selected:",t),this.selectedPath=t}select(){this.dialogRef.close(this.selectedPath)}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(a.a),b.Mb(a.h))},t.\u0275cmp=b.Gb({type:t,selectors:[["file-path-dialog"]],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"rootPath","foldersOnly","onSelectedPath"],["mat-dialog-actions","",3,"align"],["tabindex","-1","mat-button","","mat-dialog-close",""],["tabindex","-1","mat-button","",3,"click"]],template:function(t,e){1&t&&(b.Sb(0,"h1",0),b.Ec(1,"Select Path"),b.Rb(),b.Sb(2,"div",1),b.Sb(3,"file-path",2),b.ac("onSelectedPath",(function(t){return e.setCodebasePath(t)})),b.Rb(),b.Rb(),b.Sb(4,"div",3),b.Sb(5,"button",4),b.Ec(6,"Cancel"),b.Rb(),b.Sb(7,"button",5),b.ac("click",(function(){return e.select()})),b.Ec(8,"Select"),b.Rb(),b.Rb()),2&t&&(b.Bb(3),b.kc("rootPath",e.data.rootPath)("foldersOnly",!0),b.Bb(1),b.kc("align","end"))},directives:[a.i,a.f,r.a,a.c,d.b,a.d],styles:[".mat-form-field[_ngcontent-%COMP%], .mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.mat-radio-button[_ngcontent-%COMP%]{margin:5px}"]}),t})();var l=n("ErrC");function p(t,e){1&t&&(b.Qb(0),b.Sb(1,"div",11),b.Ec(2,"This workspace is not associated with other codebases"),b.Rb(),b.Pb())}function m(t,e){if(1&t){const t=b.Tb();b.Sb(0,"tr"),b.Sb(1,"td",16),b.Ec(2),b.Rb(),b.Sb(3,"td",17),b.ac("click",(function(){b.sc(t);const e=b.ec().$implicit;return b.ec(3).switchCodebase(e)})),b.Nb(4,"i",18),b.Rb(),b.Sb(5,"td",17),b.ac("click",(function(){b.sc(t);const e=b.ec().$implicit;return b.ec(3).removeCodebase(e)})),b.Nb(6,"i",19),b.Rb(),b.Rb()}if(2&t){const t=b.ec().$implicit;b.Bb(2),b.Fc(t)}}function u(t,e){if(1&t&&(b.Qb(0),b.Cc(1,m,7,1,"tr",9),b.Pb()),2&t){const t=e.$implicit,n=b.ec(3);b.Bb(1),b.kc("ngIf",n.environment.codebasePath!==t)}}function f(t,e){if(1&t&&(b.Qb(0),b.Sb(1,"div",12),b.Sb(2,"table",13),b.Sb(3,"tr"),b.Sb(4,"th"),b.Ec(5,"Other Associated Codebases"),b.Rb(),b.Sb(6,"th",14),b.Ec(7,"Switch"),b.Rb(),b.Sb(8,"th",14),b.Ec(9,"Remove"),b.Rb(),b.Rb(),b.Cc(10,u,2,1,"ng-container",15),b.Rb(),b.Rb(),b.Pb()),2&t){const t=b.ec(2);b.Bb(10),b.kc("ngForOf",t.environment.associatedCodebasePaths)}}function v(t,e){if(1&t){const t=b.Tb();b.Qb(0),b.Cc(1,p,3,0,"ng-container",9),b.Cc(2,f,11,1,"ng-container",9),b.Sb(3,"button",10),b.ac("click",(function(){return b.sc(t),b.ec().addNewCodebase()})),b.Ec(4,"+ Associate with another codebase"),b.Rb(),b.Pb()}if(2&t){const t=b.ec();b.Bb(1),b.kc("ngIf",t.environment.associatedCodebasePaths.length<=1),b.Bb(1),b.kc("ngIf",t.environment.associatedCodebasePaths.length>1)}}const S=o.f.forChild([{path:"",component:(()=>{class t{constructor(t,e){this.appEnvironmentService=t,this.dialog=e,this.showOtherCodebases=!1,this.subs=new c.a}ngOnInit(){this.subs.add(this.appEnvironmentService.currentEnvironment$.subscribe(t=>this.environment=t))}isWorkSpace(){return this.environment.type===s.a.Environment.Type.Workspace}ngOnDestroy(){}isWorkspace(){return this.environment.type===s.a.Environment.Type.Workspace}toggleOtherCodebases(){this.showOtherCodebases=!this.showOtherCodebases}addNewCodebase(){this.dialog.open(h,{data:{rootPath:this.environment.codebasePath},minWidth:"600px",minHeight:"210px",position:{top:"100px"},autoFocus:!0}).afterClosed().subscribe(t=>{t&&(this.environment.associatedCodebasePaths.includes(t)||this.switchCodebase(t))})}switchCodebase(t){this.appEnvironmentService.switchCodebase(this.environment.id,t)}removeCodebase(t){this.appEnvironmentService.removeCodebase(this.environment.id,t)}}return t.\u0275fac=function(e){return new(e||t)(b.Mb(l.a),b.Mb(a.b))},t.\u0275cmp=b.Gb({type:t,selectors:[["app-environment"]],decls:29,vars:10,consts:[[1,"p-2"],[1,"text-capitalize"],[1,"fa","mt-1","mr-1"],[1,"table"],[1,"border-top-0"],[1,"border-top-0",2,"width","150px"],[1,"text-bold"],[1,""],[1,"pl-1","text-muted","cursor-pointer","text-tiny",3,"click"],[4,"ngIf"],["mat-raised-button","",1,"mt-2",3,"click"],[1,"py-3","text-muted"],[1,"pt-4"],[1,"simple-table",2,"min-width","800px"],[1,"text-center",2,"width","30px"],[4,"ngFor","ngForOf"],[1,"text-muted",2,"width","100px"],[1,"text-center","cursor-pointer",3,"click"],[1,"fa","fa-exchange-alt"],[1,"fa","fa-times-circle"]],template:function(t,e){1&t&&(b.Sb(0,"div",0),b.Sb(1,"h2",1),b.Sb(2,"span"),b.Nb(3,"i",2),b.Nb(4,"i",2),b.Rb(),b.Ec(5),b.Rb(),b.Sb(6,"table",3),b.Sb(7,"tr",4),b.Sb(8,"td",5),b.Ec(9," Name: "),b.Rb(),b.Sb(10,"td",4),b.Sb(11,"div",6),b.Ec(12),b.Rb(),b.Rb(),b.Rb(),b.Sb(13,"tr"),b.Sb(14,"td"),b.Ec(15,"Type:"),b.Rb(),b.Sb(16,"td"),b.Sb(17,"span",6),b.Ec(18),b.Rb(),b.Rb(),b.Rb(),b.Sb(19,"tr"),b.Sb(20,"td"),b.Sb(21,"div",7),b.Ec(22,"Codebase:"),b.Rb(),b.Sb(23,"div",8),b.ac("click",(function(){return e.toggleOtherCodebases()})),b.Ec(24),b.Rb(),b.Rb(),b.Sb(25,"td"),b.Sb(26,"div",6),b.Ec(27),b.Rb(),b.Cc(28,v,5,2,"ng-container",9),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.Bb(3),b.Eb("fa-dice-d6",e.isWorkspace()),b.Bb(1),b.Eb("fa-th-large",!e.isWorkspace()),b.Bb(1),b.Gc(" Current ",null==e.environment?null:e.environment.type," "),b.Bb(7),b.Gc(" ",e.environment.name,""),b.Bb(6),b.Fc(e.environment.type),b.Bb(6),b.Gc("[",e.showOtherCodebases?"hide":"show"," others]"),b.Bb(3),b.Fc(e.environment.codebasePath),b.Bb(1),b.kc("ngIf",e.showOtherCodebases))},directives:[i.t,d.b,i.s],styles:[""]}),t})()}]);let g=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,S,d.c]]}),t})()}}]);